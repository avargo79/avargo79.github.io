import{a as Ua,b as Qa,c as Ja,d as es,e as Oo}from"./chunk-XBDDS5DN.js";import{a as Be,b as gi}from"./chunk-74UU3GKF.js";import{a as kt,b as rt}from"./chunk-F6Y6LN5N.js";import{a as fi}from"./chunk-2R7G5OWL.js";import{a as ts,b as ns,c as hi}from"./chunk-VLIUOHDG.js";import{a as Ga,b as Ka,c as At,d as Ya,f as Rt,g as Za,h as Xa,i as Ae}from"./chunk-C6CP4LLD.js";import{a as at}from"./chunk-YOKPIRUX.js";import{a as ot}from"./chunk-EC5LA6IH.js";import{$ as ea,$a as Eo,$b as pn,A as tt,Aa as ca,Ab as Z,B as le,Ba as yo,Bb as F,C as ze,Ca as la,Cb as mt,D as lt,Da as sn,Db as s,E as Hr,Ea as Mo,Eb as x,F as _o,Fa as So,Fb as y,G as he,Ga as cn,Gb as oe,H as Br,Ha as da,Hb as Sa,I as Wr,Ia as pa,Ib as wa,J as qr,Jb as li,K as Gr,Ka as a,Kb as di,L as ni,La as ln,Lb as pi,M as nt,Ma as ua,Mb as Ea,N as Co,Na as ma,Nb as ui,O as xo,Oa as St,Ob as Et,P as Kr,Pa as je,Pb as Ot,Q as Yr,Qa as ga,Qb as Oa,R as Zr,Rb as Pa,S as Mt,Sa as it,Sb as $e,T as Xr,Ta as fa,Tb as T,U as Qr,Ua as ha,Ub as Ze,V as Jr,Va as wo,Vb as Ve,W as ae,Wa as Q,Wb as He,X as dt,Xa as va,Xb as Pt,Y as ue,Ya as ri,Yb as Ta,Z as ii,Za as _a,Zb as ka,_ as Y,_a as Ca,a as w,aa as U,ab as xa,ac as Ia,b as L,ba as ta,bb as dn,bc as Aa,c as J,ca as B,cb as ba,cc as mi,d as Fr,da as I,db as $,dc as Ra,e as jr,ea as b,eb as v,ec as Da,f as xe,fa as Ue,fb as _,fc as Na,g as fo,ga as nn,gb as ya,gc as Fa,h as ho,ha as na,hb as be,hc as ne,i as ge,ia as on,ib as A,ic as ja,j as fe,ja as Fe,jb as R,jc as La,k as Lr,ka as E,kb as z,kc as za,l as Jn,la as O,lb as l,lc as Tt,m as Ne,ma as rn,mb as d,mc as $a,n as ei,na as oi,nb as N,nc as Va,o as Te,oa as ke,ob as g,oc as Ha,p as V,pa as Ie,pb as f,pc as Ba,q as tn,qa as an,qb as ye,qc as Wa,r as zr,ra as pt,rb as Ma,rc as qa,s as Ur,sa as bo,sb as D,sc as It,t as $r,ta as ia,tb as wt,u as H,ua as P,ub as S,v as vo,va as oa,vb as q,w as ve,wa as ra,wb as u,x as Vr,xa as aa,xb as ai,y as ti,ya as ut,yb as si,z as yt,za as sa,zb as ci}from"./chunk-IQ6ZNRPZ.js";var un=class{_doc;constructor(t){this._doc=t}manager},vi=(()=>{class n extends un{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,o,r){return e.addEventListener(i,o,r),()=>this.removeEventListener(e,i,o,r)}removeEventListener(e,i,o,r){return e.removeEventListener(i,o,r)}static \u0275fac=function(i){return new(i||n)(I(Ie))};static \u0275prov=U({token:n,factory:n.\u0275fac})}return n})(),Ci=new B(""),Ao=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(e,i){this._zone=i,e.forEach(c=>{c.manager=this});let o=e.filter(c=>!(c instanceof vi));this._plugins=o.slice().reverse();let r=e.find(c=>c instanceof vi);r&&this._plugins.push(r)}addEventListener(e,i,o,r){return this._findPluginFor(i).addEventListener(e,i,o,r)}getZone(){return this._zone}_findPluginFor(e){let i=this._eventNameToPlugin.get(e);if(i)return i;if(i=this._plugins.find(r=>r.supports(e)),!i)throw new Y(5101,!1);return this._eventNameToPlugin.set(e,i),i}static \u0275fac=function(i){return new(i||n)(I(Ci),I(je))};static \u0275prov=U({token:n,factory:n.\u0275fac})}return n})(),Po="ng-app-id";function is(n){for(let t of n)t.remove()}function os(n,t){let e=t.createElement("style");return e.textContent=n,e}function bl(n,t,e,i){let o=n.head?.querySelectorAll(`style[${Po}="${t}"],link[${Po}="${t}"]`);if(o)for(let r of o)r.removeAttribute(Po),r instanceof HTMLLinkElement?i.set(r.href.slice(r.href.lastIndexOf("/")+1),{usage:0,elements:[r]}):r.textContent&&e.set(r.textContent,{usage:0,elements:[r]})}function ko(n,t){let e=t.createElement("link");return e.setAttribute("rel","stylesheet"),e.setAttribute("href",n),e}var Ro=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(e,i,o,r={}){this.doc=e,this.appId=i,this.nonce=o,bl(e,i,this.inline,this.external),this.hosts.add(e.head)}addStyles(e,i){for(let o of e)this.addUsage(o,this.inline,os);i?.forEach(o=>this.addUsage(o,this.external,ko))}removeStyles(e,i){for(let o of e)this.removeUsage(o,this.inline);i?.forEach(o=>this.removeUsage(o,this.external))}addUsage(e,i,o){let r=i.get(e);r?r.usage++:i.set(e,{usage:1,elements:[...this.hosts].map(c=>this.addElement(c,o(e,this.doc)))})}removeUsage(e,i){let o=i.get(e);o&&(o.usage--,o.usage<=0&&(is(o.elements),i.delete(e)))}ngOnDestroy(){for(let[,{elements:e}]of[...this.inline,...this.external])is(e);this.hosts.clear()}addHost(e){this.hosts.add(e);for(let[i,{elements:o}]of this.inline)o.push(this.addElement(e,os(i,this.doc)));for(let[i,{elements:o}]of this.external)o.push(this.addElement(e,ko(i,this.doc)))}removeHost(e){this.hosts.delete(e)}addElement(e,i){return this.nonce&&i.setAttribute("nonce",this.nonce),e.appendChild(i)}static \u0275fac=function(i){return new(i||n)(I(Ie),I(yo),I(Mo,8),I(sn))};static \u0275prov=U({token:n,factory:n.\u0275fac})}return n})(),To={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Do=/%COMP%/g;var as="%COMP%",yl=`_nghost-${as}`,Ml=`_ngcontent-${as}`,Sl=!0,wl=new B("",{providedIn:"root",factory:()=>Sl});function El(n){return Ml.replace(Do,n)}function Ol(n){return yl.replace(Do,n)}function ss(n,t){return t.map(e=>e.replace(Do,n))}var No=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(e,i,o,r,c,p,m,h=null,C=null){this.eventManager=e,this.sharedStylesHost=i,this.appId=o,this.removeStylesOnCompDestroy=r,this.doc=c,this.platformId=p,this.ngZone=m,this.nonce=h,this.tracingService=C,this.platformIsServer=!1,this.defaultRenderer=new mn(e,c,m,this.platformIsServer,this.tracingService)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;let o=this.getOrCreateRenderer(e,i);return o instanceof _i?o.applyToHost(e):o instanceof gn&&o.applyStyles(),o}getOrCreateRenderer(e,i){let o=this.rendererByCompId,r=o.get(i.id);if(!r){let c=this.doc,p=this.ngZone,m=this.eventManager,h=this.sharedStylesHost,C=this.removeStylesOnCompDestroy,M=this.platformIsServer,k=this.tracingService;switch(i.encapsulation){case So.Emulated:r=new _i(m,h,i,this.appId,C,c,p,M,k);break;case So.ShadowDom:return new Io(m,h,e,i,c,p,this.nonce,M,k);default:r=new gn(m,h,i,C,c,p,M,k);break}o.set(i.id,r)}return r}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(e){this.rendererByCompId.delete(e)}static \u0275fac=function(i){return new(i||n)(I(Ao),I(Ro),I(yo),I(wl),I(Ie),I(sn),I(je),I(Mo),I(ma,8))};static \u0275prov=U({token:n,factory:n.\u0275fac})}return n})(),mn=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(t,e,i,o,r){this.eventManager=t,this.doc=e,this.ngZone=i,this.platformIsServer=o,this.tracingService=r}destroy(){}destroyNode=null;createElement(t,e){return e?this.doc.createElementNS(To[e]||e,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,e){(rs(t)?t.content:t).appendChild(e)}insertBefore(t,e,i){t&&(rs(t)?t.content:t).insertBefore(e,i)}removeChild(t,e){e.remove()}selectRootElement(t,e){let i=typeof t=="string"?this.doc.querySelector(t):t;if(!i)throw new Y(-5104,!1);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,o){if(o){e=o+":"+e;let r=To[o];r?t.setAttributeNS(r,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){let o=To[i];o?t.removeAttributeNS(o,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,o){o&(ln.DashCase|ln.Important)?t.style.setProperty(e,i,o&ln.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&ln.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t!=null&&(t[e]=i)}setValue(t,e){t.nodeValue=e}listen(t,e,i,o){if(typeof t=="string"&&(t=pn().getGlobalEventTarget(this.doc,t),!t))throw new Y(5102,!1);let r=this.decoratePreventDefault(i);return this.tracingService?.wrapEventListener&&(r=this.tracingService.wrapEventListener(t,e,r)),this.eventManager.addEventListener(t,e,r,o)}decoratePreventDefault(t){return e=>{if(e==="__ngUnwrap__")return t;t(e)===!1&&e.preventDefault()}}};function rs(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var Io=class extends mn{sharedStylesHost;hostEl;shadowRoot;constructor(t,e,i,o,r,c,p,m,h){super(t,r,c,m,h),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let C=o.styles;C=ss(o.id,C);for(let k of C){let K=document.createElement("style");p&&K.setAttribute("nonce",p),K.textContent=k,this.shadowRoot.appendChild(K)}let M=o.getExternalStyles?.();if(M)for(let k of M){let K=ko(k,r);p&&K.setAttribute("nonce",p),this.shadowRoot.appendChild(K)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(null,e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},gn=class extends mn{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(t,e,i,o,r,c,p,m,h){super(t,r,c,p,m),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=o;let C=i.styles;this.styles=h?ss(h,C):C,this.styleUrls=i.getExternalStyles?.(h)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&ua.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},_i=class extends gn{contentAttr;hostAttr;constructor(t,e,i,o,r,c,p,m,h){let C=o+"-"+i.id;super(t,e,i,r,c,p,m,h,C),this.contentAttr=El(C),this.hostAttr=Ol(C)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){let i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}};var xi=class n extends Aa{supportsDOMEvents=!0;static makeCurrent(){Ia(new n)}onAndCancel(t,e,i,o){return t.addEventListener(e,i,o),()=>{t.removeEventListener(e,i,o)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.remove()}createElement(t,e){return e=e||this.getDefaultDocument(),e.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return e==="window"?window:e==="document"?t:e==="body"?t.body:null}getBaseHref(t){let e=Pl();return e==null?null:Tl(e)}resetBaseElement(){fn=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return ja(document.cookie,t)}},fn=null;function Pl(){return fn=fn||document.head.querySelector("base"),fn?fn.getAttribute("href"):null}function Tl(n){return new URL(n,document.baseURI).pathname}var kl=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(i){return new(i||n)};static \u0275prov=U({token:n,factory:n.\u0275fac})}return n})(),cs=["alt","control","meta","shift"],Il={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Al={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},ls=(()=>{class n extends un{constructor(e){super(e)}supports(e){return n.parseEventName(e)!=null}addEventListener(e,i,o,r){let c=n.parseEventName(i),p=n.eventCallback(c.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>pn().onAndCancel(e,c.domEventName,p,r))}static parseEventName(e){let i=e.toLowerCase().split("."),o=i.shift();if(i.length===0||!(o==="keydown"||o==="keyup"))return null;let r=n._normalizeKey(i.pop()),c="",p=i.indexOf("code");if(p>-1&&(i.splice(p,1),c="code."),cs.forEach(h=>{let C=i.indexOf(h);C>-1&&(i.splice(C,1),c+=h+".")}),c+=r,i.length!=0||r.length===0)return null;let m={};return m.domEventName=o,m.fullKey=c,m}static matchEventFullKeyCode(e,i){let o=Il[e.key]||e.key,r="";return i.indexOf("code.")>-1&&(o=e.code,r="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),cs.forEach(c=>{if(c!==o){let p=Al[c];p(e)&&(r+=c+".")}}),r+=o,r===i)}static eventCallback(e,i,o){return r=>{n.matchEventFullKeyCode(r,e)&&o.runGuarded(()=>i(r))}}static _normalizeKey(e){return e==="esc"?"escape":e}static \u0275fac=function(i){return new(i||n)(I(Ie))};static \u0275prov=U({token:n,factory:n.\u0275fac})}return n})();function Fo(n,t,e){let i=w({rootComponent:n,platformRef:e?.platformRef},Rl(t));return ka(i)}function Rl(n){return{appProviders:[...Ll,...n?.providers??[]],platformProviders:jl}}function Dl(){xi.makeCurrent()}function Nl(){return new pt}function Fl(){return ca(document),document}var jl=[{provide:sn,useValue:za},{provide:la,useValue:Dl,multi:!0},{provide:Ie,useFactory:Fl}];var Ll=[{provide:na,useValue:"root"},{provide:pt,useFactory:Nl},{provide:Ci,useClass:vi,multi:!0,deps:[Ie]},{provide:Ci,useClass:ls,multi:!0,deps:[Ie]},No,Ro,Ao,{provide:ga,useExisting:No},{provide:La,useClass:kl},[]];var ds=(()=>{class n{_doc;constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static \u0275fac=function(i){return new(i||n)(I(Ie))};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var G="primary",An=Symbol("RouteTitle"),$o=class{params;constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){let e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}};function ht(n){return new $o(n)}function _s(n,t,e){let i=e.path.split("/");if(i.length>n.length||e.pathMatch==="full"&&(t.hasChildren()||i.length<n.length))return null;let o={};for(let r=0;r<i.length;r++){let c=i[r],p=n[r];if(c[0]===":")o[c.substring(1)]=p;else if(c!==p.path)return null}return{consumed:n.slice(0,i.length),posParams:o}}function Ul(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!We(n[e],t[e]))return!1;return!0}function We(n,t){let e=n?Vo(n):void 0,i=t?Vo(t):void 0;if(!e||!i||e.length!=i.length)return!1;let o;for(let r=0;r<e.length;r++)if(o=e[r],!Cs(n[o],t[o]))return!1;return!0}function Vo(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function Cs(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;let e=[...n].sort(),i=[...t].sort();return e.every((o,r)=>i[r]===o)}else return n===t}function xs(n){return n.length>0?n[n.length-1]:null}function Je(n){return zr(n)?n:Ca(n)?Te(Promise.resolve(n)):V(n)}var $l={exact:ys,subset:Ms},bs={exact:Vl,subset:Hl,ignored:()=>!0};function ps(n,t,e){return $l[e.paths](n.root,t.root,e.matrixParams)&&bs[e.queryParams](n.queryParams,t.queryParams)&&!(e.fragment==="exact"&&n.fragment!==t.fragment)}function Vl(n,t){return We(n,t)}function ys(n,t,e){if(!gt(n.segments,t.segments)||!Mi(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(let i in t.children)if(!n.children[i]||!ys(n.children[i],t.children[i],e))return!1;return!0}function Hl(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>Cs(n[e],t[e]))}function Ms(n,t,e){return Ss(n,t,t.segments,e)}function Ss(n,t,e,i){if(n.segments.length>e.length){let o=n.segments.slice(0,e.length);return!(!gt(o,e)||t.hasChildren()||!Mi(o,e,i))}else if(n.segments.length===e.length){if(!gt(n.segments,e)||!Mi(n.segments,e,i))return!1;for(let o in t.children)if(!n.children[o]||!Ms(n.children[o],t.children[o],i))return!1;return!0}else{let o=e.slice(0,n.segments.length),r=e.slice(n.segments.length);return!gt(n.segments,o)||!Mi(n.segments,o,i)||!n.children[G]?!1:Ss(n.children[G],t,r,i)}}function Mi(n,t,e){return t.every((i,o)=>bs[e](n[o].parameters,i.parameters))}var Ge=class{root;queryParams;fragment;_queryParamMap;constructor(t=new X([],{}),e={},i=null){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap??=ht(this.queryParams),this._queryParamMap}toString(){return ql.serialize(this)}},X=class{segments;children;parent=null;constructor(t,e){this.segments=t,this.children=e,Object.values(e).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Si(this)}},st=class{path;parameters;_parameterMap;constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap??=ht(this.parameters),this._parameterMap}toString(){return Es(this)}};function Bl(n,t){return gt(n,t)&&n.every((e,i)=>We(e.parameters,t[i].parameters))}function gt(n,t){return n.length!==t.length?!1:n.every((e,i)=>e.path===t[i].path)}function Wl(n,t){let e=[];return Object.entries(n.children).forEach(([i,o])=>{i===G&&(e=e.concat(t(o,i)))}),Object.entries(n.children).forEach(([i,o])=>{i!==G&&(e=e.concat(t(o,i)))}),e}var Rn=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275prov=U({token:n,factory:()=>new vt,providedIn:"root"})}return n})(),vt=class{parse(t){let e=new Bo(t);return new Ge(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){let e=`/${_n(t.root,!0)}`,i=Yl(t.queryParams),o=typeof t.fragment=="string"?`#${Gl(t.fragment)}`:"";return`${e}${i}${o}`}},ql=new vt;function Si(n){return n.segments.map(t=>Es(t)).join("/")}function _n(n,t){if(!n.hasChildren())return Si(n);if(t){let e=n.children[G]?_n(n.children[G],!1):"",i=[];return Object.entries(n.children).forEach(([o,r])=>{o!==G&&i.push(`${o}:${_n(r,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}else{let e=Wl(n,(i,o)=>o===G?[_n(n.children[G],!1)]:[`${o}:${_n(i,!1)}`]);return Object.keys(n.children).length===1&&n.children[G]!=null?`${Si(n)}/${e[0]}`:`${Si(n)}/(${e.join("//")})`}}function ws(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function bi(n){return ws(n).replace(/%3B/gi,";")}function Gl(n){return encodeURI(n)}function Ho(n){return ws(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function wi(n){return decodeURIComponent(n)}function us(n){return wi(n.replace(/\+/g,"%20"))}function Es(n){return`${Ho(n.path)}${Kl(n.parameters)}`}function Kl(n){return Object.entries(n).map(([t,e])=>`;${Ho(t)}=${Ho(e)}`).join("")}function Yl(n){let t=Object.entries(n).map(([e,i])=>Array.isArray(i)?i.map(o=>`${bi(e)}=${bi(o)}`).join("&"):`${bi(e)}=${bi(i)}`).filter(e=>e);return t.length?`?${t.join("&")}`:""}var Zl=/^[^\/()?;#]+/;function jo(n){let t=n.match(Zl);return t?t[0]:""}var Xl=/^[^\/()?;=#]+/;function Ql(n){let t=n.match(Xl);return t?t[0]:""}var Jl=/^[^=?&#]+/;function ed(n){let t=n.match(Jl);return t?t[0]:""}var td=/^[^&#]+/;function nd(n){let t=n.match(td);return t?t[0]:""}var Bo=class{url;remaining;constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new X([],{}):new X([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[G]=new X(t,e)),i}parseSegment(){let t=jo(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new Y(4009,!1);return this.capture(t),new st(wi(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let e=Ql(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){let o=jo(this.remaining);o&&(i=o,this.capture(i))}t[wi(e)]=wi(i)}parseQueryParam(t){let e=ed(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){let c=nd(this.remaining);c&&(i=c,this.capture(i))}let o=us(e),r=us(i);if(t.hasOwnProperty(o)){let c=t[o];Array.isArray(c)||(c=[c],t[o]=c),c.push(r)}else t[o]=r}parseParens(t){let e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=jo(this.remaining),o=this.remaining[i.length];if(o!=="/"&&o!==")"&&o!==";")throw new Y(4010,!1);let r;i.indexOf(":")>-1?(r=i.slice(0,i.indexOf(":")),this.capture(r),this.capture(":")):t&&(r=G);let c=this.parseChildren();e[r]=Object.keys(c).length===1?c[G]:new X([],c),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new Y(4011,!1)}};function Os(n){return n.segments.length>0?new X([],{[G]:n}):n}function Ps(n){let t={};for(let[i,o]of Object.entries(n.children)){let r=Ps(o);if(i===G&&r.segments.length===0&&r.hasChildren())for(let[c,p]of Object.entries(r.children))t[c]=p;else(r.segments.length>0||r.hasChildren())&&(t[i]=r)}let e=new X(n.segments,t);return id(e)}function id(n){if(n.numberOfChildren===1&&n.children[G]){let t=n.children[G];return new X(n.segments.concat(t.segments),t.children)}return n}function Lt(n){return n instanceof Ge}function Ts(n,t,e=null,i=null){let o=ks(n);return Is(o,t,e,i)}function ks(n){let t;function e(r){let c={};for(let m of r.children){let h=e(m);c[m.outlet]=h}let p=new X(r.url,c);return r===n&&(t=p),p}let i=e(n.root),o=Os(i);return t??o}function Is(n,t,e,i){let o=n;for(;o.parent;)o=o.parent;if(t.length===0)return Lo(o,o,o,e,i);let r=od(t);if(r.toRoot())return Lo(o,o,new X([],{}),e,i);let c=rd(r,o,n),p=c.processChildren?xn(c.segmentGroup,c.index,r.commands):Rs(c.segmentGroup,c.index,r.commands);return Lo(o,c.segmentGroup,p,e,i)}function Ei(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Mn(n){return typeof n=="object"&&n!=null&&n.outlets}function Lo(n,t,e,i,o){let r={};i&&Object.entries(i).forEach(([m,h])=>{r[m]=Array.isArray(h)?h.map(C=>`${C}`):`${h}`});let c;n===t?c=e:c=As(n,t,e);let p=Os(Ps(c));return new Ge(p,r,o)}function As(n,t,e){let i={};return Object.entries(n.children).forEach(([o,r])=>{r===t?i[o]=e:i[o]=As(r,t,e)}),new X(n.segments,i)}var Oi=class{isAbsolute;numberOfDoubleDots;commands;constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&Ei(i[0]))throw new Y(4003,!1);let o=i.find(Mn);if(o&&o!==xs(i))throw new Y(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function od(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new Oi(!0,0,n);let t=0,e=!1,i=n.reduce((o,r,c)=>{if(typeof r=="object"&&r!=null){if(r.outlets){let p={};return Object.entries(r.outlets).forEach(([m,h])=>{p[m]=typeof h=="string"?h.split("/"):h}),[...o,{outlets:p}]}if(r.segmentPath)return[...o,r.segmentPath]}return typeof r!="string"?[...o,r]:c===0?(r.split("/").forEach((p,m)=>{m==0&&p==="."||(m==0&&p===""?e=!0:p===".."?t++:p!=""&&o.push(p))}),o):[...o,r]},[]);return new Oi(e,t,i)}var Ft=class{segmentGroup;processChildren;index;constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}};function rd(n,t,e){if(n.isAbsolute)return new Ft(t,!0,0);if(!e)return new Ft(t,!1,NaN);if(e.parent===null)return new Ft(e,!0,0);let i=Ei(n.commands[0])?0:1,o=e.segments.length-1+i;return ad(e,o,n.numberOfDoubleDots)}function ad(n,t,e){let i=n,o=t,r=e;for(;r>o;){if(r-=o,i=i.parent,!i)throw new Y(4005,!1);o=i.segments.length}return new Ft(i,!1,o-r)}function sd(n){return Mn(n[0])?n[0].outlets:{[G]:n}}function Rs(n,t,e){if(n??=new X([],{}),n.segments.length===0&&n.hasChildren())return xn(n,t,e);let i=cd(n,t,e),o=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){let r=new X(n.segments.slice(0,i.pathIndex),{});return r.children[G]=new X(n.segments.slice(i.pathIndex),n.children),xn(r,0,o)}else return i.match&&o.length===0?new X(n.segments,{}):i.match&&!n.hasChildren()?Wo(n,t,e):i.match?xn(n,0,o):Wo(n,t,e)}function xn(n,t,e){if(e.length===0)return new X(n.segments,{});{let i=sd(e),o={};if(Object.keys(i).some(r=>r!==G)&&n.children[G]&&n.numberOfChildren===1&&n.children[G].segments.length===0){let r=xn(n.children[G],t,e);return new X(n.segments,r.children)}return Object.entries(i).forEach(([r,c])=>{typeof c=="string"&&(c=[c]),c!==null&&(o[r]=Rs(n.children[r],t,c))}),Object.entries(n.children).forEach(([r,c])=>{i[r]===void 0&&(o[r]=c)}),new X(n.segments,o)}}function cd(n,t,e){let i=0,o=t,r={match:!1,pathIndex:0,commandIndex:0};for(;o<n.segments.length;){if(i>=e.length)return r;let c=n.segments[o],p=e[i];if(Mn(p))break;let m=`${p}`,h=i<e.length-1?e[i+1]:null;if(o>0&&m===void 0)break;if(m&&h&&typeof h=="object"&&h.outlets===void 0){if(!gs(m,h,c))return r;i+=2}else{if(!gs(m,{},c))return r;i++}o++}return{match:!0,pathIndex:o,commandIndex:i}}function Wo(n,t,e){let i=n.segments.slice(0,t),o=0;for(;o<e.length;){let r=e[o];if(Mn(r)){let m=ld(r.outlets);return new X(i,m)}if(o===0&&Ei(e[0])){let m=n.segments[t];i.push(new st(m.path,ms(e[0]))),o++;continue}let c=Mn(r)?r.outlets[G]:`${r}`,p=o<e.length-1?e[o+1]:null;c&&p&&Ei(p)?(i.push(new st(c,ms(p))),o+=2):(i.push(new st(c,{})),o++)}return new X(i,{})}function ld(n){let t={};return Object.entries(n).forEach(([e,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(t[e]=Wo(new X([],{}),0,i))}),t}function ms(n){let t={};return Object.entries(n).forEach(([e,i])=>t[e]=`${i}`),t}function gs(n,t,e){return n==e.path&&We(t,e.parameters)}var bn="imperative",pe=(function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n})(pe||{}),Se=class{id;url;constructor(t,e){this.id=t,this.url=e}},_t=class extends Se{type=pe.NavigationStart;navigationTrigger;restoredState;constructor(t,e,i="imperative",o=null){super(t,e),this.navigationTrigger=i,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Xe=class extends Se{urlAfterRedirects;type=pe.NavigationEnd;constructor(t,e,i){super(t,e),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},_e=(function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n[n.Aborted=4]="Aborted",n})(_e||{}),Sn=(function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n})(Sn||{}),qe=class extends Se{reason;code;type=pe.NavigationCancel;constructor(t,e,i,o){super(t,e),this.reason=i,this.code=o}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Qe=class extends Se{reason;code;type=pe.NavigationSkipped;constructor(t,e,i,o){super(t,e),this.reason=i,this.code=o}},zt=class extends Se{error;target;type=pe.NavigationError;constructor(t,e,i,o){super(t,e),this.error=i,this.target=o}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},wn=class extends Se{urlAfterRedirects;state;type=pe.RoutesRecognized;constructor(t,e,i,o){super(t,e),this.urlAfterRedirects=i,this.state=o}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Pi=class extends Se{urlAfterRedirects;state;type=pe.GuardsCheckStart;constructor(t,e,i,o){super(t,e),this.urlAfterRedirects=i,this.state=o}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ti=class extends Se{urlAfterRedirects;state;shouldActivate;type=pe.GuardsCheckEnd;constructor(t,e,i,o,r){super(t,e),this.urlAfterRedirects=i,this.state=o,this.shouldActivate=r}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},ki=class extends Se{urlAfterRedirects;state;type=pe.ResolveStart;constructor(t,e,i,o){super(t,e),this.urlAfterRedirects=i,this.state=o}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ii=class extends Se{urlAfterRedirects;state;type=pe.ResolveEnd;constructor(t,e,i,o){super(t,e),this.urlAfterRedirects=i,this.state=o}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ai=class{route;type=pe.RouteConfigLoadStart;constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Ri=class{route;type=pe.RouteConfigLoadEnd;constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Di=class{snapshot;type=pe.ChildActivationStart;constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ni=class{snapshot;type=pe.ChildActivationEnd;constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Fi=class{snapshot;type=pe.ActivationStart;constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ji=class{snapshot;type=pe.ActivationEnd;constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var En=class{},Ut=class{url;navigationBehaviorOptions;constructor(t,e){this.url=t,this.navigationBehaviorOptions=e}};function dd(n){return!(n instanceof En)&&!(n instanceof Ut)}function pd(n,t){return n.providers&&!n._injector&&(n._injector=wo(n.providers,t,`Route: ${n.path}`)),n._injector??t}function Le(n){return n.outlet||G}function ud(n,t){let e=n.filter(i=>Le(i)===t);return e.push(...n.filter(i=>Le(i)!==t)),e}function Ht(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){let e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}var Li=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Ht(this.route?.snapshot)??this.rootInjector}constructor(t){this.rootInjector=t,this.children=new Bt(this.rootInjector)}},Bt=(()=>{class n{rootInjector;contexts=new Map;constructor(e){this.rootInjector=e}onChildOutletCreated(e,i){let o=this.getOrCreateContext(e);o.outlet=i,this.contexts.set(e,o)}onChildOutletDestroyed(e){let i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new Li(this.rootInjector),this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}static \u0275fac=function(i){return new(i||n)(I(on))};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),zi=class{_root;constructor(t){this._root=t}get root(){return this._root.value}parent(t){let e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){let e=qo(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){let e=qo(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){let e=Go(t,this._root);return e.length<2?[]:e[e.length-2].children.map(o=>o.value).filter(o=>o!==t)}pathFromRoot(t){return Go(t,this._root).map(e=>e.value)}};function qo(n,t){if(n===t.value)return t;for(let e of t.children){let i=qo(n,e);if(i)return i}return null}function Go(n,t){if(n===t.value)return[t];for(let e of t.children){let i=Go(n,e);if(i.length)return i.unshift(t),i}return[]}var Me=class{value;children;constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}};function Nt(n){let t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}var On=class extends zi{snapshot;constructor(t,e){super(t),this.snapshot=e,tr(this,t)}toString(){return this.snapshot.toString()}};function Ds(n){let t=md(n),e=new fe([new st("",{})]),i=new fe({}),o=new fe({}),r=new fe({}),c=new fe(""),p=new ct(e,i,r,c,o,G,n,t.root);return p.snapshot=t.root,new On(new Me(p,[]),t)}function md(n){let t={},e={},i={},r=new ft([],t,i,"",e,G,n,null,{});return new Pn("",new Me(r,[]))}var ct=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(t,e,i,o,r,c,p,m){this.urlSubject=t,this.paramsSubject=e,this.queryParamsSubject=i,this.fragmentSubject=o,this.dataSubject=r,this.outlet=c,this.component=p,this._futureSnapshot=m,this.title=this.dataSubject?.pipe(H(h=>h[An]))??V(void 0),this.url=t,this.params=e,this.queryParams=i,this.fragment=o,this.data=r}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(H(t=>ht(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(H(t=>ht(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Ui(n,t,e="emptyOnly"){let i,{routeConfig:o}=n;return t!==null&&(e==="always"||o?.path===""||!t.component&&!t.routeConfig?.loadComponent)?i={params:w(w({},t.params),n.params),data:w(w({},t.data),n.data),resolve:w(w(w(w({},n.data),t.data),o?.data),n._resolvedData)}:i={params:w({},n.params),data:w({},n.data),resolve:w(w({},n.data),n._resolvedData??{})},o&&Fs(o)&&(i.resolve[An]=o.title),i}var ft=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[An]}constructor(t,e,i,o,r,c,p,m,h){this.url=t,this.params=e,this.queryParams=i,this.fragment=o,this.data=r,this.outlet=c,this.component=p,this.routeConfig=m,this._resolve=h}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=ht(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=ht(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(i=>i.toString()).join("/"),e=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${e}')`}},Pn=class extends zi{url;constructor(t,e){super(e),this.url=t,tr(this,e)}toString(){return Ns(this._root)}};function tr(n,t){t.value._routerState=n,t.children.forEach(e=>tr(n,e))}function Ns(n){let t=n.children.length>0?` { ${n.children.map(Ns).join(", ")} } `:"";return`${n.value}${t}`}function zo(n){if(n.snapshot){let t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,We(t.queryParams,e.queryParams)||n.queryParamsSubject.next(e.queryParams),t.fragment!==e.fragment&&n.fragmentSubject.next(e.fragment),We(t.params,e.params)||n.paramsSubject.next(e.params),Ul(t.url,e.url)||n.urlSubject.next(e.url),We(t.data,e.data)||n.dataSubject.next(e.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function Ko(n,t){let e=We(n.params,t.params)&&Bl(n.url,t.url),i=!n.parent!=!t.parent;return e&&!i&&(!n.parent||Ko(n.parent,t.parent))}function Fs(n){return typeof n.title=="string"||n.title===null}var js=new B(""),Dn=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=G;activateEvents=new St;deactivateEvents=new St;attachEvents=new St;detachEvents=new St;routerOutletData=He(void 0);parentContexts=b(Bt);location=b(fa);changeDetector=b(Ta);inputBinder=b(Bi,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(e){if(e.name){let{firstChange:i,previousValue:o}=e.name;if(i)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Y(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Y(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Y(4012,!1);this.location.detach();let e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){let e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new Y(4013,!1);this._activatedRoute=e;let o=this.location,c=e.snapshot.component,p=this.parentContexts.getOrCreateContext(this.name).children,m=new Yo(e,p,o.injector,this.routerOutletData);this.activated=o.createComponent(c,{index:o.length,injector:m,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(i){return new(i||n)};static \u0275dir=va({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[aa]})}return n})(),Yo=class{route;childContexts;parent;outletData;constructor(t,e,i,o){this.route=t,this.childContexts=e,this.parent=i,this.outletData=o}get(t,e){return t===ct?this.route:t===Bt?this.childContexts:t===js?this.outletData:this.parent.get(t,e)}},Bi=new B("");var nr=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=Q({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(i,o){i&1&&N(0,"router-outlet")},dependencies:[Dn],encapsulation:2})}return n})();function ir(n){let t=n.children&&n.children.map(ir),e=t?L(w({},n),{children:t}):w({},n);return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==G&&(e.component=nr),e}function gd(n,t,e){let i=Tn(n,t._root,e?e._root:void 0);return new On(i,t)}function Tn(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){let i=e.value;i._futureSnapshot=t.value;let o=fd(n,t,e);return new Me(i,o)}else{if(n.shouldAttach(t.value)){let r=n.retrieve(t.value);if(r!==null){let c=r.route;return c.value._futureSnapshot=t.value,c.children=t.children.map(p=>Tn(n,p)),c}}let i=hd(t.value),o=t.children.map(r=>Tn(n,r));return new Me(i,o)}}function fd(n,t,e){return t.children.map(i=>{for(let o of e.children)if(n.shouldReuseRoute(i.value,o.value.snapshot))return Tn(n,i,o);return Tn(n,i)})}function hd(n){return new ct(new fe(n.url),new fe(n.params),new fe(n.queryParams),new fe(n.fragment),new fe(n.data),n.outlet,n.component,n)}var $t=class{redirectTo;navigationBehaviorOptions;constructor(t,e){this.redirectTo=t,this.navigationBehaviorOptions=e}},Ls="ngNavigationCancelingError";function $i(n,t){let{redirectTo:e,navigationBehaviorOptions:i}=Lt(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,o=zs(!1,_e.Redirect);return o.url=e,o.navigationBehaviorOptions=i,o}function zs(n,t){let e=new Error(`NavigationCancelingError: ${n||""}`);return e[Ls]=!0,e.cancellationCode=t,e}function vd(n){return Us(n)&&Lt(n.url)}function Us(n){return!!n&&n[Ls]}var _d=(n,t,e,i)=>H(o=>(new Zo(t,o.targetRouterState,o.currentRouterState,e,i).activate(n),o)),Zo=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(t,e,i,o,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=o,this.inputBindingEnabled=r}activate(t){let e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),zo(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){let o=Nt(e);t.children.forEach(r=>{let c=r.value.outlet;this.deactivateRoutes(r,o[c],i),delete o[c]}),Object.values(o).forEach(r=>{this.deactivateRouteAndItsChildren(r,i)})}deactivateRoutes(t,e,i){let o=t.value,r=e?e.value:null;if(o===r)if(o.component){let c=i.getContext(o.outlet);c&&this.deactivateChildRoutes(t,e,c.children)}else this.deactivateChildRoutes(t,e,i);else r&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){let i=e.getContext(t.value.outlet),o=i&&t.value.component?i.children:e,r=Nt(t);for(let c of Object.values(r))this.deactivateRouteAndItsChildren(c,o);if(i&&i.outlet){let c=i.outlet.detach(),p=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:c,route:t,contexts:p})}}deactivateRouteAndOutlet(t,e){let i=e.getContext(t.value.outlet),o=i&&t.value.component?i.children:e,r=Nt(t);for(let c of Object.values(r))this.deactivateRouteAndItsChildren(c,o);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(t,e,i){let o=Nt(e);t.children.forEach(r=>{this.activateRoutes(r,o[r.value.outlet],i),this.forwardEvent(new ji(r.value.snapshot))}),t.children.length&&this.forwardEvent(new Ni(t.value.snapshot))}activateRoutes(t,e,i){let o=t.value,r=e?e.value:null;if(zo(o),o===r)if(o.component){let c=i.getOrCreateContext(o.outlet);this.activateChildRoutes(t,e,c.children)}else this.activateChildRoutes(t,e,i);else if(o.component){let c=i.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){let p=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),c.children.onOutletReAttached(p.contexts),c.attachRef=p.componentRef,c.route=p.route.value,c.outlet&&c.outlet.attach(p.componentRef,p.route.value),zo(p.route.value),this.activateChildRoutes(t,null,c.children)}else c.attachRef=null,c.route=o,c.outlet&&c.outlet.activateWith(o,c.injector),this.activateChildRoutes(t,null,c.children)}else this.activateChildRoutes(t,null,i)}},Vi=class{path;route;constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},jt=class{component;route;constructor(t,e){this.component=t,this.route=e}};function Cd(n,t,e){let i=n._root,o=t?t._root:null;return Cn(i,o,e,[i.value])}function xd(n){let t=n.routeConfig?n.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:n,guards:t}}function Wt(n,t){let e=Symbol(),i=t.get(n,e);return i===e?typeof n=="function"&&!ta(n)?n:t.get(n):i}function Cn(n,t,e,i,o={canDeactivateChecks:[],canActivateChecks:[]}){let r=Nt(t);return n.children.forEach(c=>{bd(c,r[c.value.outlet],e,i.concat([c.value]),o),delete r[c.value.outlet]}),Object.entries(r).forEach(([c,p])=>yn(p,e.getContext(c),o)),o}function bd(n,t,e,i,o={canDeactivateChecks:[],canActivateChecks:[]}){let r=n.value,c=t?t.value:null,p=e?e.getContext(n.value.outlet):null;if(c&&r.routeConfig===c.routeConfig){let m=yd(c,r,r.routeConfig.runGuardsAndResolvers);m?o.canActivateChecks.push(new Vi(i)):(r.data=c.data,r._resolvedData=c._resolvedData),r.component?Cn(n,t,p?p.children:null,i,o):Cn(n,t,e,i,o),m&&p&&p.outlet&&p.outlet.isActivated&&o.canDeactivateChecks.push(new jt(p.outlet.component,c))}else c&&yn(t,p,o),o.canActivateChecks.push(new Vi(i)),r.component?Cn(n,null,p?p.children:null,i,o):Cn(n,null,e,i,o);return o}function yd(n,t,e){if(typeof e=="function")return e(n,t);switch(e){case"pathParamsChange":return!gt(n.url,t.url);case"pathParamsOrQueryParamsChange":return!gt(n.url,t.url)||!We(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ko(n,t)||!We(n.queryParams,t.queryParams);case"paramsChange":default:return!Ko(n,t)}}function yn(n,t,e){let i=Nt(n),o=n.value;Object.entries(i).forEach(([r,c])=>{o.component?t?yn(c,t.children.getContext(r),e):yn(c,null,e):yn(c,t,e)}),o.component?t&&t.outlet&&t.outlet.isActivated?e.canDeactivateChecks.push(new jt(t.outlet.component,o)):e.canDeactivateChecks.push(new jt(null,o)):e.canDeactivateChecks.push(new jt(null,o))}function Nn(n){return typeof n=="function"}function Md(n){return typeof n=="boolean"}function Sd(n){return n&&Nn(n.canLoad)}function wd(n){return n&&Nn(n.canActivate)}function Ed(n){return n&&Nn(n.canActivateChild)}function Od(n){return n&&Nn(n.canDeactivate)}function Pd(n){return n&&Nn(n.canMatch)}function $s(n){return n instanceof Ur||n?.name==="EmptyError"}var yi=Symbol("INITIAL_VALUE");function Vt(){return ae(n=>vo(n.map(t=>t.pipe(he(1),Jr(yi)))).pipe(H(t=>{for(let e of t)if(e!==!0){if(e===yi)return yi;if(e===!1||Td(e))return e}return!0}),le(t=>t!==yi),he(1)))}function Td(n){return Lt(n)||n instanceof $t}function kd(n,t){return ve(e=>{let{targetSnapshot:i,currentSnapshot:o,guards:{canActivateChecks:r,canDeactivateChecks:c}}=e;return c.length===0&&r.length===0?V(L(w({},e),{guardsResult:!0})):Id(c,i,o,n).pipe(ve(p=>p&&Md(p)?Ad(i,r,n,t):V(p)),H(p=>L(w({},e),{guardsResult:p})))})}function Id(n,t,e,i){return Te(n).pipe(ve(o=>jd(o.component,o.route,e,t,i)),nt(o=>o!==!0,!0))}function Ad(n,t,e,i){return Te(t).pipe(lt(o=>Vr(Dd(o.route.parent,i),Rd(o.route,i),Fd(n,o.path,e),Nd(n,o.route,e))),nt(o=>o!==!0,!0))}function Rd(n,t){return n!==null&&t&&t(new Fi(n)),V(!0)}function Dd(n,t){return n!==null&&t&&t(new Di(n)),V(!0)}function Nd(n,t,e){let i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||i.length===0)return V(!0);let o=i.map(r=>ti(()=>{let c=Ht(t)??e,p=Wt(r,c),m=wd(p)?p.canActivate(t,n):Fe(c,()=>p(t,n));return Je(m).pipe(nt())}));return V(o).pipe(Vt())}function Fd(n,t,e){let i=t[t.length-1],r=t.slice(0,t.length-1).reverse().map(c=>xd(c)).filter(c=>c!==null).map(c=>ti(()=>{let p=c.guards.map(m=>{let h=Ht(c.node)??e,C=Wt(m,h),M=Ed(C)?C.canActivateChild(i,n):Fe(h,()=>C(i,n));return Je(M).pipe(nt())});return V(p).pipe(Vt())}));return V(r).pipe(Vt())}function jd(n,t,e,i,o){let r=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!r||r.length===0)return V(!0);let c=r.map(p=>{let m=Ht(t)??o,h=Wt(p,m),C=Od(h)?h.canDeactivate(n,t,e,i):Fe(m,()=>h(n,t,e,i));return Je(C).pipe(nt())});return V(c).pipe(Vt())}function Ld(n,t,e,i){let o=t.canLoad;if(o===void 0||o.length===0)return V(!0);let r=o.map(c=>{let p=Wt(c,n),m=Sd(p)?p.canLoad(t,e):Fe(n,()=>p(t,e));return Je(m)});return V(r).pipe(Vt(),Vs(i))}function Vs(n){return jr(ue(t=>{if(typeof t!="boolean")throw $i(n,t)}),H(t=>t===!0))}function zd(n,t,e,i){let o=t.canMatch;if(!o||o.length===0)return V(!0);let r=o.map(c=>{let p=Wt(c,n),m=Pd(p)?p.canMatch(t,e):Fe(n,()=>p(t,e));return Je(m)});return V(r).pipe(Vt(),Vs(i))}var kn=class{segmentGroup;constructor(t){this.segmentGroup=t||null}},In=class extends Error{urlTree;constructor(t){super(),this.urlTree=t}};function Dt(n){return tn(new kn(n))}function Ud(n){return tn(new Y(4e3,!1))}function $d(n){return tn(zs(!1,_e.GuardRejected))}var Xo=class{urlSerializer;urlTree;constructor(t,e){this.urlSerializer=t,this.urlTree=e}lineralizeSegments(t,e){let i=[],o=e.root;for(;;){if(i=i.concat(o.segments),o.numberOfChildren===0)return V(i);if(o.numberOfChildren>1||!o.children[G])return Ud(`${t.redirectTo}`);o=o.children[G]}}applyRedirectCommands(t,e,i,o,r){return Vd(e,o,r).pipe(H(c=>{if(c instanceof Ge)throw new In(c);let p=this.applyRedirectCreateUrlTree(c,this.urlSerializer.parse(c),t,i);if(c[0]==="/")throw new In(p);return p}))}applyRedirectCreateUrlTree(t,e,i,o){let r=this.createSegmentGroup(t,e.root,i,o);return new Ge(r,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){let i={};return Object.entries(t).forEach(([o,r])=>{if(typeof r=="string"&&r[0]===":"){let p=r.substring(1);i[o]=e[p]}else i[o]=r}),i}createSegmentGroup(t,e,i,o){let r=this.createSegments(t,e.segments,i,o),c={};return Object.entries(e.children).forEach(([p,m])=>{c[p]=this.createSegmentGroup(t,m,i,o)}),new X(r,c)}createSegments(t,e,i,o){return e.map(r=>r.path[0]===":"?this.findPosParam(t,r,o):this.findOrReturn(r,i))}findPosParam(t,e,i){let o=i[e.path.substring(1)];if(!o)throw new Y(4001,!1);return o}findOrReturn(t,e){let i=0;for(let o of e){if(o.path===t.path)return e.splice(i),o;i++}return t}};function Vd(n,t,e){if(typeof n=="string")return V(n);let i=n,{queryParams:o,fragment:r,routeConfig:c,url:p,outlet:m,params:h,data:C,title:M}=t;return Je(Fe(e,()=>i({params:h,data:C,queryParams:o,fragment:r,routeConfig:c,url:p,outlet:m,title:M})))}var Qo={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Hd(n,t,e,i,o){let r=Hs(n,t,e);return r.matched?(i=pd(t,i),zd(i,t,e,o).pipe(H(c=>c===!0?r:w({},Qo)))):V(r)}function Hs(n,t,e){if(t.path==="**")return Bd(e);if(t.path==="")return t.pathMatch==="full"&&(n.hasChildren()||e.length>0)?w({},Qo):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};let o=(t.matcher||_s)(e,n,t);if(!o)return w({},Qo);let r={};Object.entries(o.posParams??{}).forEach(([p,m])=>{r[p]=m.path});let c=o.consumed.length>0?w(w({},r),o.consumed[o.consumed.length-1].parameters):r;return{matched:!0,consumedSegments:o.consumed,remainingSegments:e.slice(o.consumed.length),parameters:c,positionalParamSegments:o.posParams??{}}}function Bd(n){return{matched:!0,parameters:n.length>0?xs(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function fs(n,t,e,i){return e.length>0&&Gd(n,e,i)?{segmentGroup:new X(t,qd(i,new X(e,n.children))),slicedSegments:[]}:e.length===0&&Kd(n,e,i)?{segmentGroup:new X(n.segments,Wd(n,e,i,n.children)),slicedSegments:e}:{segmentGroup:new X(n.segments,n.children),slicedSegments:e}}function Wd(n,t,e,i){let o={};for(let r of e)if(Wi(n,t,r)&&!i[Le(r)]){let c=new X([],{});o[Le(r)]=c}return w(w({},i),o)}function qd(n,t){let e={};e[G]=t;for(let i of n)if(i.path===""&&Le(i)!==G){let o=new X([],{});e[Le(i)]=o}return e}function Gd(n,t,e){return e.some(i=>Wi(n,t,i)&&Le(i)!==G)}function Kd(n,t,e){return e.some(i=>Wi(n,t,i))}function Wi(n,t,e){return(n.hasChildren()||t.length>0)&&e.pathMatch==="full"?!1:e.path===""}function Yd(n,t,e){return t.length===0&&!n.children[e]}var Jo=class{};function Zd(n,t,e,i,o,r,c="emptyOnly"){return new er(n,t,e,i,o,c,r).recognize()}var Xd=31,er=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(t,e,i,o,r,c,p){this.injector=t,this.configLoader=e,this.rootComponentType=i,this.config=o,this.urlTree=r,this.paramsInheritanceStrategy=c,this.urlSerializer=p,this.applyRedirects=new Xo(this.urlSerializer,this.urlTree)}noMatchError(t){return new Y(4002,`'${t.segmentGroup}'`)}recognize(){let t=fs(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(H(({children:e,rootSnapshot:i})=>{let o=new Me(i,e),r=new Pn("",o),c=Ts(i,[],this.urlTree.queryParams,this.urlTree.fragment);return c.queryParams=this.urlTree.queryParams,r.url=this.urlSerializer.serialize(c),{state:r,tree:c}}))}match(t){let e=new ft([],Object.freeze({}),Object.freeze(w({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),G,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,t,G,e).pipe(H(i=>({children:i,rootSnapshot:e})),ze(i=>{if(i instanceof In)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof kn?this.noMatchError(i):i}))}processSegmentGroup(t,e,i,o,r){return i.segments.length===0&&i.hasChildren()?this.processChildren(t,e,i,r):this.processSegment(t,e,i,i.segments,o,!0,r).pipe(H(c=>c instanceof Me?[c]:[]))}processChildren(t,e,i,o){let r=[];for(let c of Object.keys(i.children))c==="primary"?r.unshift(c):r.push(c);return Te(r).pipe(lt(c=>{let p=i.children[c],m=ud(e,c);return this.processSegmentGroup(t,m,p,c,o)}),Mt((c,p)=>(c.push(...p),c)),_o(null),Kr(),ve(c=>{if(c===null)return Dt(i);let p=Bs(c);return Qd(p),V(p)}))}processSegment(t,e,i,o,r,c,p){return Te(e).pipe(lt(m=>this.processSegmentAgainstRoute(m._injector??t,e,m,i,o,r,c,p).pipe(ze(h=>{if(h instanceof kn)return V(null);throw h}))),nt(m=>!!m),ze(m=>{if($s(m))return Yd(i,o,r)?V(new Jo):Dt(i);throw m}))}processSegmentAgainstRoute(t,e,i,o,r,c,p,m){return Le(i)!==c&&(c===G||!Wi(o,r,i))?Dt(o):i.redirectTo===void 0?this.matchSegmentAgainstRoute(t,o,i,r,c,m):this.allowRedirects&&p?this.expandSegmentAgainstRouteUsingRedirect(t,o,e,i,r,c,m):Dt(o)}expandSegmentAgainstRouteUsingRedirect(t,e,i,o,r,c,p){let{matched:m,parameters:h,consumedSegments:C,positionalParamSegments:M,remainingSegments:k}=Hs(e,o,r);if(!m)return Dt(e);typeof o.redirectTo=="string"&&o.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>Xd&&(this.allowRedirects=!1));let K=new ft(r,h,Object.freeze(w({},this.urlTree.queryParams)),this.urlTree.fragment,hs(o),Le(o),o.component??o._loadedComponent??null,o,vs(o)),j=Ui(K,p,this.paramsInheritanceStrategy);return K.params=Object.freeze(j.params),K.data=Object.freeze(j.data),this.applyRedirects.applyRedirectCommands(C,o.redirectTo,M,K,t).pipe(ae(se=>this.applyRedirects.lineralizeSegments(o,se)),ve(se=>this.processSegment(t,i,e,se.concat(k),c,!1,p)))}matchSegmentAgainstRoute(t,e,i,o,r,c){let p=Hd(e,i,o,t,this.urlSerializer);return i.path==="**"&&(e.children={}),p.pipe(ae(m=>m.matched?(t=i._injector??t,this.getChildConfig(t,i,o).pipe(ae(({routes:h})=>{let C=i._loadedInjector??t,{parameters:M,consumedSegments:k,remainingSegments:K}=m,j=new ft(k,M,Object.freeze(w({},this.urlTree.queryParams)),this.urlTree.fragment,hs(i),Le(i),i.component??i._loadedComponent??null,i,vs(i)),W=Ui(j,c,this.paramsInheritanceStrategy);j.params=Object.freeze(W.params),j.data=Object.freeze(W.data);let{segmentGroup:se,slicedSegments:re}=fs(e,k,K,h);if(re.length===0&&se.hasChildren())return this.processChildren(C,h,se,j).pipe(H(Re=>new Me(j,Re)));if(h.length===0&&re.length===0)return V(new Me(j,[]));let Pe=Le(i)===r;return this.processSegment(C,h,se,re,Pe?G:r,!0,j).pipe(H(Re=>new Me(j,Re instanceof Me?[Re]:[])))}))):Dt(e)))}getChildConfig(t,e,i){return e.children?V({routes:e.children,injector:t}):e.loadChildren?e._loadedRoutes!==void 0?V({routes:e._loadedRoutes,injector:e._loadedInjector}):Ld(t,e,i,this.urlSerializer).pipe(ve(o=>o?this.configLoader.loadChildren(t,e).pipe(ue(r=>{e._loadedRoutes=r.routes,e._loadedInjector=r.injector})):$d(e))):V({routes:[],injector:t})}};function Qd(n){n.sort((t,e)=>t.value.outlet===G?-1:e.value.outlet===G?1:t.value.outlet.localeCompare(e.value.outlet))}function Jd(n){let t=n.value.routeConfig;return t&&t.path===""}function Bs(n){let t=[],e=new Set;for(let i of n){if(!Jd(i)){t.push(i);continue}let o=t.find(r=>i.value.routeConfig===r.value.routeConfig);o!==void 0?(o.children.push(...i.children),e.add(o)):t.push(i)}for(let i of e){let o=Bs(i.children);t.push(new Me(i.value,o))}return t.filter(i=>!e.has(i))}function hs(n){return n.data||{}}function vs(n){return n.resolve||{}}function ep(n,t,e,i,o,r){return ve(c=>Zd(n,t,e,i,c.extractedUrl,o,r).pipe(H(({state:p,tree:m})=>L(w({},c),{targetSnapshot:p,urlAfterRedirects:m}))))}function tp(n,t){return ve(e=>{let{targetSnapshot:i,guards:{canActivateChecks:o}}=e;if(!o.length)return V(e);let r=new Set(o.map(m=>m.route)),c=new Set;for(let m of r)if(!c.has(m))for(let h of Ws(m))c.add(h);let p=0;return Te(c).pipe(lt(m=>r.has(m)?np(m,i,n,t):(m.data=Ui(m,m.parent,n).resolve,V(void 0))),ue(()=>p++),xo(1),ve(m=>p===c.size?V(e):Ne))})}function Ws(n){let t=n.children.map(e=>Ws(e)).flat();return[n,...t]}function np(n,t,e,i){let o=n.routeConfig,r=n._resolve;return o?.title!==void 0&&!Fs(o)&&(r[An]=o.title),ti(()=>(n.data=Ui(n,n.parent,e).resolve,ip(r,n,t,i).pipe(H(c=>(n._resolvedData=c,n.data=w(w({},n.data),c),null)))))}function ip(n,t,e,i){let o=Vo(n);if(o.length===0)return V({});let r={};return Te(o).pipe(ve(c=>op(n[c],t,e,i).pipe(nt(),ue(p=>{if(p instanceof $t)throw $i(new vt,p);r[c]=p}))),xo(1),H(()=>r),ze(c=>$s(c)?Ne:tn(c)))}function op(n,t,e,i){let o=Ht(t)??i,r=Wt(n,o),c=r.resolve?r.resolve(t,e):Fe(o,()=>r(t,e));return Je(c)}function Uo(n){return ae(t=>{let e=n(t);return e?Te(e).pipe(H(()=>t)):V(t)})}var or=(()=>{class n{buildTitle(e){let i,o=e.root;for(;o!==void 0;)i=this.getResolvedTitleForRoute(o)??i,o=o.children.find(r=>r.outlet===G);return i}getResolvedTitleForRoute(e){return e.data[An]}static \u0275fac=function(i){return new(i||n)};static \u0275prov=U({token:n,factory:()=>b(qs),providedIn:"root"})}return n})(),qs=(()=>{class n extends or{title;constructor(e){super(),this.title=e}updateTitle(e){let i=this.buildTitle(e);i!==void 0&&this.title.setTitle(i)}static \u0275fac=function(i){return new(i||n)(I(ds))};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Fn=new B("",{providedIn:"root",factory:()=>({})}),jn=new B(""),Gs=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=b(Oa);loadComponent(e,i){if(this.componentLoaders.get(i))return this.componentLoaders.get(i);if(i._loadedComponent)return V(i._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(i);let o=Je(Fe(e,()=>i.loadComponent())).pipe(H(Ys),ae(Zs),ue(c=>{this.onLoadEndListener&&this.onLoadEndListener(i),i._loadedComponent=c}),ni(()=>{this.componentLoaders.delete(i)})),r=new ho(o,()=>new ge).pipe(fo());return this.componentLoaders.set(i,r),r}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return V({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let r=Ks(i,this.compiler,e,this.onLoadEndListener).pipe(ni(()=>{this.childrenLoaders.delete(i)})),c=new ho(r,()=>new ge).pipe(fo());return this.childrenLoaders.set(i,c),c}static \u0275fac=function(i){return new(i||n)};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Ks(n,t,e,i){return Je(Fe(e,()=>n.loadChildren())).pipe(H(Ys),ae(Zs),ve(o=>o instanceof ha||Array.isArray(o)?V(o):Te(t.compileModuleAsync(o))),H(o=>{i&&i(n);let r,c,p=!1;return Array.isArray(o)?(c=o,p=!0):(r=o.create(e).injector,c=r.get(jn,[],{optional:!0,self:!0}).flat()),{routes:c.map(ir),injector:r}}))}function rp(n){return n&&typeof n=="object"&&"default"in n}function Ys(n){return rp(n)?n.default:n}function Zs(n){return V(n)}var qi=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275prov=U({token:n,factory:()=>b(ap),providedIn:"root"})}return n})(),ap=(()=>{class n{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,i){return e}static \u0275fac=function(i){return new(i||n)};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Xs=new B("");var Qs=new B(""),Js=(()=>{class n{currentNavigation=P(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=null;events=new ge;transitionAbortWithErrorSubject=new ge;configLoader=b(Gs);environmentInjector=b(on);destroyRef=b(an);urlSerializer=b(Rn);rootContexts=b(Bt);location=b(mi);inputBindingEnabled=b(Bi,{optional:!0})!==null;titleStrategy=b(or);options=b(Fn,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=b(qi);createViewTransition=b(Xs,{optional:!0});navigationErrorHandler=b(Qs,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>V(void 0);rootComponentType=null;destroyed=!1;constructor(){let e=o=>this.events.next(new Ai(o)),i=o=>this.events.next(new Ri(o));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=e,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(e){let i=++this.navigationId;$e(()=>{this.transitions?.next(L(w({},e),{extractedUrl:this.urlHandlingStrategy.extract(e.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:i}))})}setupNavigations(e){return this.transitions=new fe(null),this.transitions.pipe(le(i=>i!==null),ae(i=>{let o=!1;return V(i).pipe(ae(r=>{if(this.navigationId>i.id)return this.cancelNavigationTransition(i,"",_e.SupersededByNewNavigation),Ne;this.currentTransition=i,this.currentNavigation.set({id:r.id,initialUrl:r.rawUrl,extractedUrl:r.extractedUrl,targetBrowserUrl:typeof r.extras.browserUrl=="string"?this.urlSerializer.parse(r.extras.browserUrl):r.extras.browserUrl,trigger:r.source,extras:r.extras,previousNavigation:this.lastSuccessfulNavigation?L(w({},this.lastSuccessfulNavigation),{previousNavigation:null}):null,abort:()=>r.abortController.abort()});let c=!e.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),p=r.extras.onSameUrlNavigation??e.onSameUrlNavigation;if(!c&&p!=="reload")return this.events.next(new Qe(r.id,this.urlSerializer.serialize(r.rawUrl),"",Sn.IgnoredSameUrlNavigation)),r.resolve(!1),Ne;if(this.urlHandlingStrategy.shouldProcessUrl(r.rawUrl))return V(r).pipe(ae(m=>(this.events.next(new _t(m.id,this.urlSerializer.serialize(m.extractedUrl),m.source,m.restoredState)),m.id!==this.navigationId?Ne:Promise.resolve(m))),ep(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,this.paramsInheritanceStrategy),ue(m=>{i.targetSnapshot=m.targetSnapshot,i.urlAfterRedirects=m.urlAfterRedirects,this.currentNavigation.update(C=>(C.finalUrl=m.urlAfterRedirects,C));let h=new wn(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(h)}));if(c&&this.urlHandlingStrategy.shouldProcessUrl(r.currentRawUrl)){let{id:m,extractedUrl:h,source:C,restoredState:M,extras:k}=r,K=new _t(m,this.urlSerializer.serialize(h),C,M);this.events.next(K);let j=Ds(this.rootComponentType).snapshot;return this.currentTransition=i=L(w({},r),{targetSnapshot:j,urlAfterRedirects:h,extras:L(w({},k),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(W=>(W.finalUrl=h,W)),V(i)}else return this.events.next(new Qe(r.id,this.urlSerializer.serialize(r.extractedUrl),"",Sn.IgnoredByUrlHandlingStrategy)),r.resolve(!1),Ne}),ue(r=>{let c=new Pi(r.id,this.urlSerializer.serialize(r.extractedUrl),this.urlSerializer.serialize(r.urlAfterRedirects),r.targetSnapshot);this.events.next(c)}),H(r=>(this.currentTransition=i=L(w({},r),{guards:Cd(r.targetSnapshot,r.currentSnapshot,this.rootContexts)}),i)),kd(this.environmentInjector,r=>this.events.next(r)),ue(r=>{if(i.guardsResult=r.guardsResult,r.guardsResult&&typeof r.guardsResult!="boolean")throw $i(this.urlSerializer,r.guardsResult);let c=new Ti(r.id,this.urlSerializer.serialize(r.extractedUrl),this.urlSerializer.serialize(r.urlAfterRedirects),r.targetSnapshot,!!r.guardsResult);this.events.next(c)}),le(r=>r.guardsResult?!0:(this.cancelNavigationTransition(r,"",_e.GuardRejected),!1)),Uo(r=>{if(r.guards.canActivateChecks.length!==0)return V(r).pipe(ue(c=>{let p=new ki(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(p)}),ae(c=>{let p=!1;return V(c).pipe(tp(this.paramsInheritanceStrategy,this.environmentInjector),ue({next:()=>p=!0,complete:()=>{p||this.cancelNavigationTransition(c,"",_e.NoDataFromResolver)}}))}),ue(c=>{let p=new Ii(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(p)}))}),Uo(r=>{let c=p=>{let m=[];if(p.routeConfig?.loadComponent){let h=Ht(p)??this.environmentInjector;m.push(this.configLoader.loadComponent(h,p.routeConfig).pipe(ue(C=>{p.component=C}),H(()=>{})))}for(let h of p.children)m.push(...c(h));return m};return vo(c(r.targetSnapshot.root)).pipe(_o(null),he(1))}),Uo(()=>this.afterPreactivation()),ae(()=>{let{currentSnapshot:r,targetSnapshot:c}=i,p=this.createViewTransition?.(this.environmentInjector,r.root,c.root);return p?Te(p).pipe(H(()=>i)):V(i)}),H(r=>{let c=gd(e.routeReuseStrategy,r.targetSnapshot,r.currentRouterState);return this.currentTransition=i=L(w({},r),{targetRouterState:c}),this.currentNavigation.update(p=>(p.targetRouterState=c,p)),i}),ue(()=>{this.events.next(new En)}),_d(this.rootContexts,e.routeReuseStrategy,r=>this.events.next(r),this.inputBindingEnabled),he(1),dt(new xe(r=>{let c=i.abortController.signal,p=()=>r.next();return c.addEventListener("abort",p),()=>c.removeEventListener("abort",p)}).pipe(le(()=>!o&&!i.targetRouterState),ue(()=>{this.cancelNavigationTransition(i,i.abortController.signal.reason+"",_e.Aborted)}))),ue({next:r=>{o=!0,this.lastSuccessfulNavigation=$e(this.currentNavigation),this.events.next(new Xe(r.id,this.urlSerializer.serialize(r.extractedUrl),this.urlSerializer.serialize(r.urlAfterRedirects))),this.titleStrategy?.updateTitle(r.targetRouterState.snapshot),r.resolve(!0)},complete:()=>{o=!0}}),dt(this.transitionAbortWithErrorSubject.pipe(ue(r=>{throw r}))),ni(()=>{o||this.cancelNavigationTransition(i,"",_e.SupersededByNewNavigation),this.currentTransition?.id===i.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),ze(r=>{if(this.destroyed)return i.resolve(!1),Ne;if(o=!0,Us(r))this.events.next(new qe(i.id,this.urlSerializer.serialize(i.extractedUrl),r.message,r.cancellationCode)),vd(r)?this.events.next(new Ut(r.url,r.navigationBehaviorOptions)):i.resolve(!1);else{let c=new zt(i.id,this.urlSerializer.serialize(i.extractedUrl),r,i.targetSnapshot??void 0);try{let p=Fe(this.environmentInjector,()=>this.navigationErrorHandler?.(c));if(p instanceof $t){let{message:m,cancellationCode:h}=$i(this.urlSerializer,p);this.events.next(new qe(i.id,this.urlSerializer.serialize(i.extractedUrl),m,h)),this.events.next(new Ut(p.redirectTo,p.navigationBehaviorOptions))}else throw this.events.next(c),r}catch(p){this.options.resolveNavigationPromiseOnError?i.resolve(!1):i.reject(p)}}return Ne}))}))}cancelNavigationTransition(e,i,o){let r=new qe(e.id,this.urlSerializer.serialize(e.extractedUrl),i,o);this.events.next(r),e.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let e=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=$e(this.currentNavigation),o=i?.targetBrowserUrl??i?.extractedUrl;return e.toString()!==o?.toString()&&!i?.extras.skipLocationChange}static \u0275fac=function(i){return new(i||n)};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function sp(n){return n!==bn}var ec=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275prov=U({token:n,factory:()=>b(cp),providedIn:"root"})}return n})(),Hi=class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}},cp=(()=>{class n extends Hi{static \u0275fac=(()=>{let e;return function(o){return(e||(e=ut(n)))(o||n)}})();static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),tc=(()=>{class n{urlSerializer=b(Rn);options=b(Fn,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=b(mi);urlHandlingStrategy=b(qi);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Ge;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:e,initialUrl:i,targetBrowserUrl:o}){let r=e!==void 0?this.urlHandlingStrategy.merge(e,i):i,c=o??r;return c instanceof Ge?this.urlSerializer.serialize(c):c}commitTransition({targetRouterState:e,finalUrl:i,initialUrl:o}){i&&e?(this.currentUrlTree=i,this.rawUrlTree=this.urlHandlingStrategy.merge(i,o),this.routerState=e):this.rawUrlTree=o}routerState=Ds(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:e}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e??this.rawUrlTree)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=U({token:n,factory:()=>b(lp),providedIn:"root"})}return n})(),lp=(()=>{class n extends tc{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(e){return this.location.subscribe(i=>{i.type==="popstate"&&setTimeout(()=>{e(i.url,i.state,"popstate")})})}handleRouterEvent(e,i){e instanceof _t?this.updateStateMemento():e instanceof Qe?this.commitTransition(i):e instanceof wn?this.urlUpdateStrategy==="eager"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(i),i)):e instanceof En?(this.commitTransition(i),this.urlUpdateStrategy==="deferred"&&!i.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(i),i)):e instanceof qe&&e.code!==_e.SupersededByNewNavigation&&e.code!==_e.Redirect?this.restoreHistory(i):e instanceof zt?this.restoreHistory(i,!0):e instanceof Xe&&(this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId)}setBrowserUrl(e,{extras:i,id:o}){let{replaceUrl:r,state:c}=i;if(this.location.isCurrentPathEqualTo(e)||r){let p=this.browserPageId,m=w(w({},c),this.generateNgRouterState(o,p));this.location.replaceState(e,"",m)}else{let p=w(w({},c),this.generateNgRouterState(o,this.browserPageId+1));this.location.go(e,"",p)}}restoreHistory(e,i=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,r=this.currentPageId-o;r!==0?this.location.historyGo(r):this.getCurrentUrlTree()===e.finalUrl&&r===0&&(this.resetInternalState(e),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetInternalState(e),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,i){return this.canceledNavigationResolution==="computed"?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}static \u0275fac=(()=>{let e;return function(o){return(e||(e=ut(n)))(o||n)}})();static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function rr(n,t){n.events.pipe(le(e=>e instanceof Xe||e instanceof qe||e instanceof zt||e instanceof Qe),H(e=>e instanceof Xe||e instanceof Qe?0:(e instanceof qe?e.code===_e.Redirect||e.code===_e.SupersededByNewNavigation:!1)?2:1),le(e=>e!==2),he(1)).subscribe(()=>{t()})}var dp={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},pp={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Gi=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=b(_a);stateManager=b(tc);options=b(Fn,{optional:!0})||{};pendingTasks=b(oa);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=b(Js);urlSerializer=b(Rn);location=b(mi);urlHandlingStrategy=b(qi);injector=b(on);_events=new ge;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=b(ec);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=b(jn,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!b(Bi,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:e=>{this.console.warn(e)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Fr;subscribeToNavigationEvents(){let e=this.navigationTransitions.events.subscribe(i=>{try{let o=this.navigationTransitions.currentTransition,r=$e(this.navigationTransitions.currentNavigation);if(o!==null&&r!==null){if(this.stateManager.handleRouterEvent(i,r),i instanceof qe&&i.code!==_e.Redirect&&i.code!==_e.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof Xe)this.navigated=!0;else if(i instanceof Ut){let c=i.navigationBehaviorOptions,p=this.urlHandlingStrategy.merge(i.url,o.currentRawUrl),m=w({browserUrl:o.extras.browserUrl,info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:o.extras.replaceUrl||this.urlUpdateStrategy==="eager"||sp(o.source)},c);this.scheduleNavigation(p,bn,null,m,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}dd(i)&&this._events.next(i)}catch(o){this.navigationTransitions.transitionAbortWithErrorSubject.next(o)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),bn,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((e,i,o)=>{this.navigateToSyncWithBrowser(e,o,i)})}navigateToSyncWithBrowser(e,i,o){let r={replaceUrl:!0},c=o?.navigationId?o:null;if(o){let m=w({},o);delete m.navigationId,delete m.\u0275routerPageId,Object.keys(m).length!==0&&(r.state=m)}let p=this.parseUrl(e);this.scheduleNavigation(p,i,c,r).catch(m=>{this.disposed||this.injector.get(bo)(m)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return $e(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(ir),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,i={}){let{relativeTo:o,queryParams:r,fragment:c,queryParamsHandling:p,preserveFragment:m}=i,h=m?this.currentUrlTree.fragment:c,C=null;switch(p??this.options.defaultQueryParamsHandling){case"merge":C=w(w({},this.currentUrlTree.queryParams),r);break;case"preserve":C=this.currentUrlTree.queryParams;break;default:C=r||null}C!==null&&(C=this.removeEmptyProps(C));let M;try{let k=o?o.snapshot:this.routerState.snapshot.root;M=ks(k)}catch{(typeof e[0]!="string"||e[0][0]!=="/")&&(e=[]),M=this.currentUrlTree.root}return Is(M,e,C,h??null)}navigateByUrl(e,i={skipLocationChange:!1}){let o=Lt(e)?e:this.parseUrl(e),r=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(r,bn,null,i)}navigate(e,i={skipLocationChange:!1}){return up(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){try{return this.urlSerializer.parse(e)}catch{return this.urlSerializer.parse("/")}}isActive(e,i){let o;if(i===!0?o=w({},dp):i===!1?o=w({},pp):o=i,Lt(e))return ps(this.currentUrlTree,e,o);let r=this.parseUrl(e);return ps(this.currentUrlTree,r,o)}removeEmptyProps(e){return Object.entries(e).reduce((i,[o,r])=>(r!=null&&(i[o]=r),i),{})}scheduleNavigation(e,i,o,r,c){if(this.disposed)return Promise.resolve(!1);let p,m,h;c?(p=c.resolve,m=c.reject,h=c.promise):h=new Promise((M,k)=>{p=M,m=k});let C=this.pendingTasks.add();return rr(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(C))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:r,resolve:p,reject:m,promise:h,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),h.catch(M=>Promise.reject(M))}static \u0275fac=function(i){return new(i||n)};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function up(n){for(let t=0;t<n.length;t++)if(n[t]==null)throw new Y(4008,!1)}var gp=new B("");function ar(n,...t){return Ue([{provide:jn,multi:!0,useValue:n},[],{provide:ct,useFactory:fp,deps:[Gi]},{provide:xa,multi:!0,useFactory:hp},t.map(e=>e.\u0275providers)])}function fp(n){return n.routerState.root}function hp(){let n=b(ke);return t=>{let e=n.get(dn);if(t!==e.components[0])return;let i=n.get(Gi),o=n.get(vp);n.get(_p)===1&&i.initialNavigation(),n.get(Cp,null,{optional:!0})?.setUpPreloading(),n.get(gp,null,{optional:!0})?.init(),i.resetRootComponentType(e.componentTypes[0]),o.closed||(o.next(),o.complete(),o.unsubscribe())}}var vp=new B("",{factory:()=>new ge}),_p=new B("",{providedIn:"root",factory:()=>1});var Cp=new B("");function Ki(n,t){let i=!t?.manualCleanup?t?.injector?.get(an)??b(an):null,o=bp(t?.equal),r;t?.requireSync?r=P({kind:0},{equal:o}):r=P({kind:1,value:t?.initialValue},{equal:o});let c,p=n.subscribe({next:m=>r.set({kind:1,value:m}),error:m=>{r.set({kind:2,error:m}),c?.()},complete:()=>{c?.()}});if(t?.requireSync&&r().kind===0)throw new Y(601,!1);return c=i?.onDestroy(p.unsubscribe.bind(p)),T(()=>{let m=r();switch(m.kind){case 1:return m.value;case 2:throw m.error;case 0:throw new Y(601,!1)}},{equal:t?.equal})}function bp(n=Object.is){return(t,e)=>t.kind===1&&e.kind===1&&n(t.value,e.value)}var lr={};function de(n,t){if(lr[n]=(lr[n]||0)+1,typeof t=="function")return sr(n,(...i)=>L(w({},t(...i)),{type:n}));switch(t?t._as:"empty"){case"empty":return sr(n,()=>({type:n}));case"props":return sr(n,i=>L(w({},i),{type:n}));default:throw new Error("Unexpected config.")}}function we(){return{_as:"props",_p:void 0}}function sr(n,t){return Object.defineProperty(t,"type",{value:n,writable:!1})}function yp(n,t){if(n==null)throw new Error(`${t} must be defined.`)}var Un="@ngrx/store/init",Ke=(()=>{let t=class t extends fe{constructor(){super({type:Un})}next(i){if(typeof i=="function")throw new TypeError(`
        Dispatch expected an object, instead it received a function.
        If you're using the createAction function, make sure to invoke the function
        before dispatching the action. For example, someAction should be someAction().`);if(typeof i>"u")throw new TypeError("Actions must be objects");if(typeof i.type>"u")throw new TypeError("Actions must have a type property");super.next(i)}complete(){}ngOnDestroy(){super.complete()}};t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=U({token:t,factory:t.\u0275fac});let n=t;return n})(),Mp=[Ke],gc=new B("@ngrx/store Internal Root Guard"),nc=new B("@ngrx/store Internal Initial State"),$n=new B("@ngrx/store Initial State"),fc=new B("@ngrx/store Reducer Factory"),ic=new B("@ngrx/store Internal Reducer Factory Provider"),hc=new B("@ngrx/store Initial Reducers"),cr=new B("@ngrx/store Internal Initial Reducers");var oc=new B("@ngrx/store Internal Store Reducers");var Sp=new B("@ngrx/store Internal Store Features");var wp=new B("@ngrx/store Feature Reducers"),rc=new B("@ngrx/store User Provided Meta Reducers"),Yi=new B("@ngrx/store Meta Reducers"),ac=new B("@ngrx/store Internal Resolved Meta Reducers"),sc=new B("@ngrx/store User Runtime Checks Config"),cc=new B("@ngrx/store Internal User Runtime Checks Config"),Ln=new B("@ngrx/store Internal Runtime Checks"),mr=new B("@ngrx/store Check if Action types are unique"),zn=new B("@ngrx/store Root Store Provider"),Zi=new B("@ngrx/store Feature State Provider");function Ep(n,t={}){let e=Object.keys(n),i={};for(let r=0;r<e.length;r++){let c=e[r];typeof n[c]=="function"&&(i[c]=n[c])}let o=Object.keys(i);return function(c,p){c=c===void 0?t:c;let m=!1,h={};for(let C=0;C<o.length;C++){let M=o[C],k=i[M],K=c[M],j=k(K,p);h[M]=j,m=m||j!==K}return m?h:c}}function Op(n,t){return Object.keys(n).filter(e=>e!==t).reduce((e,i)=>Object.assign(e,{[i]:n[i]}),{})}function vc(...n){return function(t){if(n.length===0)return t;let e=n[n.length-1];return n.slice(0,-1).reduceRight((o,r)=>r(o),e(t))}}function _c(n,t){return Array.isArray(t)&&t.length>0&&(n=vc.apply(null,[...t,n])),(e,i)=>{let o=n(e);return(r,c)=>(r=r===void 0?i:r,o(r,c))}}function Pp(n){let t=Array.isArray(n)&&n.length>0?vc(...n):e=>e;return(e,i)=>(e=t(e),(o,r)=>(o=o===void 0?i:o,e(o,r)))}var Ct=class extends xe{},qt=class extends Ke{},Qi="@ngrx/store/update-reducers",Xi=(()=>{let t=class t extends fe{get currentReducers(){return this.reducers}constructor(i,o,r,c){super(c(r,o)),this.dispatcher=i,this.initialState=o,this.reducers=r,this.reducerFactory=c}addFeature(i){this.addFeatures([i])}addFeatures(i){let o=i.reduce((r,{reducers:c,reducerFactory:p,metaReducers:m,initialState:h,key:C})=>{let M=typeof c=="function"?Pp(m)(c,h):_c(p,m)(c,h);return r[C]=M,r},{});this.addReducers(o)}removeFeature(i){this.removeFeatures([i])}removeFeatures(i){this.removeReducers(i.map(o=>o.key))}addReducer(i,o){this.addReducers({[i]:o})}addReducers(i){this.reducers=w(w({},this.reducers),i),this.updateReducers(Object.keys(i))}removeReducer(i){this.removeReducers([i])}removeReducers(i){i.forEach(o=>{this.reducers=Op(this.reducers,o)}),this.updateReducers(i)}updateReducers(i){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:Qi,features:i})}ngOnDestroy(){this.complete()}};t.\u0275fac=function(o){return new(o||t)(I(qt),I($n),I(hc),I(fc))},t.\u0275prov=U({token:t,factory:t.\u0275fac});let n=t;return n})(),Tp=[Xi,{provide:Ct,useExisting:Xi},{provide:qt,useExisting:Ke}],Kt=(()=>{let t=class t extends ge{ngOnDestroy(){this.complete()}};t.\u0275fac=(()=>{let i;return function(r){return(i||(i=ut(t)))(r||t)}})(),t.\u0275prov=U({token:t,factory:t.\u0275fac});let n=t;return n})(),kp=[Kt],Gt=class extends xe{},lc=(()=>{let t=class t extends fe{constructor(i,o,r,c){super(c);let m=i.pipe(ei(Jn)).pipe(ii(o)),h={state:c},C=m.pipe(Mt(Ip,h));this.stateSubscription=C.subscribe(({state:M,action:k})=>{this.next(M),r.next(k)}),this.state=Ki(this,{manualCleanup:!0,requireSync:!0})}ngOnDestroy(){this.stateSubscription.unsubscribe(),this.complete()}};t.INIT=Un,t.\u0275fac=function(o){return new(o||t)(I(Ke),I(Ct),I(Kt),I($n))},t.\u0275prov=U({token:t,factory:t.\u0275fac});let n=t;return n})();function Ip(n={state:void 0},[t,e]){let{state:i}=n;return{state:e(i,t),action:t}}var Ap=[lc,{provide:Gt,useExisting:lc}],Ee=(()=>{let t=class t extends xe{constructor(i,o,r,c){super(),this.actionsObserver=o,this.reducerManager=r,this.injector=c,this.source=i,this.state=i.state}select(i,...o){return Dp.call(null,i,...o)(this)}selectSignal(i,o){return T(()=>i(this.state()),o)}lift(i){let o=new t(this,this.actionsObserver,this.reducerManager);return o.operator=i,o}dispatch(i,o){if(typeof i=="function")return this.processDispatchFn(i,o);this.actionsObserver.next(i)}next(i){this.actionsObserver.next(i)}error(i){this.actionsObserver.error(i)}complete(){this.actionsObserver.complete()}addReducer(i,o){this.reducerManager.addReducer(i,o)}removeReducer(i){this.reducerManager.removeReducer(i)}processDispatchFn(i,o){yp(this.injector,"Store Injector");let r=o?.injector??Np()??this.injector;return Ze(()=>{let c=i();$e(()=>this.dispatch(c))},{injector:r})}};t.\u0275fac=function(o){return new(o||t)(I(Gt),I(Ke),I(Xi),I(ke))},t.\u0275prov=U({token:t,factory:t.\u0275fac});let n=t;return n})(),Rp=[Ee];function Dp(n,t,...e){return function(o){let r;if(typeof n=="string"){let c=[t,...e].filter(Boolean);r=o.pipe(Zr(n,...c))}else if(typeof n=="function")r=o.pipe(H(c=>n(c,t)));else throw new TypeError(`Unexpected type '${typeof n}' in select operator, expected 'string' or 'function'`);return r.pipe(qr())}}function Np(){try{return b(ke)}catch{return}}var gr="https://ngrx.io/guide/store/configuration/runtime-checks";function dc(n){return n===void 0}function pc(n){return n===null}function Cc(n){return Array.isArray(n)}function Fp(n){return typeof n=="string"}function jp(n){return typeof n=="boolean"}function Lp(n){return typeof n=="number"}function xc(n){return typeof n=="object"&&n!==null}function zp(n){return xc(n)&&!Cc(n)}function Up(n){if(!zp(n))return!1;let t=Object.getPrototypeOf(n);return t===Object.prototype||t===null}function dr(n){return typeof n=="function"}function $p(n){return dr(n)&&n.hasOwnProperty("\u0275cmp")}function Vp(n,t){return Object.prototype.hasOwnProperty.call(n,t)}var Hp=!1;function Bp(){return Hp}function uc(n,t){return n===t}function Wp(n,t,e){for(let i=0;i<n.length;i++)if(!e(n[i],t[i]))return!0;return!1}function bc(n,t=uc,e=uc){let i=null,o=null,r;function c(){i=null,o=null}function p(C=void 0){r={result:C}}function m(){r=void 0}function h(){if(r!==void 0)return r.result;if(!i)return o=n.apply(null,arguments),i=arguments,o;if(!Wp(arguments,i,t))return o;let C=n.apply(null,arguments);return i=arguments,e(o,C)?o:(o=C,C)}return{memoized:h,reset:c,setResult:p,clearResult:m}}function Ce(...n){return Gp(bc)(...n)}function qp(n,t,e,i){if(e===void 0){let r=t.map(c=>c(n));return i.memoized.apply(null,r)}let o=t.map(r=>r(n,e));return i.memoized.apply(null,[...o,e])}function Gp(n,t={stateFn:qp}){return function(...e){let i=e;if(Array.isArray(i[0])){let[C,...M]=i;i=[...C,...M]}else i.length===1&&Kp(i[0])&&(i=Yp(i[0]));let o=i.slice(0,i.length-1),r=i[i.length-1],c=o.filter(C=>C.release&&typeof C.release=="function"),p=n(function(...C){return r.apply(null,C)}),m=bc(function(C,M){return t.stateFn.apply(null,[C,o,M,p])});function h(){m.reset(),p.reset(),c.forEach(C=>C.release())}return Object.assign(m.memoized,{release:h,projector:p.memoized,setResult:m.setResult,clearResult:m.clearResult})}}function yc(n){return Ce(t=>{let e=t[n];return!Bp()&&Pt()&&!(n in t)&&console.warn(`@ngrx/store: The feature name "${n}" does not exist in the state, therefore createFeatureSelector cannot access it.  Be sure it is imported in a loaded module using StoreModule.forRoot('${n}', ...) or StoreModule.forFeature('${n}', ...).  If the default state is intended to be undefined, as is the case with router state, this development-only warning message can be ignored.`),e},t=>t)}function Kp(n){return!!n&&typeof n=="object"&&Object.values(n).every(t=>typeof t=="function")}function Yp(n){let t=Object.values(n),e=Object.keys(n),i=(...o)=>e.reduce((r,c,p)=>L(w({},r),{[c]:o[p]}),{});return[...t,i]}function Zp(n){return n instanceof B?b(n):n}function Mc(n){return typeof n=="function"?n():n}function Xp(n,t){return n.concat(t)}function Qp(){if(b(Ee,{optional:!0,skipSelf:!0}))throw new TypeError("The root Store has been provided more than once. Feature modules should provide feature states instead.");return"guarded"}function Jp(n,t){return function(e,i){let o=t.action(i)?pr(i):i,r=n(e,o);return t.state()?pr(r):r}}function pr(n){Object.freeze(n);let t=dr(n);return Object.getOwnPropertyNames(n).forEach(e=>{if(!e.startsWith("\u0275")&&Vp(n,e)&&(!t||e!=="caller"&&e!=="callee"&&e!=="arguments")){let i=n[e];(xc(i)||dr(i))&&!Object.isFrozen(i)&&pr(i)}}),n}function eu(n,t){return function(e,i){if(t.action(i)){let r=ur(i);mc(r,"action")}let o=n(e,i);if(t.state()){let r=ur(o);mc(r,"state")}return o}}function ur(n,t=[]){return(dc(n)||pc(n))&&t.length===0?{path:["root"],value:n}:Object.keys(n).reduce((i,o)=>{if(i)return i;let r=n[o];return $p(r)?i:dc(r)||pc(r)||Lp(r)||jp(r)||Fp(r)||Cc(r)?!1:Up(r)?ur(r,[...t,o]):{path:[...t,o],value:r}},!1)}function mc(n,t){if(n===!1)return;let e=n.path.join("."),i=new Error(`Detected unserializable ${t} at "${e}". ${gr}#strict${t}serializability`);throw i.value=n.value,i.unserializablePath=e,i}function tu(n,t){return function(e,i){if(t.action(i)&&!je.isInAngularZone())throw new Error(`Action '${i.type}' running outside NgZone. ${gr}#strictactionwithinngzone`);return n(e,i)}}function nu(n){return Pt()?w({strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!0,strictActionImmutability:!0,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1},n):{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1}}function iu({strictActionSerializability:n,strictStateSerializability:t}){return e=>n||t?eu(e,{action:i=>n&&!fr(i),state:()=>t}):e}function ou({strictActionImmutability:n,strictStateImmutability:t}){return e=>n||t?Jp(e,{action:i=>n&&!fr(i),state:()=>t}):e}function fr(n){return n.type.startsWith("@ngrx")}function ru({strictActionWithinNgZone:n}){return t=>n?tu(t,{action:e=>n&&!fr(e)}):t}function au(n){return[{provide:cc,useValue:n},{provide:sc,useFactory:cu,deps:[cc]},{provide:Ln,deps:[sc],useFactory:nu},{provide:Yi,multi:!0,deps:[Ln],useFactory:ou},{provide:Yi,multi:!0,deps:[Ln],useFactory:iu},{provide:Yi,multi:!0,deps:[Ln],useFactory:ru}]}function su(){return[{provide:mr,multi:!0,deps:[Ln],useFactory:lu}]}function cu(n){return n}function lu(n){if(!n.strictActionTypeUniqueness)return;let t=Object.entries(lr).filter(([,e])=>e>1).map(([e])=>e);if(t.length)throw new Error(`Action types are registered more than once, ${t.map(e=>`"${e}"`).join(", ")}. ${gr}#strictactiontypeuniqueness`)}function du(n={},t={}){return[{provide:gc,useFactory:Qp},{provide:nc,useValue:t.initialState},{provide:$n,useFactory:Mc,deps:[nc]},{provide:cr,useValue:n},{provide:oc,useExisting:n instanceof B?n:cr},{provide:hc,deps:[cr,[new ra(oc)]],useFactory:Zp},{provide:rc,useValue:t.metaReducers?t.metaReducers:[]},{provide:ac,deps:[Yi,rc],useFactory:Xp},{provide:ic,useValue:t.reducerFactory?t.reducerFactory:Ep},{provide:fc,deps:[ic,ac],useFactory:_c},Mp,Tp,kp,Ap,Rp,au(t.runtimeChecks),su()]}function pu(){b(Ke),b(Ct),b(Kt),b(Ee),b(gc,{optional:!0}),b(mr,{optional:!0})}var uu=[{provide:zn,useFactory:pu},nn(()=>b(zn))];function Sc(n,t){return Ue([...du(n,t),uu])}function mu(){b(zn);let n=b(Sp),t=b(wp),e=b(Xi);b(mr,{optional:!0});let i=n.map((o,r)=>{let p=t.shift()[r];return L(w({},o),{reducers:p,initialState:Mc(o.initialState)})});e.addFeatures(i)}var i_=[{provide:Zi,useFactory:mu},nn(()=>b(Zi))];var vr="__@ngrx/effects_create__";function gu(n){return Object.getOwnPropertyNames(n).filter(i=>n[i]&&n[i].hasOwnProperty(vr)?n[i][vr].hasOwnProperty("dispatch"):!1).map(i=>{let o=n[i][vr];return w({propertyName:i},o)})}function fu(n){return gu(n)}function wc(n){return Object.getPrototypeOf(n)}function hu(n){return!!n.constructor&&n.constructor.name!=="Object"&&n.constructor.name!=="Function"}function Ec(n){return typeof n=="function"}function vu(n){return n.filter(Ec)}function _u(n,t,e){let i=wc(n),r=!!i&&i.constructor.name!=="Object"?i.constructor.name:null,c=fu(n).map(({propertyName:p,dispatch:m,useEffectsErrorHandler:h})=>{let C=typeof n[p]=="function"?n[p]():n[p],M=h?e(C,t):C;return m===!1?M.pipe(Br()):M.pipe(Yr()).pipe(H(K=>({effect:n[p],notification:K,propertyName:p,sourceName:r,sourceInstance:n})))});return yt(...c)}var Cu=10;function Oc(n,t,e=Cu){return n.pipe(ze(i=>(t&&t.handleError(i),e<=1?n:Oc(n,t,e-1))))}var xu=new B("@ngrx/effects Effects Error Handler",{providedIn:"root",factory:()=>Oc}),bu="@ngrx/effects/init",yu=de(bu);function Mu(n,t){if(n.notification.kind==="N"){let e=n.notification.value;!Su(e)&&t.handleError(new Error(`Effect ${wu(n)} dispatched an invalid action: ${Eu(e)}`))}}function Su(n){return typeof n!="function"&&n&&n.type&&typeof n.type=="string"}function wu({propertyName:n,sourceInstance:t,sourceName:e}){let i=typeof t[n]=="function";return!!e?`"${e}.${String(n)}${i?"()":""}"`:`"${String(n)}()"`}function Eu(n){try{return JSON.stringify(n)}catch{return n}}var Ou="ngrxOnIdentifyEffects";function Pu(n){return _r(n,Ou)}var Tu="ngrxOnRunEffects";function ku(n){return _r(n,Tu)}var Iu="ngrxOnInitEffects";function Au(n){return _r(n,Iu)}function _r(n,t){return n&&t in n&&typeof n[t]=="function"}var Pc=(()=>{let t=class t extends ge{constructor(i,o){super(),this.errorHandler=i,this.effectsErrorHandler=o}addEffects(i){this.next(i)}toActions(){return this.pipe(Co(i=>hu(i)?wc(i):i),ve(i=>i.pipe(Co(Ru))),ve(i=>{let o=i.pipe(Gr(c=>Du(this.errorHandler,this.effectsErrorHandler)(c)),H(c=>(Mu(c,this.errorHandler),c.notification)),le(c=>c.kind==="N"&&c.value!=null),Wr()),r=i.pipe(he(1),le(Au),H(c=>c.ngrxOnInitEffects()));return yt(o,r)}))}};t.\u0275fac=function(o){return new(o||t)(I(pt),I(xu))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();function Ru(n){return Pu(n)?n.ngrxOnIdentifyEffects():""}function Du(n,t){return e=>{let i=_u(e,n,t);return ku(e)?e.ngrxOnRunEffects(i):i}}var Nu=(()=>{let t=class t{get isStarted(){return!!this.effectsSubscription}constructor(i,o){this.effectSources=i,this.store=o,this.effectsSubscription=null}start(){this.effectsSubscription||(this.effectsSubscription=this.effectSources.toActions().subscribe(this.store))}ngOnDestroy(){this.effectsSubscription&&(this.effectsSubscription.unsubscribe(),this.effectsSubscription=null)}};t.\u0275fac=function(o){return new(o||t)(I(Pc),I(Ee))},t.\u0275prov=U({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();function Tc(...n){let t=n.flat(),e=vu(t);return Ue([e,nn(()=>{b(zn),b(Zi,{optional:!0});let i=b(Nu),o=b(Pc),r=!i.isStarted;r&&i.start();for(let c of t){let p=Ec(c)?b(c):c;o.addEffects(p)}r&&b(Ee).dispatch(yu())})])}var Hn="PERFORM_ACTION",Fu="REFRESH",Nc="RESET",Fc="ROLLBACK",jc="COMMIT",Lc="SWEEP",zc="TOGGLE_ACTION",ju="SET_ACTIONS_ACTIVE",Uc="JUMP_TO_STATE",$c="JUMP_TO_ACTION",Ir="IMPORT_STATE",Vc="LOCK_CHANGES",Hc="PAUSE_RECORDING",Yt=class{constructor(t,e){if(this.action=t,this.timestamp=e,this.type=Hn,typeof t.type>"u")throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?')}},Cr=class{constructor(){this.type=Fu}},xr=class{constructor(t){this.timestamp=t,this.type=Nc}},br=class{constructor(t){this.timestamp=t,this.type=Fc}},yr=class{constructor(t){this.timestamp=t,this.type=jc}},Mr=class{constructor(){this.type=Lc}},Sr=class{constructor(t){this.id=t,this.type=zc}};var wr=class{constructor(t){this.index=t,this.type=Uc}},Er=class{constructor(t){this.actionId=t,this.type=$c}},Or=class{constructor(t){this.nextLiftedState=t,this.type=Ir}},Pr=class{constructor(t){this.status=t,this.type=Vc}},Tr=class{constructor(t){this.status=t,this.type=Hc}};var no=new B("@ngrx/store-devtools Options"),kc=new B("@ngrx/store-devtools Initial Config");function Bc(){return null}var Lu="NgRx Store DevTools";function zu(n){let t={maxAge:!1,monitor:Bc,actionSanitizer:void 0,stateSanitizer:void 0,name:Lu,serialize:!1,logOnly:!1,autoPause:!1,trace:!1,traceLimit:75,features:{pause:!0,lock:!0,persist:!0,export:!0,import:"custom",jump:!0,skip:!0,reorder:!0,dispatch:!0,test:!0},connectInZone:!1},e=typeof n=="function"?n():n,i=e.logOnly?{pause:!0,export:!0,test:!0}:!1,o=e.features||i||t.features;o.import===!0&&(o.import="custom");let r=Object.assign({},t,{features:o},e);if(r.maxAge&&r.maxAge<2)throw new Error(`Devtools 'maxAge' cannot be less than 2, got ${r.maxAge}`);return r}function Ic(n,t){return n.filter(e=>t.indexOf(e)<0)}function Wc(n){let{computedStates:t,currentStateIndex:e}=n;if(e>=t.length){let{state:o}=t[t.length-1];return o}let{state:i}=t[e];return i}function Vn(n){return new Yt(n,+Date.now())}function Uu(n,t){return Object.keys(t).reduce((e,i)=>{let o=Number(i);return e[o]=qc(n,t[o],o),e},{})}function qc(n,t,e){return L(w({},t),{action:n(t.action,e)})}function $u(n,t){return t.map((e,i)=>({state:Gc(n,e.state,i),error:e.error}))}function Gc(n,t,e){return n(t,e)}function Kc(n){return n.predicate||n.actionsSafelist||n.actionsBlocklist}function Vu(n,t,e,i){let o=[],r={},c=[];return n.stagedActionIds.forEach((p,m)=>{let h=n.actionsById[p];h&&(m&&Ar(n.computedStates[m],h,t,e,i)||(r[p]=h,o.push(p),c.push(n.computedStates[m])))}),L(w({},n),{stagedActionIds:o,actionsById:r,computedStates:c})}function Ar(n,t,e,i,o){let r=e&&!e(n,t.action),c=i&&!t.action.type.match(i.map(m=>Ac(m)).join("|")),p=o&&t.action.type.match(o.map(m=>Ac(m)).join("|"));return r||c||p}function Ac(n){return n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Yc(n){return{ngZone:n?b(je):null,connectInZone:n}}var io=(()=>{let t=class t extends Ke{};t.\u0275fac=(()=>{let i;return function(r){return(i||(i=ut(t)))(r||t)}})(),t.\u0275prov=U({token:t,factory:t.\u0275fac});let n=t;return n})(),Ji={START:"START",DISPATCH:"DISPATCH",STOP:"STOP",ACTION:"ACTION"},kr=new B("@ngrx/store-devtools Redux Devtools Extension"),Zc=(()=>{let t=class t{constructor(i,o,r){this.config=o,this.dispatcher=r,this.zoneConfig=Yc(this.config.connectInZone),this.devtoolsExtension=i,this.createActionStreams()}notify(i,o){if(this.devtoolsExtension)if(i.type===Hn){if(o.isLocked||o.isPaused)return;let r=Wc(o);if(Kc(this.config)&&Ar(r,i,this.config.predicate,this.config.actionsSafelist,this.config.actionsBlocklist))return;let c=this.config.stateSanitizer?Gc(this.config.stateSanitizer,r,o.currentStateIndex):r,p=this.config.actionSanitizer?qc(this.config.actionSanitizer,i,o.nextActionId):i;this.sendToReduxDevtools(()=>this.extensionConnection.send(p,c))}else{let r=L(w({},o),{stagedActionIds:o.stagedActionIds,actionsById:this.config.actionSanitizer?Uu(this.config.actionSanitizer,o.actionsById):o.actionsById,computedStates:this.config.stateSanitizer?$u(this.config.stateSanitizer,o.computedStates):o.computedStates});this.sendToReduxDevtools(()=>this.devtoolsExtension.send(null,r,this.getExtensionConfig(this.config)))}}createChangesObservable(){return this.devtoolsExtension?new xe(i=>{let o=this.zoneConfig.connectInZone?this.zoneConfig.ngZone.runOutsideAngular(()=>this.devtoolsExtension.connect(this.getExtensionConfig(this.config))):this.devtoolsExtension.connect(this.getExtensionConfig(this.config));return this.extensionConnection=o,o.init(),o.subscribe(r=>i.next(r)),o.unsubscribe}):Ne}createActionStreams(){let i=this.createChangesObservable().pipe(Xr()),o=i.pipe(le(C=>C.type===Ji.START)),r=i.pipe(le(C=>C.type===Ji.STOP)),c=i.pipe(le(C=>C.type===Ji.DISPATCH),H(C=>this.unwrapAction(C.payload)),lt(C=>C.type===Ir?this.dispatcher.pipe(le(M=>M.type===Qi),$r(1e3),Hr(1e3),H(()=>C),ze(()=>V(C)),he(1)):V(C))),m=i.pipe(le(C=>C.type===Ji.ACTION),H(C=>this.unwrapAction(C.payload))).pipe(dt(r)),h=c.pipe(dt(r));this.start$=o.pipe(dt(r)),this.actions$=this.start$.pipe(ae(()=>m)),this.liftedActions$=this.start$.pipe(ae(()=>h))}unwrapAction(i){return typeof i=="string"?(0,eval)(`(${i})`):i}getExtensionConfig(i){let o={name:i.name,features:i.features,serialize:i.serialize,autoPause:i.autoPause??!1,trace:i.trace??!1,traceLimit:i.traceLimit??75};return i.maxAge!==!1&&(o.maxAge=i.maxAge),o}sendToReduxDevtools(i){try{i()}catch(o){console.warn("@ngrx/store-devtools: something went wrong inside the redux devtools",o)}}};t.\u0275fac=function(o){return new(o||t)(I(kr),I(no),I(io))},t.\u0275prov=U({token:t,factory:t.\u0275fac});let n=t;return n})(),to={type:Un},Hu="@ngrx/store-devtools/recompute",Bu={type:Hu};function Xc(n,t,e,i,o){if(i)return{state:e,error:"Interrupted by an error up the chain"};let r=e,c;try{r=n(e,t)}catch(p){c=p.toString(),o.handleError(p)}return{state:r,error:c}}function eo(n,t,e,i,o,r,c,p,m){if(t>=n.length&&n.length===r.length)return n;let h=n.slice(0,t),C=r.length-(m?1:0);for(let M=t;M<C;M++){let k=r[M],K=o[k].action,j=h[M-1],W=j?j.state:i,se=j?j.error:void 0,Pe=c.indexOf(k)>-1?j:Xc(e,K,W,se,p);h.push(Pe)}return m&&h.push(n[n.length-1]),h}function Wu(n,t){return{monitorState:t(void 0,{}),nextActionId:1,actionsById:{0:Vn(to)},stagedActionIds:[0],skippedActionIds:[],committedState:n,currentStateIndex:0,computedStates:[],isLocked:!1,isPaused:!1}}function qu(n,t,e,i,o={}){return r=>(c,p)=>{let{monitorState:m,actionsById:h,nextActionId:C,stagedActionIds:M,skippedActionIds:k,committedState:K,currentStateIndex:j,computedStates:W,isLocked:se,isPaused:re}=c||t;c||(h=Object.create(h));function Pe(ce){let te=ce,et=M.slice(1,te+1);for(let De=0;De<et.length;De++)if(W[De+1].error){te=De,et=M.slice(1,te+1);break}else delete h[et[De]];k=k.filter(De=>et.indexOf(De)===-1),M=[0,...M.slice(te+1)],K=W[te].state,W=W.slice(te),j=j>te?j-te:0}function Re(){h={0:Vn(to)},C=1,M=[0],k=[],K=W[j].state,j=0,W=[]}let ee=0;switch(p.type){case Vc:{se=p.status,ee=1/0;break}case Hc:{re=p.status,re?(M=[...M,C],h[C]=new Yt({type:"@ngrx/devtools/pause"},+Date.now()),C++,ee=M.length-1,W=W.concat(W[W.length-1]),j===M.length-2&&j++,ee=1/0):Re();break}case Nc:{h={0:Vn(to)},C=1,M=[0],k=[],K=n,j=0,W=[];break}case jc:{Re();break}case Fc:{h={0:Vn(to)},C=1,M=[0],k=[],j=0,W=[];break}case zc:{let{id:ce}=p;k.indexOf(ce)===-1?k=[ce,...k]:k=k.filter(et=>et!==ce),ee=M.indexOf(ce);break}case ju:{let{start:ce,end:te,active:et}=p,De=[];for(let go=ce;go<te;go++)De.push(go);et?k=Ic(k,De):k=[...k,...De],ee=M.indexOf(ce);break}case Uc:{j=p.index,ee=1/0;break}case $c:{let ce=M.indexOf(p.actionId);ce!==-1&&(j=ce),ee=1/0;break}case Lc:{M=Ic(M,k),k=[],j=Math.min(j,M.length-1);break}case Hn:{if(se)return c||t;if(re||c&&Ar(c.computedStates[j],p,o.predicate,o.actionsSafelist,o.actionsBlocklist)){let te=W[W.length-1];W=[...W.slice(0,-1),Xc(r,p.action,te.state,te.error,e)],ee=1/0;break}o.maxAge&&M.length===o.maxAge&&Pe(1),j===M.length-1&&j++;let ce=C++;h[ce]=p,M=[...M,ce],ee=M.length-1;break}case Ir:{({monitorState:m,actionsById:h,nextActionId:C,stagedActionIds:M,skippedActionIds:k,committedState:K,currentStateIndex:j,computedStates:W,isLocked:se,isPaused:re}=p.nextLiftedState);break}case Un:{ee=0,o.maxAge&&M.length>o.maxAge&&(W=eo(W,ee,r,K,h,M,k,e,re),Pe(M.length-o.maxAge),ee=1/0);break}case Qi:{if(W.filter(te=>te.error).length>0)ee=0,o.maxAge&&M.length>o.maxAge&&(W=eo(W,ee,r,K,h,M,k,e,re),Pe(M.length-o.maxAge),ee=1/0);else{if(!re&&!se){j===M.length-1&&j++;let te=C++;h[te]=new Yt(p,+Date.now()),M=[...M,te],ee=M.length-1,W=eo(W,ee,r,K,h,M,k,e,re)}W=W.map(te=>L(w({},te),{state:r(te.state,Bu)})),j=M.length-1,o.maxAge&&M.length>o.maxAge&&Pe(M.length-o.maxAge),ee=1/0}break}default:{ee=1/0;break}}return W=eo(W,ee,r,K,h,M,k,e,re),m=i(m,p),{monitorState:m,actionsById:h,nextActionId:C,stagedActionIds:M,skippedActionIds:k,committedState:K,currentStateIndex:j,computedStates:W,isLocked:se,isPaused:re}}}var Rc=(()=>{let t=class t{constructor(i,o,r,c,p,m,h,C){let M=Wu(h,C.monitor),k=qu(h,M,m,C.monitor,C),K=yt(yt(o.asObservable().pipe(Qr(1)),c.actions$).pipe(H(Vn)),i,c.liftedActions$).pipe(ei(Jn)),j=r.pipe(H(k)),W=Yc(C.connectInZone),se=new Lr(1);this.liftedStateSubscription=K.pipe(ii(j),Dc(W),Mt(({state:Re},[ee,ce])=>{let te=ce(Re,ee);return ee.type!==Hn&&Kc(C)&&(te=Vu(te,C.predicate,C.actionsSafelist,C.actionsBlocklist)),c.notify(ee,te),{state:te,action:ee}},{state:M,action:null})).subscribe(({state:Re,action:ee})=>{if(se.next(Re),ee.type===Hn){let ce=ee.action;p.next(ce)}}),this.extensionStartSubscription=c.start$.pipe(Dc(W)).subscribe(()=>{this.refresh()});let re=se.asObservable(),Pe=re.pipe(H(Wc));Object.defineProperty(Pe,"state",{value:Ki(Pe,{manualCleanup:!0,requireSync:!0})}),this.dispatcher=i,this.liftedState=re,this.state=Pe}ngOnDestroy(){this.liftedStateSubscription.unsubscribe(),this.extensionStartSubscription.unsubscribe()}dispatch(i){this.dispatcher.next(i)}next(i){this.dispatcher.next(i)}error(i){}complete(){}performAction(i){this.dispatch(new Yt(i,+Date.now()))}refresh(){this.dispatch(new Cr)}reset(){this.dispatch(new xr(+Date.now()))}rollback(){this.dispatch(new br(+Date.now()))}commit(){this.dispatch(new yr(+Date.now()))}sweep(){this.dispatch(new Mr)}toggleAction(i){this.dispatch(new Sr(i))}jumpToAction(i){this.dispatch(new Er(i))}jumpToState(i){this.dispatch(new wr(i))}importState(i){this.dispatch(new Or(i))}lockChanges(i){this.dispatch(new Pr(i))}pauseRecording(i){this.dispatch(new Tr(i))}};t.\u0275fac=function(o){return new(o||t)(I(io),I(Ke),I(Ct),I(Zc),I(Kt),I(pt),I($n),I(no))},t.\u0275prov=U({token:t,factory:t.\u0275fac});let n=t;return n})();function Dc({ngZone:n,connectInZone:t}){return e=>t?new xe(i=>e.subscribe({next:o=>n.run(()=>i.next(o)),error:o=>n.run(()=>i.error(o)),complete:()=>n.run(()=>i.complete())})):e}var Gu=new B("@ngrx/store-devtools Is Devtools Extension or Monitor Present");function Ku(n,t){return!!n||t.monitor!==Bc}function Yu(){let n="__REDUX_DEVTOOLS_EXTENSION__";return typeof window=="object"&&typeof window[n]<"u"?window[n]:null}function Zu(n){return n.state}function Qc(n={}){return Ue([Zc,io,Rc,{provide:kc,useValue:n},{provide:Gu,deps:[kr,no],useFactory:Ku},{provide:kr,useFactory:Yu},{provide:no,deps:[kc],useFactory:zu},{provide:Gt,deps:[Rc],useFactory:Zu},{provide:qt,useExisting:io}])}var Rr="Service workers are disabled or not supported by this browser",Zt=class{serviceWorker;worker;registration;events;constructor(t,e){if(this.serviceWorker=t,!t)this.worker=this.events=this.registration=new xe(i=>i.error(new Y(5601,!1)));else{let i=null,o=new ge;this.worker=new xe(h=>(i!==null&&h.next(i),o.subscribe(C=>h.next(C))));let r=()=>{let{controller:h}=t;h!==null&&(i=h,o.next(i))};t.addEventListener("controllerchange",r),r(),this.registration=this.worker.pipe(ae(()=>t.getRegistration().then(h=>{if(!h)throw new Y(5601,!1);return h})));let c=new ge;this.events=c.asObservable();let p=h=>{let{data:C}=h;C?.type&&c.next(C)};t.addEventListener("message",p),e?.get(dn,null,{optional:!0})?.onDestroy(()=>{t.removeEventListener("controllerchange",r),t.removeEventListener("message",p)})}}postMessage(t,e){return new Promise(i=>{this.worker.pipe(he(1)).subscribe(o=>{o.postMessage(w({action:t},e)),i()})})}postMessageWithOperation(t,e,i){let o=this.waitForOperationCompleted(i),r=this.postMessage(t,e);return Promise.all([r,o]).then(([,c])=>c)}generateNonce(){return Math.round(Math.random()*1e7)}eventsOfType(t){let e;return typeof t=="string"?e=i=>i.type===t:e=i=>t.includes(i.type),this.events.pipe(le(e))}nextEventOfType(t){return this.eventsOfType(t).pipe(he(1))}waitForOperationCompleted(t){return new Promise((e,i)=>{this.eventsOfType("OPERATION_COMPLETED").pipe(le(o=>o.nonce===t),he(1),H(o=>{if(o.result!==void 0)return o.result;throw new Error(o.error)})).subscribe({next:e,error:i})})}get isEnabled(){return!!this.serviceWorker}},Xu=(()=>{class n{sw;messages;notificationClicks;notificationCloses;pushSubscriptionChanges;subscription;get isEnabled(){return this.sw.isEnabled}pushManager=null;subscriptionChanges=new ge;constructor(e){if(this.sw=e,!e.isEnabled){this.messages=tt,this.notificationClicks=tt,this.notificationCloses=tt,this.pushSubscriptionChanges=tt,this.subscription=tt;return}this.messages=this.sw.eventsOfType("PUSH").pipe(H(o=>o.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(H(o=>o.data)),this.notificationCloses=this.sw.eventsOfType("NOTIFICATION_CLOSE").pipe(H(o=>o.data)),this.pushSubscriptionChanges=this.sw.eventsOfType("PUSH_SUBSCRIPTION_CHANGE").pipe(H(o=>o.data)),this.pushManager=this.sw.registration.pipe(H(o=>o.pushManager));let i=this.pushManager.pipe(ae(o=>o.getSubscription()));this.subscription=new xe(o=>{let r=i.subscribe(o),c=this.subscriptionChanges.subscribe(o);return()=>{r.unsubscribe(),c.unsubscribe()}})}requestSubscription(e){if(!this.sw.isEnabled||this.pushManager===null)return Promise.reject(new Error(Rr));let i={userVisibleOnly:!0},o=this.decodeBase64(e.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),r=new Uint8Array(new ArrayBuffer(o.length));for(let c=0;c<o.length;c++)r[c]=o.charCodeAt(c);return i.applicationServerKey=r,new Promise((c,p)=>{this.pushManager.pipe(ae(m=>m.subscribe(i)),he(1)).subscribe({next:m=>{this.subscriptionChanges.next(m),c(m)},error:p})})}unsubscribe(){if(!this.sw.isEnabled)return Promise.reject(new Error(Rr));let e=i=>{if(i===null)throw new Y(5602,!1);return i.unsubscribe().then(o=>{if(!o)throw new Y(5603,!1);this.subscriptionChanges.next(null)})};return new Promise((i,o)=>{this.subscription.pipe(he(1),ae(e)).subscribe({next:i,error:o})})}decodeBase64(e){return atob(e)}static \u0275fac=function(i){return new(i||n)(I(Zt))};static \u0275prov=U({token:n,factory:n.\u0275fac})}return n})(),Qu=(()=>{class n{sw;versionUpdates;unrecoverable;get isEnabled(){return this.sw.isEnabled}ongoingCheckForUpdate=null;constructor(e){if(this.sw=e,!e.isEnabled){this.versionUpdates=tt,this.unrecoverable=tt;return}this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED","VERSION_FAILED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(Rr));if(this.ongoingCheckForUpdate)return this.ongoingCheckForUpdate;let e=this.sw.generateNonce();return this.ongoingCheckForUpdate=this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:e},e).finally(()=>{this.ongoingCheckForUpdate=null}),this.ongoingCheckForUpdate}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Y(5601,!1));let e=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:e},e)}static \u0275fac=function(i){return new(i||n)(I(Zt))};static \u0275prov=U({token:n,factory:n.\u0275fac})}return n})();var el=new B("");function Ju(){let n=b(Bn);if(!("serviceWorker"in navigator&&n.enabled!==!1))return;let t=b(el),e=b(je),i=b(dn);e.runOutsideAngular(()=>{let o=navigator.serviceWorker,r=()=>o.controller?.postMessage({action:"INITIALIZE"});o.addEventListener("controllerchange",r),i.onDestroy(()=>{o.removeEventListener("controllerchange",r)})}),e.runOutsideAngular(()=>{let o,{registrationStrategy:r}=n;if(typeof r=="function")o=new Promise(c=>r().subscribe(()=>c()));else{let[c,...p]=(r||"registerWhenStable:30000").split(":");switch(c){case"registerImmediately":o=Promise.resolve();break;case"registerWithDelay":o=Jc(+p[0]||0);break;case"registerWhenStable":o=Promise.race([i.whenStable(),Jc(+p[0])]);break;default:throw new Y(5600,!1)}}o.then(()=>{i.destroyed||navigator.serviceWorker.register(t,{scope:n.scope,updateViaCache:n.updateViaCache,type:n.type}).catch(c=>console.error(ea(5604,!1)))})})}function Jc(n){return new Promise(t=>setTimeout(t,n))}function em(n,t){return new Zt(n.enabled!==!1?navigator.serviceWorker:void 0,t)}var Bn=class{enabled;updateViaCache;type;scope;registrationStrategy};function tl(n,t={}){return Ue([Xu,Qu,{provide:el,useValue:n},{provide:Bn,useValue:t},{provide:Zt,useFactory:em,deps:[Bn,ke]},Eo(Ju)])}var nl=[];var il={providers:[ia(),Pa({eventCoalescing:!0}),ar(nl),Sc(),Tc(),Qc({maxAge:25,logOnly:!Pt()}),tl("ngsw-worker.js",{enabled:!Pt(),registrationStrategy:"registerWhenStable:30000"})]};var tm=(n,t)=>t.id;function nm(n,t){if(n&1){let e=D();l(0,"div",4),S("dblclick",function(){let o=E(e).$implicit,r=u();return O(r.onIconClick(o))}),l(1,"div",5),N(2,"app-icon",6),d(),l(3,"div",7),s(4),d()()}if(n&2){let e=t.$implicit;Z("left",e.x,"px")("top",e.y,"px"),z("appTooltip",e.name)("tooltipPosition","bottom"),a(2),z("name",e.icon),a(2),x(e.name)}}function im(n,t){if(n&1){let e=D();l(0,"div",8),S("click",function(o){return E(e),O(o.stopPropagation())})("keydown",function(o){E(e);let r=u();return O(r.onContextMenuKeyDown(o))}),l(1,"div",9),S("click",function(){E(e);let o=u();return O(o.newFolder())}),l(2,"span",10),N(3,"app-icon",11),d(),s(4," New Folder "),d(),l(5,"div",9),S("click",function(){E(e);let o=u();return O(o.newFile())}),l(6,"span",10),N(7,"app-icon",12),d(),s(8," New File "),d(),N(9,"div",13),l(10,"div",9),S("click",function(){E(e);let o=u();return O(o.refreshDesktop())}),l(11,"span",10),N(12,"app-icon",14),d(),s(13," Refresh "),d(),N(14,"div",13),l(15,"div",9),S("click",function(){E(e);let o=u();return O(o.openTerminal())}),l(16,"span",10),N(17,"app-icon",15),d(),s(18," Open Terminal "),d(),N(19,"div",13),l(20,"div",9),S("click",function(){E(e);let o=u();return O(o.openDisplaySettings())}),l(21,"span",10),N(22,"app-icon",16),d(),s(23," Display Settings "),d()()}if(n&2){let e=u();Z("left",e.contextMenuX(),"px")("top",e.contextMenuY(),"px"),$("aria-label","Desktop context menu")}}var Wn=class n{fs=b(Tt);wallpaperService=b(Ua);icons=P([]);wallpaper=this.wallpaperService.getWallpaper();contextMenuVisible=P(!1);contextMenuX=P(0);contextMenuY=P(0);windowManager;folderCounter=0;fileCounter=0;constructor(){Ze(()=>{this.contextMenuVisible()&&setTimeout(()=>this.focusFirstMenuItem(),0)})}focusFirstMenuItem(){document.querySelector('.context-menu .menu-item[role="menuitem"]')?.focus()}onContextMenuKeyDown(t){let e=Array.from(document.querySelectorAll('.context-menu .menu-item[role="menuitem"]')),i=e.findIndex(o=>o===document.activeElement);switch(t.key){case"ArrowDown":t.preventDefault();let o=(i+1)%e.length;e[o]?.focus();break;case"ArrowUp":t.preventDefault();let r=(i-1+e.length)%e.length;e[r]?.focus();break;case"Enter":case" ":t.preventDefault(),document.activeElement?.click();break;case"Escape":t.preventDefault(),this.contextMenuVisible.set(!1);break}}addIcon(t,e,i,o,r){let c=crypto.randomUUID();if(o!==void 0&&r!==void 0)return this.icons.update(re=>[...re,{id:c,name:t,icon:e,x:o,y:r,action:i}]),c;let p=100,m=100,h=20,C=typeof window<"u"?window.innerHeight:1080,M=Math.floor((C-48-h*2)/p),k=this.icons().length,K=Math.floor(k/M),j=k%M,W=h+K*m,se=h+j*p;return this.icons.update(re=>[...re,{id:c,name:t,icon:e,x:W,y:se,action:i}]),c}removeIcon(t){this.icons.update(e=>e.filter(i=>i.id!==t))}moveIcon(t,e,i){this.icons.update(o=>o.map(r=>r.id===t?L(w({},r),{x:e,y:i}):r))}clearIcons(){this.icons.set([])}onIconClick(t){t.action()}onContextMenu(t){t.preventDefault(),this.contextMenuX.set(t.clientX),this.contextMenuY.set(t.clientY),this.contextMenuVisible.set(!0)}onDesktopClick(){this.contextMenuVisible.set(!1)}setWindowManager(t){this.windowManager=t}openDisplaySettings(){return J(this,null,function*(){if(this.contextMenuVisible.set(!1),this.windowManager){let{Settings:t}=yield import("./chunk-YNS2QNYE.js");this.windowManager.openWindow("Settings - Display",t,800,600,"settings")}})}refreshDesktop(){this.contextMenuVisible.set(!1);let t=this.icons();this.icons.set([]),setTimeout(()=>{this.icons.set(t)},0)}newFolder(){return J(this,null,function*(){this.contextMenuVisible.set(!1),this.folderCounter++;let t=`New Folder ${this.folderCounter}`,e=`/home/${this.fs.getCurrentUser()}/Desktop`;this.fs.createDirectory(`${e}/${t}`),this.addIcon(t,"folder",()=>J(this,null,function*(){if(this.windowManager){let{FileManager:i}=yield import("./chunk-G2FMZHDI.js");this.windowManager.openWindow(`File Manager - ${t}`,i,700,500,"folder")}}))})}newFile(){return J(this,null,function*(){this.contextMenuVisible.set(!1),this.fileCounter++;let t=`NewFile${this.fileCounter}.txt`,i=`${`/home/${this.fs.getCurrentUser()}/Desktop`}/${t}`;if(this.fs.writeFile(i,""),this.windowManager){let{TextEditor:o}=yield import("./chunk-IVZRV3PC.js");this.windowManager.openWindow("Text Editor",o,700,500,"file")}})}openTerminal(){return J(this,null,function*(){if(this.contextMenuVisible.set(!1),this.windowManager){let{Terminal:t}=yield import("./chunk-RADE3DYC.js");this.windowManager.openWindow("Terminal",t,800,600,"terminal")}})}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=Q({type:n,selectors:[["app-desktop"]],decls:5,vars:3,consts:[[1,"desktop",3,"contextmenu","click"],[1,"desktop-icons"],[1,"desktop-icon",3,"left","top","appTooltip","tooltipPosition"],["role","menu",1,"context-menu",3,"left","top"],[1,"desktop-icon",3,"dblclick","appTooltip","tooltipPosition"],[1,"icon-image"],["size","large",3,"name"],[1,"icon-label"],["role","menu",1,"context-menu",3,"click","keydown"],["role","menuitem","tabindex","0",1,"menu-item",3,"click"],[1,"menu-icon"],["name","folder","size","small"],["name","file","size","small"],[1,"menu-divider"],["name","refresh","size","small"],["name","terminal","size","small"],["name","settings","size","small"]],template:function(e,i){e&1&&(l(0,"div",0),S("contextmenu",function(r){return i.onContextMenu(r)})("click",function(){return i.onDesktopClick()}),l(1,"div",1),A(2,nm,5,8,"div",2,tm),d(),v(4,im,24,5,"div",3),d()),e&2&&(Z("background",i.wallpaper()),a(2),R(i.icons()),a(2),_(i.contextMenuVisible()?4:-1))},dependencies:[ne,Be,kt],styles:[".desktop[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:calc(100% - 48px);background-size:cover;background-position:center;background-repeat:no-repeat;overflow:hidden}.desktop-icons[_ngcontent-%COMP%]{position:relative;width:100%;height:100%}.desktop-icon[_ngcontent-%COMP%]{position:absolute;width:80px;display:flex;flex-direction:column;align-items:center;gap:8px;padding:8px;cursor:pointer;-webkit-user-select:none;user-select:none;border-radius:var(--border-radius);transition:background-color var(--transition-speed)}.desktop-icon[_ngcontent-%COMP%]:hover{background-color:var(--hover-bg)}.icon-image[_ngcontent-%COMP%]{font-size:48px;width:64px;height:64px;display:flex;align-items:center;justify-content:center;border:3px solid var(--border-color);border-radius:12px}.icon-label[_ngcontent-%COMP%]{font-size:12px;text-align:center;word-wrap:break-word;max-width:80px;text-shadow:0 1px 2px var(--shadow)}.context-menu[_ngcontent-%COMP%]{position:fixed;background-color:var(--bg-secondary);border:1px solid var(--border-color);border-radius:var(--border-radius);box-shadow:0 4px 16px var(--shadow);padding:4px 0;min-width:200px;z-index:10000}.menu-item[_ngcontent-%COMP%]{padding:8px 16px;cursor:pointer;transition:background-color var(--transition-speed);display:flex;align-items:center;gap:12px}.menu-item[_ngcontent-%COMP%]:hover:not(.disabled){background-color:var(--hover-bg)}.menu-item.disabled[_ngcontent-%COMP%]{opacity:.5;cursor:not-allowed}.menu-icon[_ngcontent-%COMP%]{font-size:16px;width:20px;display:flex;align-items:center;justify-content:center}.menu-divider[_ngcontent-%COMP%]{height:1px;background-color:var(--border-color);margin:4px 0}"]})};var Xt=class n{constructor(t,e){this.storage=t;this.notificationService=e}STORAGE_KEY="daily_tip_state";MAX_TIP_DAYS=7;currentTip=P(null);shouldShowTip=P(!1);tips=[{id:"day1_help",title:"Getting Help",content:'Type "help" in the Terminal to see all available commands. Use "help <command>" for detailed info about a specific command.',category:"commands",priority:1},{id:"day2_scan",title:"Scanning Networks",content:'Use "scan" to discover hosts on a network. This is your first step in any hacking operation. Example: scan 192.168.1.0/24',category:"commands",priority:2},{id:"day3_shortcuts",title:"Keyboard Shortcuts",content:"Speed up your workflow: Tab = autocomplete, Ctrl+L = clear terminal, Up/Down arrows = command history.",category:"shortcuts",priority:3},{id:"day4_missions",title:"Mission Strategy",content:"Check your Email for missions regularly. Complete all objectives before claiming rewards for bonus credits!",category:"strategies",priority:4},{id:"day5_upgrades",title:"Smart Upgrades",content:"Prioritize CPU upgrades first (faster operations), then RAM (multitasking), then stealth modules.",category:"economy",priority:5},{id:"day6_stealth",title:"Staying Undetected",content:'Use "bounce" to route through compromised systems and mask your IP. Monitor detection with "trace" command.',category:"hacking",priority:6},{id:"day7_network_map",title:"Network Visualization",content:"Open the Network Map to see all discovered systems. Green = compromised, Red = secure, Yellow = partial access.",category:"navigation",priority:7}];initialize(){return J(this,null,function*(){let t=yield this.loadState(),e=this.getTodayString();t.firstLoginDate||(t.firstLoginDate=e,t.daysSinceFirstLogin=0);let i=this.calculateDaysSince(t.firstLoginDate);if(t.daysSinceFirstLogin=i,i<this.MAX_TIP_DAYS&&t.lastShownDate!==e){let o=this.selectTipForDay(i,t.shownTipIds);o&&(this.currentTip.set(o),this.shouldShowTip.set(!0),t.lastShownDate=e,t.shownTipIds.push(o.id),yield this.saveState(t))}})}selectTipForDay(t,e){let i=this.tips.find(r=>r.priority===t+1&&!e.includes(r.id));if(i)return i;let o=this.tips.filter(r=>!e.includes(r.id));return o.length===0?null:o[Math.floor(Math.random()*o.length)]}getTodayString(){let t=new Date;return`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}-${String(t.getDate()).padStart(2,"0")}`}calculateDaysSince(t){let e=new Date(t),i=new Date;i.setHours(0,0,0,0),e.setHours(0,0,0,0);let o=Math.abs(i.getTime()-e.getTime());return Math.floor(o/(1e3*60*60*24))}loadState(){return J(this,null,function*(){return(yield this.storage.get(this.STORAGE_KEY))||{lastShownDate:"",daysSinceFirstLogin:0,shownTipIds:[],firstLoginDate:""}})}saveState(t){return J(this,null,function*(){yield this.storage.set(this.STORAGE_KEY,t)})}dismissTip(){this.shouldShowTip.set(!1)}showNotification(){let t=this.currentTip();t&&this.notificationService.info(`\u{1F4A1} ${t.title}`,t.content)}static \u0275fac=function(e){return new(e||n)(I(Za),I(ot))};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})};var om=(n,t)=>t.id,rm=(n,t)=>t.name;function am(n,t){if(n&1){let e=D();l(0,"button",31),S("click",function(){let o=E(e).$implicit,r=u();return O(r.onAppClick(o))}),l(1,"span",32),N(2,"app-icon",33),d(),l(3,"span",34),s(4),d()()}if(n&2){let e=t.$implicit;F("active",e.active)("minimized",e.minimized),z("appTooltip",e.name)("tooltipPosition","top"),$("aria-label",e.name+(e.active?" (active)":"")+(e.minimized?" (minimized)":""))("aria-current",e.active?"true":null),a(2),z("name",e.icon),a(2),x(e.name)}}function sm(n,t){n&1&&(l(0,"span",11),s(1,"\u{1F6A8}"),d())}function cm(n,t){n&1&&N(0,"span",20)}function lm(n,t){if(n&1&&(l(0,"span",23),s(1),d()),n&2){let e=u();a(),x(e.activeMissionCount())}}function dm(n,t){if(n&1&&(l(0,"span",26),s(1),d()),n&2){let e=u();a(),x(e.notificationCount())}}function pm(n,t){if(n&1){let e=D();l(0,"button",35),S("click",function(){E(e);let o=u();return O(o.onDailyTipClick())}),N(1,"app-icon",36)(2,"span",37),d()}if(n&2){let e=u();z("appTooltip",e.dailyTipTooltip())("tooltipPosition","top")}}function um(n,t){if(n&1&&(l(0,"kbd",48),s(1),d()),n&2){let e=u().$implicit;a(),x(e.shortcut)}}function mm(n,t){if(n&1){let e=D();l(0,"li")(1,"button",43),S("click",function(){let o=E(e).$implicit,r=u(2);return O(r.onLauncherAppClick(o))}),l(2,"span",44),N(3,"app-icon",33),d(),l(4,"span",46),s(5),d(),v(6,um,2,1,"kbd",48),d()()}if(n&2){let e=t.$implicit;a(3),z("name",e.icon),a(2),x(e.name),a(),_(e.shortcut?6:-1)}}function gm(n,t){n&1&&N(0,"li",42)}function fm(n,t){if(n&1){let e=D();l(0,"div",38),S("click",function(){E(e);let o=u();return O(o.closeAppMenu())}),l(1,"nav",39),S("click",function(o){return E(e),O(o.stopPropagation())})("keydown",function(o){E(e);let r=u();return O(r.onAppMenuKeyDown(o))}),l(2,"h2",40),s(3,"Applications"),d(),l(4,"ul",41),A(5,mm,7,3,"li",null,rm),v(7,gm,1,0,"li",42),l(8,"li")(9,"button",43),S("click",function(){E(e);let o=u();return O(o.onHelpClick())}),l(10,"span",44),N(11,"app-icon",45),d(),l(12,"span",46),s(13,"Help & Tutorials"),d()()(),l(14,"li")(15,"button",43),S("click",function(){E(e);let o=u();return O(o.onLogout())}),l(16,"span",44),N(17,"app-icon",47),d(),l(18,"span",46),s(19,"Logout"),d()()()()()()}if(n&2){let e=u();a(5),R(e.launcherApps()),a(2),_(e.launcherApps().length>0?7:-1)}}var qn=class n{dialogService=b(rt);networkService=b(Rt);missionService=b(Ae);dailyTipService=b(Xt);username=He("");apps=P([]);launcherApps=P([]);showAppMenu=P(!1);currentTime=P("");notificationCount=P(0);networkActive=P(!1);activeMissionCount=T(()=>this.missionService.getActiveMissions().length);detectionLevel=T(()=>this.networkService.state$().detectionLevel);alarmActive=T(()=>this.networkService.state$().alarmTriggered);detectionTooltip=T(()=>{let t=this.detectionLevel();return this.alarmActive()?"\u{1F6A8} ALARM ACTIVE - Detection rate doubled!":t>=90?`Detection: ${t}% - CRITICAL! Alarm imminent!`:t>=75?`Detection: ${t}% - Very high risk`:t>=50?`Detection: ${t}% - Elevated risk`:`Detection: ${t}% - Low risk`});hasDailyTip=T(()=>this.dailyTipService.shouldShowTip());dailyTipTooltip=T(()=>{let t=this.dailyTipService.currentTip();return t?`\u{1F4A1} ${t.title}`:"No tip available"});logout=Ve();appClick=Ve();appRestore=Ve();missionClick=Ve();helpClick=Ve();constructor(){this.updateTime(),setInterval(()=>this.updateTime(),1e3),Ze(()=>{this.showAppMenu()&&setTimeout(()=>this.focusFirstAppMenuItem(),0)})}focusFirstAppMenuItem(){document.querySelector('.app-menu .menu-item[role="menuitem"]')?.focus()}onAppMenuKeyDown(t){let e=Array.from(document.querySelectorAll('.app-menu .menu-item[role="menuitem"]')),i=e.findIndex(o=>o===document.activeElement);switch(t.key){case"ArrowDown":t.preventDefault();let o=(i+1)%e.length;e[o]?.focus();break;case"ArrowUp":t.preventDefault();let r=(i-1+e.length)%e.length;e[r]?.focus();break;case"Enter":case" ":t.preventDefault(),document.activeElement?.click();break;case"Escape":t.preventDefault(),this.closeAppMenu();break}}updateTime(){let t=new Date;this.currentTime.set(t.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}))}addApp(t,e,i){this.apps.update(o=>[...o,{id:i,name:t,icon:e,active:!1,minimized:!1}])}removeApp(t){this.apps.update(e=>e.filter(i=>i.id!==t))}setAppActive(t,e){this.apps.update(i=>i.map(o=>L(w({},o),{active:o.id===t?e:!1})))}setAppMinimized(t,e){this.apps.update(i=>i.map(o=>o.id===t?L(w({},o),{minimized:e,active:!e}):o))}registerLauncherApp(t,e,i,o){this.launcherApps.update(r=>[...r,{name:t,icon:e,action:i,shortcut:o}])}clearLauncherApps(){this.launcherApps.set([])}setNotificationCount(t){this.notificationCount.set(t)}setNetworkActive(t){this.networkActive.set(t)}onAppClick(t){t.minimized?this.appRestore.emit(t.id):t.active?this.setAppMinimized(t.id,!0):this.appClick.emit(t.id)}onLauncherAppClick(t){this.closeAppMenu(),t.action()}onMissionClick(){this.missionClick.emit()}toggleAppMenu(){this.showAppMenu.update(t=>!t)}closeAppMenu(){this.showAppMenu.set(!1)}onLogout(){return J(this,null,function*(){this.closeAppMenu(),(yield this.dialogService.confirm({title:"Logout",message:"Are you sure you want to logout? Any unsaved progress will be lost.",confirmText:"Logout",cancelText:"Cancel",showDontAskAgain:!0,preferenceKey:"logout"})).confirmed&&this.logout.emit()})}onDailyTipClick(){this.dailyTipService.showNotification()}onHelpClick(){this.closeAppMenu(),this.helpClick.emit()}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=Q({type:n,selectors:[["app-taskbar"]],inputs:{username:[1,"username"]},outputs:{logout:"logout",appClick:"appClick",appRestore:"appRestore",missionClick:"missionClick",helpClick:"helpClick"},decls:37,vars:42,consts:[["role","navigation","aria-label","Taskbar",1,"taskbar"],[1,"taskbar-left"],["type","button","aria-label","Open applications menu",1,"app-menu-btn",3,"click","appTooltip","tooltipPosition"],["aria-hidden","true",1,"icon"],["name","menu","size","small"],[1,"label"],["role","list","aria-label","Running applications",1,"taskbar-apps"],["type","button","role","listitem",1,"taskbar-app",3,"active","minimized","appTooltip","tooltipPosition"],[1,"taskbar-right"],["role","group","aria-label","System tray",1,"system-tray"],["role","status",1,"detection-meter",3,"appTooltip","tooltipPosition"],["aria-hidden","true",1,"alarm-icon"],["aria-hidden","true",1,"detection-label"],[1,"detection-bar"],[1,"detection-fill"],[1,"detection-value"],["type","button","aria-label","Volume control",1,"tray-item",3,"appTooltip","tooltipPosition"],["name","volume","size","small"],["type","button",1,"tray-item","network",3,"appTooltip","tooltipPosition"],["name","network","size","small"],["aria-hidden","true",1,"activity-indicator"],["type","button",1,"tray-item","missions",3,"click","appTooltip","tooltipPosition"],["name","mission","size","small"],["aria-hidden","true",1,"mission-badge"],["type","button",1,"tray-item","notifications",3,"appTooltip","tooltipPosition"],["name","bell","size","small"],["aria-hidden","true",1,"notification-badge"],["type","button","aria-label","Daily tip available",1,"tray-item","daily-tip",3,"appTooltip","tooltipPosition"],["role","status","aria-label","Current user",1,"user-info",3,"appTooltip","tooltipPosition"],["aria-label","Current time",1,"clock",3,"appTooltip","tooltipPosition"],["role","presentation",1,"app-menu"],["type","button","role","listitem",1,"taskbar-app",3,"click","appTooltip","tooltipPosition"],["aria-hidden","true",1,"app-icon"],["size","small",3,"name"],[1,"app-name"],["type","button","aria-label","Daily tip available",1,"tray-item","daily-tip",3,"click","appTooltip","tooltipPosition"],["name","book","size","small"],["aria-hidden","true",1,"tip-pulse"],["role","presentation",1,"app-menu",3,"click"],["role","menu","aria-label","Applications menu",1,"menu-content",3,"click","keydown"],[1,"menu-header"],[1,"menu-items"],["role","separator",1,"menu-divider"],["type","button","role","menuitem","tabindex","0",1,"menu-item",3,"click"],["aria-hidden","true",1,"menu-icon"],["name","help","size","small"],[1,"menu-label"],["name","log-out","size","small"],[1,"menu-shortcut"]],template:function(e,i){e&1&&(l(0,"nav",0)(1,"div",1)(2,"button",2),S("click",function(){return i.toggleAppMenu()}),l(3,"span",3),N(4,"app-icon",4),d(),l(5,"span",5),s(6,"Apps"),d()(),l(7,"div",6),A(8,am,5,10,"button",7,om),d()(),l(10,"div",8)(11,"div",9)(12,"div",10),v(13,sm,2,0,"span",11),l(14,"span",12),s(15,"Detection"),d(),l(16,"div",13),N(17,"div",14),d(),l(18,"span",15),s(19),d()(),l(20,"button",16),N(21,"app-icon",17),d(),l(22,"button",18),N(23,"app-icon",19),v(24,cm,1,0,"span",20),d(),l(25,"button",21),S("click",function(){return i.onMissionClick()}),N(26,"app-icon",22),v(27,lm,2,1,"span",23),d(),l(28,"button",24),N(29,"app-icon",25),v(30,dm,2,1,"span",26),d(),v(31,pm,3,2,"button",27),d(),l(32,"div",28),s(33),d(),l(34,"time",29),s(35),d()(),v(36,fm,20,1,"div",30),d()),e&2&&(a(2),z("appTooltip","Applications Menu")("tooltipPosition","top"),$("aria-expanded",i.showAppMenu()),a(6),R(i.apps()),a(4),F("warning",i.detectionLevel()>=50&&i.detectionLevel()<75)("danger",i.detectionLevel()>=75&&i.detectionLevel()<90)("critical",i.detectionLevel()>=90||i.alarmActive()),z("appTooltip",i.detectionTooltip())("tooltipPosition","top"),$("aria-label","Detection level: "+i.detectionLevel()+"%"),a(),_(i.alarmActive()?13:-1),a(4),Z("width",i.detectionLevel(),"%"),a(2),y("",i.detectionLevel(),"%"),a(),z("appTooltip","Volume Control")("tooltipPosition","top"),a(2),F("active",i.networkActive()),z("appTooltip",i.networkActive()?"Network Active":"Network Idle")("tooltipPosition","top"),$("aria-label",i.networkActive()?"Network Active":"Network Idle"),a(2),_(i.networkActive()?24:-1),a(),z("appTooltip",i.activeMissionCount()+" active mission"+(i.activeMissionCount()!==1?"s":""))("tooltipPosition","top"),$("aria-label",i.activeMissionCount()+" active mission"+(i.activeMissionCount()!==1?"s":""))("aria-live","polite"),a(2),_(i.activeMissionCount()>0?27:-1),a(),z("appTooltip",i.notificationCount()+" notification"+(i.notificationCount()!==1?"s":""))("tooltipPosition","top"),$("aria-label",i.notificationCount()+" notification"+(i.notificationCount()>1?"s":""))("aria-live","polite"),a(2),_(i.notificationCount()>0?30:-1),a(),_(i.hasDailyTip()?31:-1),a(),z("appTooltip","Current User: "+i.username())("tooltipPosition","top"),a(),x(i.username()),a(),z("appTooltip","System Time")("tooltipPosition","top"),a(),x(i.currentTime()),a(),_(i.showAppMenu()?36:-1))},dependencies:[ne,Be,kt],styles:[".taskbar[_ngcontent-%COMP%]{position:fixed;bottom:0;left:0;width:100%;height:48px;background-color:var(--taskbar-bg);border-top:1px solid var(--border-color);display:flex;justify-content:space-between;align-items:center;padding:0 8px;z-index:9999}.taskbar-left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;flex:1;padding-right:8px;border-right:1px solid var(--border-color)}.app-menu-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:8px 16px;border-radius:var(--border-radius);transition:background-color var(--transition-speed);background:none;border:none;color:inherit;cursor:pointer}.app-menu-btn[_ngcontent-%COMP%]:hover{background-color:var(--hover-bg)}.app-menu-btn[_ngcontent-%COMP%]:focus-visible{outline:2px solid var(--accent-primary);outline-offset:2px}.app-menu-btn[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:20px}.taskbar-apps[_ngcontent-%COMP%]{display:flex;gap:4px;list-style:none;padding:0;margin:0}.taskbar-app[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:8px 12px;border-radius:var(--border-radius);transition:background-color var(--transition-speed);max-width:200px;background:none;border:none;color:inherit;cursor:pointer}.taskbar-app[_ngcontent-%COMP%]:hover{background-color:var(--hover-bg)}.taskbar-app[_ngcontent-%COMP%]:focus-visible{outline:2px solid var(--accent-primary);outline-offset:2px}.taskbar-app.active[_ngcontent-%COMP%]{background-color:var(--active-bg);border-bottom:2px solid var(--accent-primary)}.taskbar-app.minimized[_ngcontent-%COMP%]{opacity:.6}.app-icon[_ngcontent-%COMP%]{font-size:18px}.app-name[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.taskbar-right[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px}.system-tray[_ngcontent-%COMP%]{display:flex;gap:8px;align-items:center;position:relative;padding-right:8px;border-right:1px solid var(--border-color)}.detection-meter[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:4px 12px;border-radius:var(--border-radius);background-color:#0003;border:1px solid var(--border-color);transition:all .3s ease}.detection-meter.warning[_ngcontent-%COMP%]{border-color:#f59e0b}.detection-meter.warning[_ngcontent-%COMP%]   .detection-fill[_ngcontent-%COMP%]{background:linear-gradient(90deg,#f59e0b,#d97706)}.detection-meter.warning[_ngcontent-%COMP%]   .detection-value[_ngcontent-%COMP%]{color:#fbbf24}.detection-meter.danger[_ngcontent-%COMP%]{border-color:#f97316}.detection-meter.danger[_ngcontent-%COMP%]   .detection-fill[_ngcontent-%COMP%]{background:linear-gradient(90deg,#f97316,#ea580c)}.detection-meter.danger[_ngcontent-%COMP%]   .detection-value[_ngcontent-%COMP%]{color:#fb923c}.detection-meter.critical[_ngcontent-%COMP%]{border-color:#ef4444;animation:_ngcontent-%COMP%_pulse-critical 1.5s ease-in-out infinite}.detection-meter.critical[_ngcontent-%COMP%]   .detection-fill[_ngcontent-%COMP%]{background:linear-gradient(90deg,#ef4444,#dc2626)}.detection-meter.critical[_ngcontent-%COMP%]   .detection-value[_ngcontent-%COMP%]{color:#f87171;font-weight:700}@keyframes _ngcontent-%COMP%_pulse-critical{0%,to{box-shadow:0 0 #ef4444b3}50%{box-shadow:0 0 12px 4px #ef44444d}}.alarm-icon[_ngcontent-%COMP%]{font-size:16px;animation:_ngcontent-%COMP%_shake .5s ease-in-out infinite}@keyframes _ngcontent-%COMP%_shake{0%,to{transform:translate(0)}25%{transform:translate(-2px)}75%{transform:translate(2px)}}.detection-label[_ngcontent-%COMP%]{font-size:12px;color:var(--text-secondary);white-space:nowrap}.detection-bar[_ngcontent-%COMP%]{width:80px;height:12px;background:#0000004d;border-radius:6px;overflow:hidden;border:1px solid rgba(255,255,255,.1)}.detection-fill[_ngcontent-%COMP%]{height:100%;background:linear-gradient(90deg,#10b981,#059669);transition:width .5s ease,background .3s ease;border-radius:5px}.detection-value[_ngcontent-%COMP%]{font-family:var(--font-mono);font-size:13px;font-weight:500;min-width:40px;text-align:right;color:var(--text-primary)}.tray-item[_ngcontent-%COMP%]{width:32px;height:32px;display:flex;align-items:center;justify-content:center;border-radius:var(--border-radius);transition:background-color var(--transition-speed);background:none;border:none;color:inherit;cursor:pointer}.tray-item[_ngcontent-%COMP%]:hover{background-color:var(--hover-bg)}.tray-item[_ngcontent-%COMP%]:focus-visible{outline:2px solid var(--accent-primary);outline-offset:2px}.tray-item.missions[_ngcontent-%COMP%], .tray-item.notifications[_ngcontent-%COMP%]{position:relative}.tray-item.network[_ngcontent-%COMP%]{position:relative;transition:color var(--transition-speed)}.tray-item.network.active[_ngcontent-%COMP%]{color:var(--accent-success);filter:drop-shadow(0 0 4px var(--accent-success))}.tray-item.daily-tip[_ngcontent-%COMP%]{position:relative;color:#fbbf24;transition:all var(--transition-speed)}.tray-item.daily-tip[_ngcontent-%COMP%]:hover{color:#f59e0b;filter:drop-shadow(0 0 4px #fbbf24)}.activity-indicator[_ngcontent-%COMP%]{position:absolute;bottom:4px;right:4px;width:6px;height:6px;background-color:var(--accent-success);border-radius:50%;animation:_ngcontent-%COMP%_pulse 1.5s ease-in-out infinite}@keyframes _ngcontent-%COMP%_pulse{0%,to{opacity:1;transform:scale(1)}50%{opacity:.5;transform:scale(1.2)}}@keyframes _ngcontent-%COMP%_tip-pulse{0%,to{opacity:1;box-shadow:0 0 #fbbf24b3}50%{opacity:.8;box-shadow:0 0 8px 2px #fbbf2466}}.mission-badge[_ngcontent-%COMP%]{position:absolute;top:-4px;right:-4px;background-color:#3b82f6;color:#fff;font-size:10px;font-weight:700;min-width:18px;height:18px;border-radius:9px;display:flex;align-items:center;justify-content:center;padding:0 4px;pointer-events:none;border:2px solid var(--taskbar-bg)}.notification-badge[_ngcontent-%COMP%]{position:absolute;top:-4px;right:-4px;background-color:var(--accent-danger);color:#fff;font-size:10px;font-weight:700;min-width:18px;height:18px;border-radius:9px;display:flex;align-items:center;justify-content:center;padding:0 4px;pointer-events:none;border:2px solid var(--taskbar-bg)}.tip-pulse[_ngcontent-%COMP%]{position:absolute;top:-4px;right:-4px;width:8px;height:8px;background-color:#fbbf24;border-radius:50%;animation:_ngcontent-%COMP%_tip-pulse 2s ease-in-out infinite;pointer-events:none;border:2px solid var(--taskbar-bg)}.user-info[_ngcontent-%COMP%]{font-size:14px;padding:8px 12px;color:var(--text-secondary)}.clock[_ngcontent-%COMP%]{font-family:var(--font-mono);font-size:14px;padding:8px 12px}.app-menu[_ngcontent-%COMP%]{position:fixed;bottom:48px;left:0;width:100%;height:calc(100% - 48px);background-color:#00000080;z-index:10000}.menu-content[_ngcontent-%COMP%]{position:absolute;bottom:0;left:8px;width:320px;max-height:600px;background-color:var(--bg-secondary);border:1px solid var(--border-color);border-radius:var(--border-radius);box-shadow:0 8px 32px var(--shadow);overflow:hidden}.menu-header[_ngcontent-%COMP%]{padding:16px;font-size:16px;font-weight:600;border-bottom:1px solid var(--border-color);margin:0}.menu-items[_ngcontent-%COMP%]{padding:8px;max-height:500px;overflow-y:auto;list-style:none;margin:0}.menu-items[_ngcontent-%COMP%]   li[role=separator][_ngcontent-%COMP%]{height:1px;background-color:var(--border-color);margin:8px 0;list-style:none}.menu-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:12px;border-radius:var(--border-radius);cursor:pointer;transition:background-color var(--transition-speed);background:none;border:none;color:inherit;width:100%;text-align:left;font-family:inherit;font-size:inherit}.menu-item[_ngcontent-%COMP%]:hover{background-color:var(--hover-bg)}.menu-item[_ngcontent-%COMP%]:focus-visible{outline:2px solid var(--accent-primary);outline-offset:-2px}.menu-icon[_ngcontent-%COMP%]{font-size:24px;width:32px;height:32px;display:flex;align-items:center;justify-content:center}.menu-label[_ngcontent-%COMP%]{font-size:14px;flex:1}.menu-divider[_ngcontent-%COMP%]{height:1px;background-color:var(--border-color);margin:8px 0}kbd.menu-shortcut[_ngcontent-%COMP%]{font-size:12px;color:var(--text-secondary);opacity:.7;font-family:var(--font-mono);background:var(--bg-primary);padding:2px 6px;border-radius:4px;border:1px solid var(--border-color)}"]})};var hm=(n,t)=>t.id;function vm(n,t){if(n&1&&N(0,"app-icon",5),n&2){let e=u(2).$implicit;z("name",e.icon)}}function _m(n,t){n&1&&Ma(0)}function Cm(n,t){if(n&1){let e=D();l(0,"div",2),S("mousedown",function(){E(e);let o=u().$implicit,r=u();return O(r.focusWindow(o.id))}),l(1,"div",3),S("mousedown",function(o){E(e);let r=u().$implicit,c=u();return O(c.onHeaderMouseDown(o,r.id))}),l(2,"span",4),v(3,vm,1,1,"app-icon",5),s(4),d(),l(5,"div",6)(6,"button",7),S("click",function(){E(e);let o=u().$implicit,r=u();return O(r.minimizeWindow(o.id))}),s(7,"_"),d(),l(8,"button",8),S("click",function(){E(e);let o=u().$implicit,r=u();return O(r.maximizeWindow(o.id))}),s(9,"\u25A1"),d(),l(10,"button",9),S("click",function(){E(e);let o=u().$implicit,r=u();return O(r.closeWindow(o.id))}),s(11,"\xD7"),d()()(),l(12,"div",10),ri(13,_m,1,0,"ng-container",11),d(),l(14,"div",12),S("mousedown",function(o){E(e);let r=u().$implicit,c=u();return O(c.onResizeMouseDown(o,r.id,"se"))}),d(),l(15,"div",13),S("mousedown",function(o){E(e);let r=u().$implicit,c=u();return O(c.onResizeMouseDown(o,r.id,"s"))}),d(),l(16,"div",14),S("mousedown",function(o){E(e);let r=u().$implicit,c=u();return O(c.onResizeMouseDown(o,r.id,"e"))}),d()()}if(n&2){let e=u().$implicit,i=u();Z("left",e.x,"px")("top",e.y,"px")("width",e.width,"px")("height",e.height,"px")("z-index",e.zIndex),a(3),_(e.icon?3:-1),a(),y(" ",e.title," "),a(2),z("appTooltip","Minimize")("tooltipPosition","bottom"),$("aria-label","Minimize "+e.title),a(2),z("appTooltip",e.maximized?"Restore":"Maximize")("tooltipPosition","bottom"),$("aria-label","Maximize "+e.title),a(2),z("appTooltip","Close")("tooltipPosition","bottom"),$("aria-label","Close "+e.title),a(3),z("ngComponentOutlet",e.component)("ngComponentOutletInjector",i.injector)}}function xm(n,t){if(n&1&&v(0,Cm,17,23,"div",1),n&2){let e=t.$implicit;_(e.minimized?-1:0)}}var Gn=class n{injector=b(ke);tutorialVerification=b(at);windows=P([]);nextZIndex=P(1e3);focusedWindowId=P(null);dragState=null;resizeState=null;openWindow(t,e,i=600,o=400,r){let c=crypto.randomUUID(),p=100+this.windows().length*30%200,m=100+this.windows().length*30%200,h={id:c,title:t,component:e,icon:r,x:p,y:m,width:i,height:o,minimized:!1,maximized:!1,zIndex:this.nextZIndex()};this.windows.update(C=>[...C,h]),this.nextZIndex.update(C=>C+1),this.focusedWindowId.set(c),this.tutorialVerification.emitEvent("window_opened",{target:c,name:t})}closeWindow(t){if(this.windows.update(e=>e.filter(i=>i.id!==t)),this.focusedWindowId()===t){let e=this.windows();this.focusedWindowId.set(e.length>0?e[e.length-1].id:null)}}minimizeWindow(t){this.windows.update(e=>e.map(i=>i.id===t?L(w({},i),{minimized:!0}):i))}maximizeWindow(t){this.windows.update(e=>e.map(i=>i.id!==t?i:L(w({},i),{maximized:!i.maximized,x:i.maximized?i.x:0,y:i.maximized?i.y:0,width:i.maximized?i.width:window.innerWidth,height:i.maximized?i.height:window.innerHeight-48})))}focusWindow(t){this.windows().find(i=>i.id===t)&&(this.windows.update(i=>i.map(o=>o.id===t?L(w({},o),{zIndex:this.nextZIndex(),minimized:!1}):o)),this.nextZIndex.update(i=>i+1),this.focusedWindowId.set(t))}updatePosition(t,e,i){this.windows.update(o=>o.map(r=>r.id===t?L(w({},r),{x:e,y:i}):r))}updateSize(t,e,i){this.windows.update(o=>o.map(r=>r.id===t?L(w({},r),{width:e,height:i}):r))}onHeaderMouseDown(t,e){t.preventDefault();let i=this.windows().find(c=>c.id===e);if(!i||i.maximized)return;this.dragState={id:e,startX:i.x,startY:i.y,startMouseX:t.clientX,startMouseY:t.clientY};let o=c=>{if(!this.dragState)return;let p=c.clientX-this.dragState.startMouseX,m=c.clientY-this.dragState.startMouseY;this.updatePosition(this.dragState.id,this.dragState.startX+p,this.dragState.startY+m)},r=()=>{this.dragState=null,document.removeEventListener("mousemove",o),document.removeEventListener("mouseup",r)};document.addEventListener("mousemove",o),document.addEventListener("mouseup",r)}onResizeMouseDown(t,e,i){t.preventDefault(),t.stopPropagation();let o=this.windows().find(p=>p.id===e);if(!o)return;this.resizeState={id:e,startWidth:o.width,startHeight:o.height,startMouseX:t.clientX,startMouseY:t.clientY,direction:i};let r=p=>{if(!this.resizeState)return;let m=p.clientX-this.resizeState.startMouseX,h=p.clientY-this.resizeState.startMouseY,C=this.resizeState.startWidth,M=this.resizeState.startHeight;this.resizeState.direction.includes("e")&&(C=Math.max(200,this.resizeState.startWidth+m)),this.resizeState.direction.includes("s")&&(M=Math.max(150,this.resizeState.startHeight+h)),this.updateSize(this.resizeState.id,C,M)},c=()=>{this.resizeState=null,document.removeEventListener("mousemove",r),document.removeEventListener("mouseup",c)};document.addEventListener("mousemove",r),document.addEventListener("mouseup",c)}closeFocusedWindow(){let t=this.focusedWindowId();t&&this.closeWindow(t)}maximizeFocusedWindow(){let t=this.focusedWindowId();t&&this.maximizeWindow(t)}minimizeFocusedWindow(){let t=this.focusedWindowId();t&&this.minimizeWindow(t)}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=Q({type:n,selectors:[["app-window-manager"]],decls:3,vars:0,consts:[[1,"window-container"],[1,"window",3,"left","top","width","height","z-index"],[1,"window",3,"mousedown"],[1,"window-header",3,"mousedown"],[1,"window-title"],["size","small",3,"name"],[1,"window-controls"],[1,"btn-minimize",3,"click","appTooltip","tooltipPosition"],[1,"btn-maximize",3,"click","appTooltip","tooltipPosition"],[1,"btn-close",3,"click","appTooltip","tooltipPosition"],[1,"window-content","scrollbar"],[4,"ngComponentOutlet","ngComponentOutletInjector"],[1,"resize-handle","resize-se",3,"mousedown"],[1,"resize-handle","resize-s",3,"mousedown"],[1,"resize-handle","resize-e",3,"mousedown"]],template:function(e,i){e&1&&(l(0,"div",0),A(1,xm,1,1,null,null,hm),d()),e&2&&(a(),R(i.windows()))},dependencies:[ne,Ra,Be,kt],styles:[".window-container[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;pointer-events:none}.window[_ngcontent-%COMP%]{position:absolute;display:flex;flex-direction:column;background-color:var(--bg-secondary);border:1px solid var(--border-color);border-radius:var(--border-radius);box-shadow:0 4px 16px #0003,0 8px 32px #00000026;overflow:hidden;pointer-events:auto;min-width:200px;min-height:150px;transition:box-shadow .2s ease}.window[_ngcontent-%COMP%]:focus-within{box-shadow:0 8px 24px #0000004d,0 12px 48px #0003}.window-header[_ngcontent-%COMP%]{background:var(--window-header);padding:8px 12px;display:flex;justify-content:space-between;align-items:center;cursor:move;-webkit-user-select:none;user-select:none;border-bottom:1px solid var(--border-color)}.window-title[_ngcontent-%COMP%]{font-weight:500;font-size:14px;flex:1}.window-controls[_ngcontent-%COMP%]{display:flex;gap:8px}.window-controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:24px;height:24px;border-radius:var(--border-radius);display:flex;align-items:center;justify-content:center;font-size:18px;font-weight:700;transition:background-color var(--transition-speed)}.window-controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:var(--hover-bg)}.btn-close[_ngcontent-%COMP%]:hover{background-color:var(--error)}.window-content[_ngcontent-%COMP%]{flex:1;overflow:auto;padding:0;display:flex;flex-direction:column;color:initial}.window-content[_ngcontent-%COMP%]    >*{flex:1;min-height:0;width:100%;height:100%}.resize-handle[_ngcontent-%COMP%]{position:absolute;background:transparent;transition:background-color .2s}.resize-se[_ngcontent-%COMP%]{bottom:0;right:0;width:16px;height:16px;cursor:se-resize}.resize-se[_ngcontent-%COMP%]:hover{background:var(--accent-color);opacity:.3}.resize-s[_ngcontent-%COMP%]{bottom:0;left:0;right:0;height:6px;cursor:s-resize}.resize-s[_ngcontent-%COMP%]:hover{background:var(--accent-color);opacity:.3}.resize-e[_ngcontent-%COMP%]{top:0;right:0;bottom:0;width:6px;cursor:e-resize}.resize-e[_ngcontent-%COMP%]:hover{background:var(--accent-color);opacity:.3}"]})};var rl=(n,t)=>t.id;function bm(n,t){if(n&1&&(g(0,"span"),s(1),f()),n&2){let e=t.$implicit;a(),Sa("",e.type,": ",e.title,". ",e.message)}}function ym(n,t){n&1&&s(0," \u2139\uFE0F ")}function Mm(n,t){n&1&&s(0," \u2705 ")}function Sm(n,t){n&1&&s(0," \u26A0\uFE0F ")}function wm(n,t){n&1&&s(0," \u274C ")}function Em(n,t){if(n&1&&s(0),n&2){let e=u().$implicit;y(" ",e.icon||"\u{1F3C6}"," ")}}function Om(n,t){if(n&1){let e=D();g(0,"div",3)(1,"div",4)(2,"div",5)(3,"span",6),v(4,ym,1,0),v(5,Mm,1,0),v(6,Sm,1,0),v(7,wm,1,0),v(8,Em,1,1),f(),g(9,"span",7),s(10),f(),g(11,"button",8),q("click",function(){let o=E(e).$implicit,r=u();return O(r.onDismiss(o.id))}),s(12,"\xD7"),f()(),g(13,"div",9),s(14),f()()()}if(n&2){let e=t.$implicit;F("info",e.type==="info")("success",e.type==="success")("warning",e.type==="warning")("error",e.type==="error")("achievement",e.type==="achievement"),a(4),_(e.type==="info"?4:-1),a(),_(e.type==="success"?5:-1),a(),_(e.type==="warning"?6:-1),a(),_(e.type==="error"?7:-1),a(),_(e.type==="achievement"?8:-1),a(2),x(e.title),a(),$("aria-label","Close notification: "+e.title),a(3),x(e.message)}}var oo=class n{notificationService=b(ot);onDismiss(t){this.notificationService.dismiss(t)}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=Q({type:n,selectors:[["app-notification"]],decls:6,vars:0,consts:[["role","region","aria-label","Notifications",1,"notification-container"],["aria-live","polite","aria-atomic","true",1,"sr-only"],["role","status",1,"notification",3,"info","success","warning","error","achievement"],["role","status",1,"notification"],[1,"notification-content"],[1,"notification-header"],["aria-hidden","true",1,"notification-icon"],[1,"notification-title"],[1,"btn-close",3,"click"],[1,"notification-message"]],template:function(e,i){e&1&&(g(0,"div",0)(1,"div",1),A(2,bm,2,3,"span",null,rl),f(),A(4,Om,15,18,"div",2,rl),f()),e&2&&(a(2),R(i.notificationService.visibleNotifications()),a(2),R(i.notificationService.visibleNotifications()))},dependencies:[ne],styles:[".notification-container[_ngcontent-%COMP%]{position:fixed;top:16px;right:16px;z-index:10001;display:flex;flex-direction:column;gap:8px;pointer-events:none}.notification[_ngcontent-%COMP%]{width:320px;background-color:var(--bg-secondary);border:1px solid var(--border-color);border-radius:var(--border-radius);box-shadow:0 4px 16px var(--shadow);overflow:hidden;animation:_ngcontent-%COMP%_slideIn .3s ease-out;pointer-events:auto}@keyframes _ngcontent-%COMP%_slideIn{0%{transform:translate(100%);opacity:0}to{transform:translate(0);opacity:1}}.notification.info[_ngcontent-%COMP%]{border-left:4px solid var(--info)}.notification.success[_ngcontent-%COMP%]{border-left:4px solid var(--success)}.notification.warning[_ngcontent-%COMP%]{border-left:4px solid var(--warning)}.notification.error[_ngcontent-%COMP%]{border-left:4px solid var(--error)}.notification.achievement[_ngcontent-%COMP%]{border-left:4px solid #ffd700;background:linear-gradient(135deg,rgba(255,215,0,.1) 0%,var(--bg-secondary) 100%)}.notification.achievement[_ngcontent-%COMP%]   .notification-icon[_ngcontent-%COMP%]{font-size:24px;animation:_ngcontent-%COMP%_bounce .6s ease-in-out}@keyframes _ngcontent-%COMP%_bounce{0%,to{transform:translateY(0)}50%{transform:translateY(-10px)}}.notification-content[_ngcontent-%COMP%]{padding:12px}.notification-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin-bottom:8px}.notification-icon[_ngcontent-%COMP%]{font-size:20px}.notification-title[_ngcontent-%COMP%]{flex:1;font-weight:600;font-size:14px}.btn-close[_ngcontent-%COMP%]{width:24px;height:24px;border-radius:var(--border-radius);display:flex;align-items:center;justify-content:center;font-size:20px;transition:background-color var(--transition-speed)}.btn-close[_ngcontent-%COMP%]:hover{background-color:var(--hover-bg)}.notification-message[_ngcontent-%COMP%]{font-size:13px;color:var(--text-secondary);line-height:1.4}"]})};function Pm(n,t){if(n&1&&(g(0,"div",14),s(1),f()),n&2){let e=u();a(),y(" ",e.errorMessage()," ")}}var ro=class n{username=P("");password=P("");errorMessage=P("");showPassword=P(!1);login=Ve();onGuestLogin(){this.login.emit({username:"guest",password:"",isGuest:!0})}onUserLogin(){let t=this.username().trim(),e=this.password().trim();if(!t){this.errorMessage.set("Username is required");return}if(!e){this.errorMessage.set("Password is required");return}this.errorMessage.set(""),this.login.emit({username:t,password:e,isGuest:!1})}togglePasswordVisibility(){this.showPassword.update(t=>!t)}onUsernameChange(t){let e=t.target;this.username.set(e.value),this.errorMessage.set("")}onPasswordChange(t){let e=t.target;this.password.set(e.value),this.errorMessage.set("")}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=Q({type:n,selectors:[["app-login"]],outputs:{login:"login"},decls:34,vars:6,consts:[[1,"login-container"],[1,"login-box"],[1,"login-header"],[1,"logo"],[1,"title"],[1,"subtitle"],[1,"login-form"],[1,"form-group"],["for","username"],["id","username","type","text","placeholder","Enter username","autocomplete","username",1,"form-input",3,"input","value"],["for","password"],[1,"password-input-wrapper"],["id","password","placeholder","Enter password","autocomplete","current-password",1,"form-input",3,"input","type","value"],["type","button",1,"toggle-password",3,"click"],[1,"error-message"],[1,"btn","btn-primary",3,"click"],[1,"divider"],[1,"btn","btn-secondary",3,"click"],[1,"login-footer"]],template:function(e,i){e&1&&(g(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),s(4,"\u{1F4BB}"),f(),g(5,"h1",4),s(6,"WebOS"),f(),g(7,"p",5),s(8,"Network Hacking Simulator"),f()(),g(9,"div",6)(10,"div",7)(11,"label",8),s(12,"Username"),f(),g(13,"input",9),q("input",function(r){return i.onUsernameChange(r)}),f()(),g(14,"div",7)(15,"label",10),s(16,"Password"),f(),g(17,"div",11)(18,"input",12),q("input",function(r){return i.onPasswordChange(r)}),f(),g(19,"button",13),q("click",function(){return i.togglePasswordVisibility()}),s(20),f()()(),v(21,Pm,2,1,"div",14),g(22,"button",15),q("click",function(){return i.onUserLogin()}),s(23," Login "),f(),g(24,"div",16)(25,"span"),s(26,"or"),f()(),g(27,"button",17),q("click",function(){return i.onGuestLogin()}),s(28," Continue as Guest "),f()(),g(29,"div",18)(30,"p"),s(31,"Guest mode: Full access without saving progress"),f(),g(32,"p"),s(33,"User account: Save your game progress"),f()()()()),e&2&&(a(13),wt("value",i.username()),a(5),wt("type",i.showPassword()?"text":"password")("value",i.password()),a(),$("aria-label",i.showPassword()?"Hide password":"Show password"),a(),y(" ",i.showPassword()?"\u{1F441}\uFE0F":"\u{1F441}\uFE0F\u200D\u{1F5E8}\uFE0F"," "),a(),_(i.errorMessage()?21:-1))},dependencies:[ne,It],styles:['.login-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;min-height:100vh;background:linear-gradient(135deg,#1a1a2e,#0f0f1e);padding:20px}.login-box[_ngcontent-%COMP%]{background:#141428f2;border:2px solid #00ff00;border-radius:12px;box-shadow:0 0 40px #00ff004d;width:100%;max-width:400px;padding:40px;animation:_ngcontent-%COMP%_fadeIn .5s ease-in-out}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(-20px)}to{opacity:1;transform:translateY(0)}}.login-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:32px}.logo[_ngcontent-%COMP%]{font-size:64px;margin-bottom:16px;filter:drop-shadow(0 0 20px rgba(0,255,0,.5))}.title[_ngcontent-%COMP%]{font-size:32px;color:#0f0;margin:0 0 8px;font-family:Courier New,monospace;text-shadow:0 0 10px rgba(0,255,0,.5)}.subtitle[_ngcontent-%COMP%]{font-size:14px;color:#888;margin:0;font-family:Courier New,monospace}.login-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#0f0;font-size:14px;font-family:Courier New,monospace;font-weight:600}.form-input[_ngcontent-%COMP%]{background:#00000080;border:2px solid #333;border-radius:6px;color:#0f0;font-family:Courier New,monospace;font-size:14px;padding:12px;transition:all .3s ease}.form-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#0f0;box-shadow:0 0 10px #00ff004d}.form-input[_ngcontent-%COMP%]::placeholder{color:#555}.password-input-wrapper[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center}.password-input-wrapper[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{flex:1;padding-right:48px}.toggle-password[_ngcontent-%COMP%]{position:absolute;right:12px;background:none;border:none;color:#888;cursor:pointer;font-size:18px;padding:4px;transition:color .3s ease}.toggle-password[_ngcontent-%COMP%]:hover{color:#0f0}.error-message[_ngcontent-%COMP%]{background:#ff00001a;border:1px solid #ff0000;border-radius:6px;color:red;font-family:Courier New,monospace;font-size:12px;padding:10px;text-align:center}.btn[_ngcontent-%COMP%]{background:none;border:2px solid;border-radius:6px;cursor:pointer;font-family:Courier New,monospace;font-size:16px;font-weight:600;padding:12px 24px;transition:all .3s ease}.btn-primary[_ngcontent-%COMP%]{border-color:#0f0;color:#0f0}.btn-primary[_ngcontent-%COMP%]:hover{background:#0f0;color:#000;box-shadow:0 0 20px #00ff0080}.btn-secondary[_ngcontent-%COMP%]{border-color:#888;color:#888}.btn-secondary[_ngcontent-%COMP%]:hover{border-color:#0f0;color:#0f0;box-shadow:0 0 20px #00ff004d}.divider[_ngcontent-%COMP%]{position:relative;text-align:center;margin:8px 0}.divider[_ngcontent-%COMP%]:before, .divider[_ngcontent-%COMP%]:after{content:"";position:absolute;top:50%;width:40%;height:1px;background:#333}.divider[_ngcontent-%COMP%]:before{left:0}.divider[_ngcontent-%COMP%]:after{right:0}.divider[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#666;font-family:Courier New,monospace;font-size:12px;padding:0 12px;background:#141428f2}.login-footer[_ngcontent-%COMP%]{margin-top:32px;padding-top:20px;border-top:1px solid #333;text-align:center}.login-footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;font-family:Courier New,monospace;font-size:11px;margin:8px 0}']})};var Tm=(n,t)=>t.to,km=(n,t)=>t.id,Im=(n,t)=>t.number;function Am(n,t){if(n&1&&(rn(),ye(0,"line",10)),n&2){let e=t.$implicit;$("x1",e.sourceX)("y1",e.sourceY)("x2",e.targetX)("y2",e.targetY)("stroke",e.status==="active"?"#00ff00":"#666666")}}function Rm(n,t){if(n&1&&(g(0,"div",21),s(1),f()),n&2){let e=u(2).$implicit;a(),y("Security: ",e.securityLevel,"/5")}}function Dm(n,t){if(n&1){let e=D();g(0,"div",15),q("click",function(){E(e);let o=u().$implicit,r=u();return O(r.onHostClick(o))}),g(1,"div",16),s(2),f(),g(3,"div",17)(4,"div",18),s(5),f(),g(6,"div",19),s(7),f(),g(8,"div",20),s(9),f(),v(10,Rm,2,1,"div",21),f()()}if(n&2){let e=u().$implicit,i=u();Z("left",i.getScaledX(e.coordinates.x),"px")("top",i.getScaledY(e.coordinates.y),"px")("border-color",i.getHostColor(e)),F("current",i.isCurrentHost(e))("player",e.type==="player"),a(2),x(i.getHostIcon(e)),a(3),x(e.hostname),a(2),x(e.ip),a(),Z("color",i.getHostColor(e)),a(),y(" ",i.getHostStatus(e)," "),a(),_(e.securityLevel!==void 0?10:-1)}}function Nm(n,t){if(n&1&&v(0,Dm,11,17,"div",14),n&2){let e=t.$implicit;_(e.coordinates?0:-1)}}function Fm(n,t){n&1&&(g(0,"div",12)(1,"div",22),s(2,"\u{1F310}"),f(),g(3,"div",23),s(4,"No hosts discovered"),f(),g(5,"div",24),s(6,"Run 'nmap <subnet>' to scan the network"),f()())}function jm(n,t){if(n&1&&(g(0,"div",30)(1,"span",31),s(2,"Security Level:"),f(),g(3,"span",32),s(4),f()()),n&2){let e=u(2);a(4),y("",e.selectedHost().securityLevel,"/5")}}function Lm(n,t){n&1&&(g(0,"span",38),s(1,"\u{1F534} VULNERABLE"),f())}function zm(n,t){if(n&1&&(g(0,"div",35)(1,"span",36),s(2),f(),g(3,"span",37),s(4),f(),v(5,Lm,2,0,"span",38),f()),n&2){let e=u().$implicit;a(2),x(e.number),a(2),x(e.service),a(),_(e.vulnerability?5:-1)}}function Um(n,t){if(n&1&&v(0,zm,6,3,"div",35),n&2){let e=t.$implicit;_(e.status==="open"?0:-1)}}function $m(n,t){if(n&1&&(g(0,"div",40),s(1),f()),n&2){let e=t.$implicit;a(),y("\u{1F4C4} ",e)}}function Vm(n,t){if(n&1&&(g(0,"div",33)(1,"h4"),s(2,"File System"),f(),g(3,"div",39),A(4,$m,2,1,"div",40,be),f()()),n&2){let e=u(2);a(4),R(e.selectedHost().fileSystem.files)}}function Hm(n,t){if(n&1){let e=D();g(0,"div",25),q("click",function(){E(e);let o=u();return O(o.closeDetails())}),g(1,"div",26),q("click",function(o){return E(e),O(o.stopPropagation())}),g(2,"div",27)(3,"h3"),s(4),f(),g(5,"button",28),q("click",function(){E(e);let o=u();return O(o.closeDetails())}),s(6,"\u2715"),f()(),g(7,"div",29)(8,"div",30)(9,"span",31),s(10,"IP Address:"),f(),g(11,"span",32),s(12),f()(),g(13,"div",30)(14,"span",31),s(15,"Type:"),f(),g(16,"span",32),s(17),f()(),g(18,"div",30)(19,"span",31),s(20,"Status:"),f(),g(21,"span",32),s(22),f()(),v(23,jm,5,1,"div",30),g(24,"div",30)(25,"span",31),s(26,"Access Level:"),f(),g(27,"span",32),s(28),f()(),g(29,"div",33)(30,"h4"),s(31,"Open Ports"),f(),g(32,"div",34),A(33,Um,1,1,null,null,Im),f()(),v(35,Vm,6,0,"div",33),f()()()}if(n&2){let e=u();a(4),x(e.selectedHost().hostname),a(8),x(e.selectedHost().ip),a(5),x(e.selectedHost().type),a(4),Z("color",e.getHostColor(e.selectedHost())),a(),y(" ",e.getHostStatus(e.selectedHost())," "),a(),_(e.selectedHost().securityLevel!==void 0?23:-1),a(5),x(e.selectedHost().accessLevel),a(5),R(e.selectedHost().ports),a(2),_(e.selectedHost().fileSystem?35:-1)}}var Kn=class n{networkService=b(Rt);elementRef=b(sa);resizeObserver;networkState=this.networkService.state$;selectedHost=P(null);containerSize=P({width:800,height:600});hosts=T(()=>{let t=this.networkState();return Object.values(t.hosts).filter(e=>e.isDiscovered)});currentHost=T(()=>this.networkState().currentHost);connections=T(()=>{let t=this.networkState(),e=this.containerSize(),i=e.width/800,o=e.height/600,r=[];for(let c of t.connections){let p=t.hosts[c.from],m=t.hosts[c.to];p?.coordinates&&m?.coordinates&&r.push(L(w({},c),{sourceX:p.coordinates.x*i,sourceY:p.coordinates.y*o,targetX:m.coordinates.x*i,targetY:m.coordinates.y*o}))}return r});AccessLevel=Ya;getHostColor(t){return t.type==="player"?"#00ff00":t.accessLevel==="root"?"#ff0000":t.accessLevel==="user"?"#ffaa00":"#666666"}getHostIcon(t){return t.type==="player"?"\u{1F5A5}\uFE0F":t.type==="server"?"\u{1F5C4}\uFE0F":t.type==="workstation"?"\u{1F4BB}":t.type==="router"?"\u{1F4E1}":"\u2753"}getHostStatus(t){return t.type==="player"?"Player":t.accessLevel==="root"?"Compromised (ROOT)":t.accessLevel==="user"?"Compromised (USER)":"Secure"}isCurrentHost(t){return t.ip===this.currentHost()}onHostClick(t){this.selectedHost.set(t)}closeDetails(){this.selectedHost.set(null)}ngOnInit(){let t=this.elementRef.nativeElement.querySelector(".map-canvas");t&&(this.resizeObserver=new ResizeObserver(e=>{for(let i of e){let{width:o,height:r}=i.contentRect;this.containerSize.set({width:o,height:r})}}),this.resizeObserver.observe(t))}ngOnDestroy(){this.resizeObserver?.disconnect()}getScaledX(t){let e=this.containerSize();return t/800*e.width}getScaledY(t){let e=this.containerSize();return t/600*e.height}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=Q({type:n,selectors:[["app-network-map"]],decls:30,vars:3,consts:[[1,"network-map"],[1,"map-header"],[1,"legend"],[1,"legend-item"],[1,"legend-color",2,"background","#00ff00"],[1,"legend-color",2,"background","#ff0000"],[1,"legend-color",2,"background","#ffaa00"],[1,"legend-color",2,"background","#666666"],[1,"map-canvas"],[1,"connections-layer"],[1,"connection"],[1,"hosts-layer"],[1,"empty-state"],[1,"host-details-overlay"],[1,"host-node",3,"current","player","left","top","border-color"],[1,"host-node",3,"click"],[1,"host-icon"],[1,"host-info"],[1,"host-name"],[1,"host-ip"],[1,"host-status"],[1,"host-security"],[1,"empty-icon"],[1,"empty-text"],[1,"empty-hint"],[1,"host-details-overlay",3,"click"],[1,"host-details",3,"click"],[1,"details-header"],[1,"close-btn",3,"click"],[1,"details-content"],[1,"detail-row"],[1,"detail-label"],[1,"detail-value"],[1,"detail-section"],[1,"ports-list"],[1,"port-item"],[1,"port-number"],[1,"port-service"],[1,"port-vuln"],[1,"files-list"],[1,"file-item"]],template:function(e,i){e&1&&(g(0,"div",0)(1,"div",1)(2,"h2"),s(3,"Network Map"),f(),g(4,"div",2)(5,"div",3),ye(6,"span",4),g(7,"span"),s(8,"Player"),f()(),g(9,"div",3),ye(10,"span",5),g(11,"span"),s(12,"Compromised (ROOT)"),f()(),g(13,"div",3),ye(14,"span",6),g(15,"span"),s(16,"Compromised (USER)"),f()(),g(17,"div",3),ye(18,"span",7),g(19,"span"),s(20,"Secure"),f()()()(),g(21,"div",8),rn(),g(22,"svg",9),A(23,Am,1,5,":svg:line",10,Tm),f(),oi(),g(25,"div",11),A(26,Nm,1,1,null,null,km),f(),v(28,Fm,7,0,"div",12),f(),v(29,Hm,36,9,"div",13),f()),e&2&&(a(22),$("viewBox","0 0 "+i.containerSize().width+" "+i.containerSize().height),a(),R(i.connections()),a(3),R(i.hosts()),a(2),_(i.hosts().length===0?28:-1),a(),_(i.selectedHost()?29:-1))},dependencies:[ne],styles:[".network-map[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;background:#0a0a0a;color:#0f0;font-family:Courier New,monospace;overflow:hidden}.map-header[_ngcontent-%COMP%]{padding:16px;border-bottom:1px solid #00ff00;display:flex;justify-content:space-between;align-items:center}.map-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:18px;color:#0f0}.legend[_ngcontent-%COMP%]{display:flex;gap:16px;font-size:12px}.legend-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px}.legend-color[_ngcontent-%COMP%]{width:12px;height:12px;border-radius:50%;border:1px solid #333}.map-canvas[_ngcontent-%COMP%]{flex:1;position:relative;overflow:auto;background:radial-gradient(circle at 50% 50%,#0d0d0d,#000)}.connections-layer[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none}.connection[_ngcontent-%COMP%]{stroke:#0f0;stroke-width:2;stroke-dasharray:5,5;opacity:.3}.hosts-layer[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;min-height:600px}.host-node[_ngcontent-%COMP%]{position:absolute;display:flex;flex-direction:column;align-items:center;gap:8px;padding:12px;background:#000c;border:2px solid #666666;border-radius:8px;cursor:pointer;transition:all .2s ease;transform:translate(-50%,-50%);min-width:150px}.host-node[_ngcontent-%COMP%]:hover{background:#00ff001a;border-width:3px;transform:translate(-50%,-50%) scale(1.05)}.host-node.current[_ngcontent-%COMP%]{border-width:3px;box-shadow:0 0 20px currentColor;animation:_ngcontent-%COMP%_pulse 2s infinite}@keyframes _ngcontent-%COMP%_pulse{0%,to{box-shadow:0 0 20px currentColor}50%{box-shadow:0 0 30px currentColor}}.host-node.player[_ngcontent-%COMP%]{border-color:#0f0}.host-icon[_ngcontent-%COMP%]{font-size:32px;filter:drop-shadow(0 0 8px currentColor)}.host-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:4px;width:100%}.host-name[_ngcontent-%COMP%]{font-size:14px;font-weight:700;color:#0f0;text-align:center}.host-ip[_ngcontent-%COMP%]{font-size:11px;color:#888;text-align:center}.host-status[_ngcontent-%COMP%]{font-size:10px;text-align:center;margin-top:4px}.host-security[_ngcontent-%COMP%]{font-size:10px;color:#666;text-align:center}.empty-state[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);text-align:center;color:#666}.empty-icon[_ngcontent-%COMP%]{font-size:64px;margin-bottom:16px;opacity:.3}.empty-text[_ngcontent-%COMP%]{font-size:18px;margin-bottom:8px}.empty-hint[_ngcontent-%COMP%]{font-size:12px;color:#444}.host-details-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#000c;display:flex;align-items:center;justify-content:center;z-index:1000}.host-details[_ngcontent-%COMP%]{background:#0a0a0a;border:2px solid #00ff00;border-radius:8px;width:500px;max-width:90%;max-height:80vh;overflow:auto}.details-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:16px;border-bottom:1px solid #00ff00}.details-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;color:#0f0;font-size:18px}.close-btn[_ngcontent-%COMP%]{background:none;border:none;color:#0f0;font-size:24px;cursor:pointer;padding:0;width:32px;height:32px;display:flex;align-items:center;justify-content:center}.close-btn[_ngcontent-%COMP%]:hover{background:#00ff001a;border-radius:4px}.details-content[_ngcontent-%COMP%]{padding:16px}.detail-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:8px 0;border-bottom:1px solid #222}.detail-label[_ngcontent-%COMP%]{color:#888;font-size:12px}.detail-value[_ngcontent-%COMP%]{color:#0f0;font-size:12px;font-weight:700}.detail-section[_ngcontent-%COMP%]{margin-top:16px;padding-top:16px;border-top:1px solid #222}.detail-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 12px;color:#0f0;font-size:14px}.ports-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.port-item[_ngcontent-%COMP%]{display:flex;gap:12px;align-items:center;padding:8px;background:#00ff000d;border-radius:4px}.port-number[_ngcontent-%COMP%]{color:#0f0;font-weight:700;min-width:50px}.port-service[_ngcontent-%COMP%]{color:#888;flex:1}.port-vuln[_ngcontent-%COMP%]{color:red;font-size:10px;font-weight:700}.files-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px}.file-item[_ngcontent-%COMP%]{color:#888;font-size:12px;padding:4px 8px}"]})};function Bm(n,t){if(n&1&&(g(0,"div",0)(1,"div",2),ye(2,"div",3),f()()),n&2){let e=u();a(),mt("spinner-"+e.size())}}function Wm(n,t){if(n&1&&(g(0,"div",2),ye(1,"div",3),f()),n&2){let e=u();mt("spinner-"+e.size()),F("spinner-inline",e.inline())}}var Qt=class n{size=He("medium");inline=He(!1);overlay=He(!1);static \u0275fac=function(e){return new(e||n)};static \u0275cmp=Q({type:n,selectors:[["app-spinner"]],inputs:{size:[1,"size"],inline:[1,"inline"],overlay:[1,"overlay"]},decls:2,vars:1,consts:[[1,"spinner-overlay"],[1,"spinner",3,"class","spinner-inline"],[1,"spinner"],[1,"spinner-circle"]],template:function(e,i){e&1&&v(0,Bm,3,2,"div",0)(1,Wm,2,4,"div",1),e&2&&_(i.overlay()?0:1)},dependencies:[ne],styles:[".spinner-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:#0000004d;display:flex;align-items:center;justify-content:center;z-index:1000;animation:_ngcontent-%COMP%_fadeIn .2s ease-out}.spinner[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center}.spinner.spinner-inline[_ngcontent-%COMP%]{vertical-align:middle}.spinner.spinner-small[_ngcontent-%COMP%]{width:16px;height:16px}.spinner.spinner-medium[_ngcontent-%COMP%]{width:24px;height:24px}.spinner.spinner-large[_ngcontent-%COMP%]{width:32px;height:32px}.spinner-circle[_ngcontent-%COMP%]{width:100%;height:100%;border:2px solid rgba(255,255,255,.2);border-top-color:var(--accent-color, #00ff00);border-radius:50%;animation:_ngcontent-%COMP%_spin .8s linear infinite}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}"]})};var Yn=(n,t)=>t.id,qm=(n,t)=>t.missionId;function Gm(n,t){if(n&1&&(l(0,"span",3),s(1),d()),n&2){let e=u();a(),x(e.activeMissions().length)}}function Km(n,t){if(n&1&&(l(0,"span",3),s(1),d()),n&2){let e=u();a(),x(e.availableMissions().length)}}function Ym(n,t){n&1&&(l(0,"div",7),N(1,"app-icon",8),l(2,"p"),s(3,"No active missions"),d(),l(4,"p",9),s(5,"Check your email for new contracts"),d()())}function Zm(n,t){if(n&1&&(l(0,"span",19),s(1),d()),n&2){let e=u().$implicit,i=u(3);Z("color",i.getTimeColor(i.getTimeRemainingPercent(e))),a(),y(" \u23F1 ",i.getTimeRemaining(e)," ")}}function Xm(n,t){if(n&1&&(l(0,"div",21)(1,"span",22),s(2,"Target:"),d(),l(3,"span"),s(4),d()()),n&2){let e=u(2).$implicit;a(4),x(e.targetNetwork)}}function Qm(n,t){n&1&&(l(0,"div",23)(1,"span",22),s(2,"\u26A0\uFE0F Stealth Required"),d()())}function Jm(n,t){if(n&1&&(l(0,"span",35),s(1),d()),n&2){let e=u().$implicit;a(),x(e.targetFile)}}function e0(n,t){if(n&1&&(l(0,"span",35),s(1),d()),n&2){let e=u().$implicit;a(),y("",e.targetAmount," credits")}}function t0(n,t){if(n&1&&(l(0,"span",36),s(1),d()),n&2){let e=u().$implicit;a(),oe("",e.progress||0,"/",e.maxProgress)}}function n0(n,t){if(n&1&&(l(0,"li")(1,"span",33),s(2),d(),l(3,"span",34),s(4),d(),v(5,Jm,2,1,"span",35),v(6,e0,2,1,"span",35),v(7,t0,2,2,"span",36),d()),n&2){let e=t.$implicit,i=u(5);F("completed",e.completed),a(2),x(i.getObjectiveIcon(e.completed)),a(2),x(e.description),a(),_(e.targetFile?5:-1),a(),_(e.targetAmount?6:-1),a(),_(e.maxProgress&&!e.completed?7:-1)}}function i0(n,t){if(n&1&&(l(0,"span",29),s(1),d()),n&2){let e=u(2).$implicit;a(),y("\u2B50 ",e.reward.reputation," reputation")}}function o0(n,t){n&1&&N(0,"app-spinner",32)}function r0(n,t){n&1&&s(0," Abandon Mission ")}function a0(n,t){if(n&1){let e=D();l(0,"div",18)(1,"div",20)(2,"div",21)(3,"span",22),s(4,"Client:"),d(),l(5,"span"),s(6),d()(),l(7,"div",21)(8,"span",22),s(9,"Faction:"),d(),l(10,"span"),s(11),d()(),v(12,Xm,5,1,"div",21),v(13,Qm,3,0,"div",23),d(),l(14,"div",24)(15,"h3"),s(16),d(),l(17,"ul",25),A(18,n0,8,7,"li",26,Yn),d()(),l(20,"div",27)(21,"h3"),s(22,"Rewards"),d(),l(23,"div",28)(24,"span",29),s(25),d(),v(26,i0,2,1,"span",29),d()(),l(27,"div",30)(28,"button",31),S("click",function(){E(e);let o=u().$implicit,r=u(3);return O(r.abandonMission(o))}),v(29,o0,1,0,"app-spinner",32)(30,r0,1,0),d()()()}if(n&2){let e=u().$implicit,i=u(3);a(6),x(e.clientName||"Unknown"),a(5),x(e.clientFaction||"Unknown"),a(),_(e.targetNetwork?12:-1),a(),_(e.stealthRequired?13:-1),a(3),oe("Objectives (",i.getObjectiveProgress(e).completed,"/",i.getObjectiveProgress(e).total,")"),a(2),R(e.objectives),a(7),y("\u{1F4B0} ",e.reward.credits," credits"),a(),_(e.reward.reputation?26:-1),a(2),z("disabled",i.abandoningMission()===e.id),a(),_(i.abandoningMission()===e.id?29:30)}}function s0(n,t){if(n&1){let e=D();l(0,"div",11)(1,"div",12),S("click",function(){let o=E(e).$implicit,r=u(3);return O(r.toggleMissionExpand(o.id))}),l(2,"div",13)(3,"span",14),s(4),d(),l(5,"span"),s(6),d(),l(7,"span",15),s(8),d()(),l(9,"div",16),v(10,Zm,2,3,"span",17),d()(),v(11,a0,31,10,"div",18),d()}if(n&2){let e=t.$implicit,i=u(3);F("expanded",i.isMissionExpanded(e.id)),a(4),x(i.isMissionExpanded(e.id)?"\u25BC":"\u25B6"),a(2),x(e.title),a(),Z("color",i.getDifficultyColor(e.difficulty)),a(),y(" [",e.difficulty.toUpperCase(),"] "),a(2),_(i.getTimeRemaining(e)?10:-1),a(),_(i.isMissionExpanded(e.id)?11:-1)}}function c0(n,t){if(n&1&&A(0,s0,12,9,"div",10,Yn),n&2){let e=u(2);R(e.activeMissions())}}function l0(n,t){if(n&1&&(l(0,"div",5),v(1,Ym,6,0,"div",7)(2,c0,2,0),d()),n&2){let e=u();a(),_(e.activeMissions().length===0?1:2)}}function d0(n,t){n&1&&(l(0,"div",7),N(1,"app-icon",37),l(2,"p"),s(3,"No available missions"),d(),l(4,"p",9),s(5,"Open Email and request new contracts"),d()())}function p0(n,t){if(n&1&&(l(0,"li")(1,"span",33),s(2,"\u25CB"),d(),l(3,"span",34),s(4),d()()),n&2){let e=t.$implicit;a(4),x(e.description)}}function u0(n,t){if(n&1&&(l(0,"span",29),s(1),d()),n&2){let e=u(2).$implicit;a(),y("\u2B50 ",e.reward.reputation," reputation")}}function m0(n,t){if(n&1&&(l(0,"div",18)(1,"p",38),s(2),d(),l(3,"div",24)(4,"h3"),s(5,"Objectives"),d(),l(6,"ul",25),A(7,p0,5,1,"li",null,Yn),d()(),l(9,"div",27)(10,"h3"),s(11,"Rewards"),d(),l(12,"div",28)(13,"span",29),s(14),d(),v(15,u0,2,1,"span",29),d()(),l(16,"p",9),s(17,"Accept this mission from your Email app"),d()()),n&2){let e=u().$implicit;a(2),x(e.description),a(5),R(e.objectives),a(7),y("\u{1F4B0} ",e.reward.credits," credits"),a(),_(e.reward.reputation?15:-1)}}function g0(n,t){if(n&1){let e=D();l(0,"div",11)(1,"div",12),S("click",function(){let o=E(e).$implicit,r=u(3);return O(r.toggleMissionExpand(o.id))}),l(2,"div",13)(3,"span",14),s(4),d(),l(5,"span"),s(6),d(),l(7,"span",15),s(8),d()()(),v(9,m0,18,3,"div",18),d()}if(n&2){let e=t.$implicit,i=u(3);F("expanded",i.isMissionExpanded(e.id)),a(4),x(i.isMissionExpanded(e.id)?"\u25BC":"\u25B6"),a(2),x(e.title),a(),Z("color",i.getDifficultyColor(e.difficulty)),a(),y(" [",e.difficulty.toUpperCase(),"] "),a(),_(i.isMissionExpanded(e.id)?9:-1)}}function f0(n,t){if(n&1&&A(0,g0,10,8,"div",10,Yn),n&2){let e=u(2);R(e.availableMissions())}}function h0(n,t){if(n&1&&(l(0,"div",5),v(1,d0,6,0,"div",7)(2,f0,2,0),d()),n&2){let e=u();a(),_(e.availableMissions().length===0?1:2)}}function v0(n,t){n&1&&(l(0,"div",7),N(1,"app-icon",39),l(2,"p"),s(3,"No completed missions"),d(),l(4,"p",9),s(5,"Complete missions to see them here"),d()())}function _0(n,t){if(n&1&&(l(0,"span"),s(1),d()),n&2){let e=u().$implicit,i=u(3);a(),y("Completed: ",i.formatDate(e.completedAt))}}function C0(n,t){if(n&1&&(l(0,"span"),s(1),d()),n&2){let e=u().$implicit,i=u(3);a(),y("Failed: ",i.formatDate(e.failedAt))}}function x0(n,t){if(n&1&&(l(0,"span"),s(1),d()),n&2){let e=u(2).$implicit;a(),y("\u2B50 ",e.reward.reputation," reputation")}}function b0(n,t){if(n&1&&(l(0,"span"),s(1),d(),v(2,x0,2,1,"span")),n&2){let e=u().$implicit;a(),y("Earned: \u{1F4B0} ",e.reward.credits," credits"),a(),_(e.reward.reputation?2:-1)}}function y0(n,t){if(n&1&&(l(0,"div",40)(1,"div",41)(2,"div",13)(3,"span"),s(4),d(),l(5,"span",15),s(6),d(),l(7,"span",42),s(8),d()()(),l(9,"div",18)(10,"div",43),v(11,_0,2,1,"span"),v(12,C0,2,1,"span"),v(13,b0,3,2),d()()()),n&2){let e=t.$implicit,i=u(3);a(4),x(e.title),a(),Z("color",i.getDifficultyColor(e.difficulty)),a(),y(" [",e.difficulty.toUpperCase(),"] "),a(),F("success",e.status===i.MissionStatus.COMPLETED)("failed",e.status===i.MissionStatus.FAILED),a(),y(" ",e.status===i.MissionStatus.COMPLETED?"\u2713 COMPLETED":"\u2717 FAILED"," "),a(3),_(e.completedAt?11:-1),a(),_(e.failedAt?12:-1),a(),_(e.status===i.MissionStatus.COMPLETED?13:-1)}}function M0(n,t){if(n&1&&A(0,y0,14,12,"div",40,qm),n&2){let e=u(2);R(e.missionHistory())}}function S0(n,t){if(n&1&&(l(0,"div",5),v(1,v0,6,0,"div",7)(2,M0,2,0),d()),n&2){let e=u();a(),_(e.missionHistory().length===0?1:2)}}function w0(n,t){if(n&1&&(l(0,"div",53)(1,"span",54),s(2,"Allies:"),d(),l(3,"span",55),s(4),d()()),n&2){let e=u(2).$implicit,i=u(2);a(4),x(i.getFactionRelationships(e).allies.join(", "))}}function E0(n,t){if(n&1&&(l(0,"div",53)(1,"span",54),s(2,"Hostile:"),d(),l(3,"span",56),s(4),d()()),n&2){let e=u(2).$implicit,i=u(2);a(4),x(i.getFactionRelationships(e).hostiles.join(", "))}}function O0(n,t){if(n&1&&(l(0,"div",51),v(1,w0,5,1,"div",53),v(2,E0,5,1,"div",53),d()),n&2){let e=u().$implicit,i=u(2);a(),_(i.getFactionRelationships(e).allies.length>0?1:-1),a(),_(i.getFactionRelationships(e).hostiles.length>0?2:-1)}}function P0(n,t){if(n&1&&(l(0,"li"),s(1),d()),n&2){let e=t.$implicit,i=u(4);a(),x(i.formatUnlock(e))}}function T0(n,t){if(n&1&&(l(0,"div",52)(1,"span",57),s(2,"Unlocked:"),d(),l(3,"ul",58),A(4,P0,2,1,"li",null,be),d()()),n&2){let e=u().$implicit,i=u(2);a(4),R(i.getUnlockedFeatures(e.id))}}function k0(n,t){if(n&1&&(l(0,"div",44)(1,"div",45)(2,"div",46),s(3),d(),l(4,"div",47),s(5),d()(),l(6,"div",48),N(7,"div",49),d(),l(8,"div",50),s(9),d(),v(10,O0,3,2,"div",51),v(11,T0,6,0,"div",52),d()),n&2){let e=t.$implicit,i=u(2);a(2),Z("color",e.color),a(),y(" ",e.name," "),a(),Z("color",i.getReputationColor(i.getReputationLevel(e.id))),a(),oe(" ",i.getReputationLevel(e.id)," (",i.getReputationPoints(e.id),") "),a(2),Z("width",i.getReputationProgress(e.id),"%")("background-color",i.getReputationColor(i.getReputationLevel(e.id))),a(2),x(e.description),a(),_(i.getFactionRelationships(e).allies.length>0||i.getFactionRelationships(e).hostiles.length>0?10:-1),a(),_(i.getUnlockedFeatures(e.id).length>0?11:-1)}}function I0(n,t){if(n&1&&(l(0,"div",6),A(1,k0,12,14,"div",44,Yn),d()),n&2){let e=u();a(),R(e.factions())}}var Jt=class n{missionService=b(Ae);dialogService=b(rt);activeTab=P("active");expandedMissions=P(new Set);abandoningMission=P(null);activeMissions=T(()=>this.missionService.getActiveMissions());availableMissions=T(()=>this.missionService.getAvailableMissions());completedMissions=T(()=>this.missionService.getCompletedMissions());missionHistory=T(()=>this.missionService.getMissionHistory());factions=T(()=>this.missionService.getAllFactions());reputations=T(()=>this.missionService.getAllReputations());currentTime=P(Date.now());timeInterval;MissionStatus=Ga;MissionDifficulty=Ka;constructor(){this.timeInterval=setInterval(()=>{this.currentTime.set(Date.now())},1e3)}ngOnDestroy(){this.timeInterval&&clearInterval(this.timeInterval)}setTab(t){this.activeTab.set(t)}toggleMissionExpand(t){this.expandedMissions.update(e=>{let i=new Set(e);return i.has(t)?i.delete(t):i.add(t),i})}isMissionExpanded(t){return this.expandedMissions().has(t)}abandonMission(t){return J(this,null,function*(){(yield this.dialogService.confirm({title:"Abandon Mission",message:`Are you sure you want to abandon "${t.title}"? You will lose progress and receive a reputation penalty.`,confirmText:"Abandon",cancelText:"Cancel",showDontAskAgain:!0,preferenceKey:"abandon-mission"})).confirmed&&(this.abandoningMission.set(t.id),yield new Promise(i=>setTimeout(i,400)),this.missionService.failMission(t.id,"Mission abandoned by player"),this.abandoningMission.set(null))})}getTimeRemaining(t){if(!t.timeLimit||!t.startTime)return null;let e=this.currentTime()-t.startTime,i=t.timeLimit-e;if(i<=0)return"00:00";let o=Math.floor(i/6e4),r=Math.floor(i%6e4/1e3);return`${String(o).padStart(2,"0")}:${String(r).padStart(2,"0")}`}getTimeRemainingPercent(t){if(!t.timeLimit||!t.startTime)return 100;let e=this.currentTime()-t.startTime,i=t.timeLimit-e;return Math.max(0,Math.min(100,i/t.timeLimit*100))}getTimeColor(t){return t>50?"var(--success-color)":t>25?"var(--warning-color)":"var(--error-color)"}getObjectiveIcon(t){return t?"\u2713":"\u25CB"}getObjectiveProgress(t){let e=t.objectives.length;return{completed:t.objectives.filter(o=>o.completed).length,total:e}}getDifficultyColor(t){switch(t){case"easy":return"#00aa00";case"medium":return"#ffaa00";case"hard":return"#ff5500";case"expert":return"#cc0000";default:return"#888888"}}getReputationLevel(t){return this.missionService.getReputationLevel(t)}getReputationPoints(t){return this.missionService.getReputation(t)?.reputation||0}getReputationProgress(t){let e=this.getReputationPoints(t),i=[{level:"Hated",min:-1e3},{level:"Hostile",min:-500},{level:"Unfriendly",min:-100},{level:"Neutral",min:0},{level:"Friendly",min:100},{level:"Honored",min:500},{level:"Revered",min:1e3},{level:"Exalted",min:2500}],o=i[0],r=i[1];for(let m=0;m<i.length-1;m++)if(e>=i[m].min&&e<i[m+1].min){o=i[m],r=i[m+1];break}if(e>=i[i.length-1].min)return 100;let c=r.min-o.min,p=e-o.min;return Math.max(0,Math.min(100,p/c*100))}getReputationColor(t){switch(t){case"Exalted":return"#ffaa00";case"Revered":return"#00ff00";case"Honored":return"#00aa00";case"Friendly":return"#00aa00";case"Neutral":return"#888888";case"Unfriendly":return"#ff5500";case"Hostile":return"#ff0000";case"Hated":return"#990000";default:return"#888888"}}getFactionRelationships(t){let e=[],i=[];return t.relationships.forEach((o,r)=>{let c=this.missionService.getFaction(r);c&&(o==="ally"?e.push(c.name):o==="hostile"&&i.push(c.name))}),{allies:e,hostiles:i}}getUnlockedFeatures(t){return this.missionService.getUnlockedFeatures(t)}formatUnlock(t){return t.split("_").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ")}formatDate(t){return new Date(t).toLocaleString()}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=Q({type:n,selectors:[["app-mission-tracker"]],decls:17,vars:14,consts:[[1,"mission-tracker"],[1,"tabs"],["type","button",1,"tab",3,"click"],[1,"badge"],[1,"content"],[1,"missions-list"],[1,"reputation-list"],[1,"empty-state"],["name","mission","size","large"],[1,"hint"],[1,"mission-card",3,"expanded"],[1,"mission-card"],[1,"mission-header",3,"click"],[1,"mission-title"],[1,"expand-icon"],[1,"difficulty"],[1,"mission-meta"],[1,"time-remaining",3,"color"],[1,"mission-body"],[1,"time-remaining"],[1,"mission-info"],[1,"info-row"],[1,"label"],[1,"info-row","stealth-warning"],[1,"objectives-section"],[1,"objectives-list"],[3,"completed"],[1,"rewards-section"],[1,"rewards"],[1,"reward"],[1,"mission-actions"],["type","button",1,"btn-danger",3,"click","disabled"],["size","small"],[1,"objective-icon"],[1,"objective-text"],[1,"objective-detail"],[1,"objective-progress"],["name","email","size","large"],[1,"mission-description"],["name","checkmark","size","large"],[1,"mission-card","history-card"],[1,"mission-header"],[1,"status"],[1,"history-info"],[1,"faction-card"],[1,"faction-header"],[1,"faction-name"],[1,"reputation-level"],[1,"reputation-bar"],[1,"reputation-progress"],[1,"faction-description"],[1,"faction-relationships"],[1,"faction-unlocks"],[1,"relationship-group"],[1,"relationship-label"],[1,"relationship-value"],[1,"relationship-value","hostile"],[1,"unlocks-label"],[1,"unlocks-list"]],template:function(e,i){e&1&&(l(0,"div",0)(1,"div",1)(2,"button",2),S("click",function(){return i.setTab("active")}),s(3," Active "),v(4,Gm,2,1,"span",3),d(),l(5,"button",2),S("click",function(){return i.setTab("available")}),s(6," Available "),v(7,Km,2,1,"span",3),d(),l(8,"button",2),S("click",function(){return i.setTab("completed")}),s(9," Completed "),d(),l(10,"button",2),S("click",function(){return i.setTab("reputation")}),s(11," Reputation "),d()(),l(12,"div",4),v(13,l0,3,1,"div",5),v(14,h0,3,1,"div",5),v(15,S0,3,1,"div",5),v(16,I0,3,0,"div",6),d()()),e&2&&(a(2),F("active",i.activeTab()==="active"),a(2),_(i.activeMissions().length>0?4:-1),a(),F("active",i.activeTab()==="available"),a(2),_(i.availableMissions().length>0?7:-1),a(),F("active",i.activeTab()==="completed"),a(2),F("active",i.activeTab()==="reputation"),a(3),_(i.activeTab()==="active"?13:-1),a(),_(i.activeTab()==="available"?14:-1),a(),_(i.activeTab()==="completed"?15:-1),a(),_(i.activeTab()==="reputation"?16:-1))},dependencies:[ne,Be,Qt],styles:[".mission-tracker[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;background:var(--bg-color);color:var(--text-color)}.tabs[_ngcontent-%COMP%]{display:flex;background:var(--bg-secondary);border-bottom:1px solid var(--border-color);padding:0;gap:0}.tab[_ngcontent-%COMP%]{flex:1;padding:12px 16px;background:transparent;border:none;color:var(--text-secondary);cursor:pointer;font-size:14px;font-weight:500;transition:all .2s;position:relative}.tab[_ngcontent-%COMP%]:hover{background:var(--hover-color);color:var(--text-color)}.tab.active[_ngcontent-%COMP%]{color:var(--primary-color);background:var(--bg-color);border-bottom:2px solid var(--primary-color)}.tab[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{display:inline-block;margin-left:6px;padding:2px 6px;background:var(--primary-color);color:#fff;border-radius:10px;font-size:11px;font-weight:700;min-width:18px;text-align:center}.content[_ngcontent-%COMP%]{flex:1;overflow-y:auto;padding:16px}.empty-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:48px 24px;text-align:center;color:var(--text-secondary)}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:8px 0;font-size:16px}.empty-state[_ngcontent-%COMP%]   p.hint[_ngcontent-%COMP%]{font-size:14px;opacity:.7}.missions-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px}.mission-card[_ngcontent-%COMP%]{background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:6px;overflow:hidden;transition:all .2s}.mission-card[_ngcontent-%COMP%]:hover, .mission-card.expanded[_ngcontent-%COMP%]{border-color:var(--primary-color)}.mission-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:12px 16px;cursor:pointer;-webkit-user-select:none;user-select:none}.mission-header[_ngcontent-%COMP%]:hover{background:var(--hover-color)}.mission-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;font-weight:600;font-size:15px}.mission-title[_ngcontent-%COMP%]   .expand-icon[_ngcontent-%COMP%]{color:var(--text-secondary);font-size:12px;width:12px}.mission-title[_ngcontent-%COMP%]   .difficulty[_ngcontent-%COMP%]{font-size:13px;font-weight:700}.mission-title[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]{font-size:12px;padding:2px 8px;border-radius:4px;font-weight:600}.mission-title[_ngcontent-%COMP%]   .status.success[_ngcontent-%COMP%]{background:var(--success-color);color:#fff}.mission-title[_ngcontent-%COMP%]   .status.failed[_ngcontent-%COMP%]{background:var(--error-color);color:#fff}.mission-meta[_ngcontent-%COMP%]{display:flex;gap:12px;align-items:center;font-size:14px}.time-remaining[_ngcontent-%COMP%]{font-weight:600;font-family:Courier New,monospace}.mission-body[_ngcontent-%COMP%]{padding:16px;border-top:1px solid var(--border-color)}.mission-info[_ngcontent-%COMP%]{margin-bottom:16px;padding:12px;background:var(--bg-color);border-radius:4px}.mission-info[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]{display:flex;gap:8px;padding:4px 0;font-size:14px}.mission-info[_ngcontent-%COMP%]   .info-row.stealth-warning[_ngcontent-%COMP%]{color:var(--warning-color);font-weight:600}.mission-info[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-weight:600;min-width:80px;color:var(--text-secondary)}.objectives-section[_ngcontent-%COMP%]{margin-bottom:16px}.objectives-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:14px;font-weight:600;margin-bottom:8px;color:var(--text-secondary);text-transform:uppercase;letter-spacing:.5px}.objectives-list[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.objectives-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:8px;margin-bottom:4px;background:var(--bg-color);border-radius:4px;font-size:14px}.objectives-list[_ngcontent-%COMP%]   li.completed[_ngcontent-%COMP%]{opacity:.6;text-decoration:line-through}.objectives-list[_ngcontent-%COMP%]   li.completed[_ngcontent-%COMP%]   .objective-icon[_ngcontent-%COMP%]{color:var(--success-color)}.objectives-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .objective-icon[_ngcontent-%COMP%]{font-weight:700;font-size:16px;width:20px;text-align:center;flex-shrink:0}.objectives-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .objective-text[_ngcontent-%COMP%]{flex:1}.objectives-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .objective-detail[_ngcontent-%COMP%]{font-size:12px;color:var(--text-secondary);font-family:Courier New,monospace}.objectives-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .objective-progress[_ngcontent-%COMP%]{font-size:12px;font-weight:600;color:var(--primary-color)}.rewards-section[_ngcontent-%COMP%]{margin-bottom:16px}.rewards-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:14px;font-weight:600;margin-bottom:8px;color:var(--text-secondary);text-transform:uppercase;letter-spacing:.5px}.rewards-section[_ngcontent-%COMP%]   .rewards[_ngcontent-%COMP%]{display:flex;gap:16px;padding:12px;background:var(--bg-color);border-radius:4px}.rewards-section[_ngcontent-%COMP%]   .rewards[_ngcontent-%COMP%]   .reward[_ngcontent-%COMP%]{font-size:15px;font-weight:600}.mission-actions[_ngcontent-%COMP%]{display:flex;gap:8px;justify-content:flex-end}.mission-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:8px 16px;border:none;border-radius:4px;font-size:14px;font-weight:600;cursor:pointer;transition:all .2s}.mission-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.mission-actions[_ngcontent-%COMP%]   .btn-danger[_ngcontent-%COMP%]{background:var(--error-color);color:#fff}.mission-actions[_ngcontent-%COMP%]   .btn-danger[_ngcontent-%COMP%]:hover:not(:disabled){background:#c00}.mission-description[_ngcontent-%COMP%]{margin-bottom:16px;padding:12px;background:var(--bg-color);border-radius:4px;font-size:14px;line-height:1.5}.history-card[_ngcontent-%COMP%]   .mission-header[_ngcontent-%COMP%]{cursor:default}.history-card[_ngcontent-%COMP%]   .mission-header[_ngcontent-%COMP%]:hover{background:transparent}.history-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px;font-size:13px;color:var(--text-secondary)}.history-info[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:4px 0}.reputation-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px}.faction-card[_ngcontent-%COMP%]{background:var(--bg-secondary);border:1px solid var(--border-color);border-radius:6px;padding:16px}.faction-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px}.faction-header[_ngcontent-%COMP%]   .faction-name[_ngcontent-%COMP%]{font-size:18px;font-weight:700}.faction-header[_ngcontent-%COMP%]   .reputation-level[_ngcontent-%COMP%]{font-size:14px;font-weight:600}.reputation-bar[_ngcontent-%COMP%]{height:8px;background:var(--bg-color);border-radius:4px;overflow:hidden;margin-bottom:12px}.reputation-bar[_ngcontent-%COMP%]   .reputation-progress[_ngcontent-%COMP%]{height:100%;transition:width .3s ease}.faction-description[_ngcontent-%COMP%]{font-size:13px;color:var(--text-secondary);margin-bottom:12px;line-height:1.5}.faction-relationships[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:6px;margin-bottom:12px;padding:12px;background:var(--bg-color);border-radius:4px}.faction-relationships[_ngcontent-%COMP%]   .relationship-group[_ngcontent-%COMP%]{display:flex;gap:8px;font-size:13px}.faction-relationships[_ngcontent-%COMP%]   .relationship-group[_ngcontent-%COMP%]   .relationship-label[_ngcontent-%COMP%]{font-weight:600;color:var(--text-secondary);min-width:60px}.faction-relationships[_ngcontent-%COMP%]   .relationship-group[_ngcontent-%COMP%]   .relationship-value[_ngcontent-%COMP%]{color:var(--success-color)}.faction-relationships[_ngcontent-%COMP%]   .relationship-group[_ngcontent-%COMP%]   .relationship-value.hostile[_ngcontent-%COMP%]{color:var(--error-color)}.faction-unlocks[_ngcontent-%COMP%]{padding:12px;background:var(--bg-color);border-radius:4px}.faction-unlocks[_ngcontent-%COMP%]   .unlocks-label[_ngcontent-%COMP%]{font-weight:600;font-size:13px;color:var(--text-secondary);display:block;margin-bottom:8px}.faction-unlocks[_ngcontent-%COMP%]   .unlocks-list[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0;display:flex;flex-wrap:wrap;gap:6px}.faction-unlocks[_ngcontent-%COMP%]   .unlocks-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:4px 8px;background:var(--primary-color);color:#fff;border-radius:4px;font-size:12px;font-weight:600}.hint[_ngcontent-%COMP%]{font-size:13px;color:var(--text-secondary);font-style:italic;text-align:center;margin-top:12px}"]})};function A0(n,t){if(n&1&&(g(0,"div",7)(1,"pre"),s(2),f()()),n&2){let e=u();a(2),x(e.attachment().content)}}function R0(n,t){if(n&1&&(g(0,"div",8),ye(1,"img",10),f()),n&2){let e=u();a(),wt("src",e.attachment().content,da)("alt",e.attachment().filename)}}function D0(n,t){if(n&1&&(g(0,"li"),s(1),f()),n&2){let e=t.$implicit;a(),x(e)}}function N0(n,t){if(n&1&&(g(0,"div",11)(1,"h2"),s(2),f(),g(3,"div",12)(4,"span",13),s(5),f(),g(6,"span",14),s(7),f()()(),g(8,"div",15)(9,"h4"),s(10,"Client"),f(),g(11,"p"),s(12),f()(),g(13,"div",15)(14,"h4"),s(15,"Objectives"),f(),g(16,"ul",16),A(17,D0,2,1,"li",null,be),f()()),n&2){let e=t;a(2),x(e.title),a(2),mt("difficulty-"+e.difficulty.toLowerCase()),a(),y(" ",e.difficulty," "),a(2),y("\u{1F4B0} ",e.reward," credits"),a(5),x(e.client),a(5),R(e.objectives)}}function F0(n,t){if(n&1&&(g(0,"div",9),v(1,N0,19,6),f()),n&2){let e,i=u();a(),_((e=i.attachment().missionData)?1:-1,e)}}var ao=class n{fs=b(Tt);notification=b(ot);attachment=He.required();close=Ve();isDownloading=P(!1);attachmentType=T(()=>this.attachment().type);isTextFile=T(()=>{let t=this.attachmentType();return t==="text"||t==="unknown"});isImageFile=T(()=>this.attachmentType()==="image");isMissionBriefing=T(()=>this.attachmentType()==="mission");closeViewer(){this.close.emit()}downloadAttachment(){let t=this.attachment();this.isDownloading.set(!0);let e=`/home/user/downloads/${t.filename}`,i=t.content||this.generateMissionBriefingContent();try{this.fs.createDirectory("/home/user/downloads")}catch{}this.fs.writeFile(e,i)?this.notification.success("Download Complete",`Saved to ${e}`):this.notification.error("Download Failed","Unable to save attachment to file system"),this.isDownloading.set(!1)}generateMissionBriefingContent(){let t=this.attachment().missionData;return t?`MISSION BRIEFING
\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501

Title: ${t.title}
Difficulty: ${t.difficulty}
Client: ${t.client}
Reward: ${t.reward} credits

OBJECTIVES:
${t.objectives.map(e=>`\u2022 ${e}`).join(`
`)}

\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501`:""}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=Q({type:n,selectors:[["app-attachment-viewer"]],inputs:{attachment:[1,"attachment"]},outputs:{close:"close"},decls:14,vars:6,consts:[[1,"attachment-viewer-overlay",3,"click"],[1,"attachment-viewer-modal",3,"click"],[1,"modal-header"],[1,"modal-actions"],[1,"download-button",3,"click","disabled"],[1,"close-button",3,"click"],[1,"modal-content"],[1,"text-viewer"],[1,"image-viewer"],[1,"mission-viewer"],[3,"src","alt"],[1,"mission-header"],[1,"mission-meta"],[1,"difficulty"],[1,"reward"],[1,"mission-section"],[1,"objectives-list"]],template:function(e,i){e&1&&(g(0,"div",0),q("click",function(){return i.closeViewer()}),g(1,"div",1),q("click",function(r){return r.stopPropagation()}),g(2,"div",2)(3,"h3"),s(4),f(),g(5,"div",3)(6,"button",4),q("click",function(){return i.downloadAttachment()}),s(7),f(),g(8,"button",5),q("click",function(){return i.closeViewer()}),s(9,"\u2715"),f()()(),g(10,"div",6),v(11,A0,3,1,"div",7),v(12,R0,2,2,"div",8),v(13,F0,2,1,"div",9),f()()()),e&2&&(a(4),x(i.attachment().filename),a(2),wt("disabled",i.isDownloading()),a(),y(" ",i.isDownloading()?"\u23F3 Downloading...":"\u2B07 Download"," "),a(4),_(i.isTextFile()?11:-1),a(),_(i.isImageFile()?12:-1),a(),_(i.isMissionBriefing()?13:-1))},dependencies:[ne],styles:['@charset "UTF-8";.attachment-viewer-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#000000b3;display:flex;align-items:center;justify-content:center;z-index:10000;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px)}.attachment-viewer-modal[_ngcontent-%COMP%]{background:var(--window-bg, #2a2a2a);border:1px solid var(--window-border, #555);border-radius:8px;max-width:900px;max-height:80vh;width:90%;display:flex;flex-direction:column;box-shadow:0 8px 32px #0006}.modal-header[_ngcontent-%COMP%]{padding:16px;border-bottom:1px solid var(--window-border, #555);display:flex;align-items:center;justify-content:space-between;background:var(--titlebar-bg, #1e1e1e)}.modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:16px;font-weight:500;color:var(--text-color, #fff);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.modal-actions[_ngcontent-%COMP%]{display:flex;gap:8px}.modal-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:6px 12px;border:1px solid var(--button-border, #555);background:var(--button-bg, #3a3a3a);color:var(--text-color, #fff);border-radius:4px;cursor:pointer;font-size:14px;transition:background .2s}.modal-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover:not(:disabled){background:var(--button-hover, #4a4a4a)}.modal-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.modal-actions[_ngcontent-%COMP%]   .download-button[_ngcontent-%COMP%]{background:#2e5090}.modal-actions[_ngcontent-%COMP%]   .download-button[_ngcontent-%COMP%]:hover:not(:disabled){background:#3a60a8}.modal-actions[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]{min-width:32px;padding:6px 8px;font-size:16px;line-height:1}.modal-content[_ngcontent-%COMP%]{padding:16px;overflow:auto;flex:1}.text-viewer[_ngcontent-%COMP%]   pre[_ngcontent-%COMP%]{margin:0;padding:16px;background:var(--code-bg, #1e1e1e);border:1px solid var(--window-border, #555);border-radius:4px;color:var(--text-color, #fff);font-family:Courier New,monospace;font-size:13px;line-height:1.5;white-space:pre-wrap;word-wrap:break-word;overflow-x:auto}.image-viewer[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;min-height:300px}.image-viewer[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:60vh;object-fit:contain;border-radius:4px;box-shadow:0 2px 8px #0000004d}.mission-viewer[_ngcontent-%COMP%]   .mission-header[_ngcontent-%COMP%]{margin-bottom:24px;padding-bottom:16px;border-bottom:2px solid var(--window-border, #555)}.mission-viewer[_ngcontent-%COMP%]   .mission-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0 0 12px;font-size:24px;color:var(--text-color, #fff)}.mission-viewer[_ngcontent-%COMP%]   .mission-meta[_ngcontent-%COMP%]{display:flex;gap:16px;align-items:center}.mission-viewer[_ngcontent-%COMP%]   .mission-meta[_ngcontent-%COMP%]   .difficulty[_ngcontent-%COMP%]{padding:4px 12px;border-radius:4px;font-size:12px;font-weight:600;text-transform:uppercase}.mission-viewer[_ngcontent-%COMP%]   .mission-meta[_ngcontent-%COMP%]   .difficulty.difficulty-easy[_ngcontent-%COMP%]{background:#2e9050;color:#fff}.mission-viewer[_ngcontent-%COMP%]   .mission-meta[_ngcontent-%COMP%]   .difficulty.difficulty-medium[_ngcontent-%COMP%]{background:#907020;color:#fff}.mission-viewer[_ngcontent-%COMP%]   .mission-meta[_ngcontent-%COMP%]   .difficulty.difficulty-hard[_ngcontent-%COMP%]{background:#902e2e;color:#fff}.mission-viewer[_ngcontent-%COMP%]   .mission-meta[_ngcontent-%COMP%]   .reward[_ngcontent-%COMP%]{font-size:16px;font-weight:500;color:gold}.mission-viewer[_ngcontent-%COMP%]   .mission-section[_ngcontent-%COMP%]{margin-bottom:20px}.mission-viewer[_ngcontent-%COMP%]   .mission-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 8px;font-size:14px;text-transform:uppercase;color:var(--text-secondary, #999);font-weight:600}.mission-viewer[_ngcontent-%COMP%]   .mission-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:var(--text-color, #fff);line-height:1.6}.mission-viewer[_ngcontent-%COMP%]   .objectives-list[_ngcontent-%COMP%]{margin:0;padding-left:24px;list-style:none}.mission-viewer[_ngcontent-%COMP%]   .objectives-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{position:relative;color:var(--text-color, #fff);line-height:1.8;padding-left:0}.mission-viewer[_ngcontent-%COMP%]   .objectives-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:before{content:"\\25b8";position:absolute;left:-20px;color:#2e5090;font-size:14px}']})};var so=class n{emails=P([{id:1,from:"admin@webos.sys",subject:"Welcome to WebOS",body:`Welcome to WebOS! This is your personal email client for managing contracts, missions, and communications.

In sandbox mode, you will receive contract offers and mission briefings here. Check your inbox regularly for new opportunities.

Good luck!`,timestamp:new Date(Date.now()-864e5),read:!1,category:"system"},{id:2,from:"contracts@corp.net",subject:"[CONTRACT] Data Analysis Project",body:`Dear User,

We have a contract available for data analysis work. The project involves analyzing system logs and identifying performance bottlenecks.

Duration: 2 weeks
Payment: 5000 credits
Difficulty: Medium

Please respond if interested.

Best regards,
Corporate Contracts`,timestamp:new Date(Date.now()-432e5),read:!1,attachments:["contract_details.pdf"],category:"contract"},{id:3,from:"missions@agency.gov",subject:"[MISSION] Security Audit Required",body:`CONFIDENTIAL

We need a security audit performed on a critical system. This is a time-sensitive mission.

Objectives:
- Identify security vulnerabilities
- Provide detailed report
- Recommend fixes

Reward: 8000 credits + bonus
Deadline: 72 hours

Accept mission?`,timestamp:new Date(Date.now()-72e5),read:!1,attachments:["mission_brief.txt","system_specs.doc"],category:"mission"}]);allEmails=this.emails.asReadonly();unreadCount=T(()=>this.emails().filter(t=>!t.read).length);getEmail(t){return this.emails().find(e=>e.id===t)}addEmail(t){this.emails.update(e=>[...e,t])}addEmails(t){this.emails.update(e=>[...e,...t])}updateEmail(t,e){this.emails.update(i=>i.map(o=>o.id===t?w(w({},o),e):o))}markAsRead(t){this.updateEmail(t,{read:!0})}markAllAsRead(){this.emails.update(t=>t.map(e=>L(w({},e),{read:!0})))}deleteEmail(t){this.emails.update(e=>e.filter(i=>i.id!==t))}getNextEmailId(){return Math.max(...this.emails().map(t=>t.id),0)+1}filterByCategory(t){return t==="all"?this.emails():this.emails().filter(e=>e.category===t)}static \u0275fac=function(e){return new(e||n)};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})};var j0=()=>[1,2,3,4,5],L0=(n,t)=>t.id;function z0(n,t){n&1&&N(0,"app-spinner",1),n&2&&z("overlay",!0)}function U0(n,t){if(n&1&&(l(0,"span",7),s(1),d()),n&2){let e=u();ba("aria-label",Ea("",e.unreadCount()," unread messages")),a(),x(e.unreadCount())}}function $0(n,t){if(n&1){let e=D();l(0,"app-attachment-viewer",20),S("close",function(){E(e);let o=u();return O(o.closeAttachmentViewer())}),d()}if(n&2){let e=u();z("attachment",e.viewingAttachment())}}function V0(n,t){n&1&&(l(0,"article",21)(1,"div",22),N(2,"span",23)(3,"span",24),d(),l(4,"div",25),N(5,"span",26)(6,"span",27),d(),N(7,"div",28),d())}function H0(n,t){n&1&&A(0,V0,8,0,"article",21,be),n&2&&R(ui(0,j0))}function B0(n,t){if(n&1&&(l(0,"div",35),N(1,"app-icon",36),l(2,"span"),s(3),d()()),n&2){let e=u().$implicit;a(3),oe("",e.attachments.length," attachment",e.attachments.length!==1?"s":"")}}function W0(n,t){if(n&1){let e=D();l(0,"article",30),S("click",function(){let o=E(e).$implicit,r=u(2);return O(r.selectEmail(o.id))}),l(1,"div",22)(2,"span",31),s(3),d(),l(4,"time",32),s(5),d()(),l(6,"div",25)(7,"span",33),s(8),d(),s(9),d(),l(10,"p",34),s(11),d(),v(12,B0,4,2,"div",35),d()}if(n&2){let e=t.$implicit,i=u(2);F("unread",!e.read)("selected",i.selectedEmailId()===e.id),$("aria-label","Email from "+e.from+" about "+e.subject+(e.read?"":", unread")),a(3),x(e.from),a(),$("datetime",e.timestamp.toISOString()),a(),x(i.formatTimestamp(e.timestamp)),a(2),Z("background",i.getCategoryBadgeColor(e.category)),a(),y(" ",e.category," "),a(),y(" ",e.subject," "),a(2),y("",e.body.substring(0,100),"..."),a(),_(e.attachments&&e.attachments.length>0?12:-1)}}function q0(n,t){if(n&1&&A(0,W0,13,14,"article",29,L0),n&2){let e=u();R(e.filteredEmails())}}function G0(n,t){if(n&1){let e=D();l(0,"article",18)(1,"header",37)(2,"h2"),s(3,"New Message"),d(),l(4,"div",38)(5,"button",39),S("click",function(){E(e);let o=u();return O(o.sendEmail())}),s(6,"Send"),d(),l(7,"button",10),S("click",function(){E(e);let o=u();return O(o.cancelCompose())}),s(8,"Cancel"),d()()(),l(9,"form",40)(10,"div",41)(11,"label",42),s(12,"To:"),d(),l(13,"input",43),pi("ngModelChange",function(o){E(e);let r=u();return di(r.newEmail().to,o)||(r.newEmail().to=o),O(o)}),d()(),l(14,"div",41)(15,"label",44),s(16,"Subject:"),d(),l(17,"input",45),pi("ngModelChange",function(o){E(e);let r=u();return di(r.newEmail().subject,o)||(r.newEmail().subject=o),O(o)}),d()(),l(18,"div",46)(19,"label",47),s(20,"Body:"),d(),l(21,"textarea",48),pi("ngModelChange",function(o){E(e);let r=u();return di(r.newEmail().body,o)||(r.newEmail().body=o),O(o)}),d()()()()}if(n&2){let e=u();a(13),li("ngModel",e.newEmail().to),a(4),li("ngModel",e.newEmail().subject),a(4),li("ngModel",e.newEmail().body)}}function K0(n,t){n&1&&N(0,"app-spinner",1),n&2&&z("overlay",!0)}function Y0(n,t){if(n&1){let e=D();l(0,"button",56),S("click",function(){E(e);let o=u(2);return O(o.acceptMission(o.selectedEmail().missionId))}),s(1),d(),l(2,"button",57),S("click",function(){E(e);let o=u(2);return O(o.rejectMission(o.selectedEmail().missionId))}),s(3),d()}if(n&2){let e=u(2);z("disabled",e.acceptingMission()||e.rejectingMission()),$("aria-busy",e.acceptingMission()),a(),y(" ",e.acceptingMission()?"Accepting...":"Accept"," "),a(),z("disabled",e.acceptingMission()||e.rejectingMission()),$("aria-busy",e.rejectingMission()),a(),y(" ",e.rejectingMission()?"Declining...":"Decline"," ")}}function Z0(n,t){if(n&1){let e=D();l(0,"button",9),S("click",function(){E(e);let o=u(2);return O(o.replyToEmail())}),s(1," Reply "),d()}if(n&2){let e=u(2);z("disabled",e.acceptingMission()||e.rejectingMission())}}function X0(n,t){if(n&1){let e=D();l(0,"button",60),S("click",function(){let o=E(e).$implicit,r=u(3);return O(r.openAttachment(o))}),N(1,"app-icon",36),l(2,"span"),s(3),d()()}if(n&2){let e=t.$implicit;$("aria-label","Open attachment: "+e),a(3),x(e)}}function Q0(n,t){if(n&1&&(l(0,"div",54)(1,"dt"),s(2,"Attachments:"),d(),l(3,"dd",58),A(4,X0,4,2,"button",59,be),d()()),n&2){let e=u(2);a(4),R(e.selectedEmail().attachments)}}function J0(n,t){if(n&1){let e=D();l(0,"article",19),v(1,K0,1,1,"app-spinner",1),l(2,"header",49)(3,"div",50)(4,"h2"),s(5),d(),l(6,"span",33),s(7),d()(),l(8,"nav",51),v(9,Y0,4,6),v(10,Z0,2,1,"button",52),l(11,"button",9),S("click",function(){E(e);let o=u();return O(o.deleteEmail(o.selectedEmail().id))}),s(12," Delete "),d()()(),l(13,"dl",53)(14,"div",54)(15,"dt"),s(16,"From:"),d(),l(17,"dd"),s(18),d()(),l(19,"div",54)(20,"dt"),s(21,"Date:"),d(),l(22,"dd")(23,"time"),s(24),d()()(),v(25,Q0,6,0,"div",54),d(),l(26,"div",55)(27,"pre"),s(28),d()()()}if(n&2){let e,i=u();a(),_(i.acceptingMission()||i.rejectingMission()?1:-1),a(4),x(i.selectedEmail().subject),a(),Z("background",i.getCategoryBadgeColor(i.selectedEmail().category)),a(),y(" ",i.selectedEmail().category," "),a(2),_(i.selectedEmail().missionId&&((e=i.getMissionDetails(i.selectedEmail().missionId))==null?null:e.status)==="available"?9:-1),a(),_(i.selectedEmail().category!=="contract"?10:-1),a(),z("disabled",i.acceptingMission()||i.rejectingMission()),a(7),x(i.selectedEmail().from),a(5),$("datetime",i.selectedEmail().timestamp.toISOString()),a(),x(i.selectedEmail().timestamp.toLocaleString()),a(),_(i.selectedEmail().attachments&&i.selectedEmail().attachments.length>0?25:-1),a(3),x(i.selectedEmail().body)}}function eg(n,t){if(n&1){let e=D();l(0,"button",64),S("click",function(){E(e);let o=u(3);return O(o.setFilter("all"))}),s(1,"View All Emails"),d()}}function tg(n,t){if(n&1&&(l(0,"div",61)(1,"div",62),s(2,"\u{1F4ED}"),d(),l(3,"h3"),s(4,"No emails here"),d(),l(5,"p"),s(6),d(),v(7,eg,2,0,"button",63),d()),n&2){let e=u(2);a(6),y("Your ",e.filterCategory()==="all"?"inbox is empty":e.filterCategory()+" folder is empty"),a(),_(e.filterCategory()!=="all"?7:-1)}}function ng(n,t){n&1&&(l(0,"div",61)(1,"div",65),N(2,"app-icon",66),d(),l(3,"p"),s(4,"Select an email to read"),d()())}function ig(n,t){if(n&1&&v(0,tg,8,2,"div",61)(1,ng,5,0,"div",61),n&2){let e=u();_(e.filteredEmails().length===0?0:1)}}var Zn=class n{missionService=b(Ae);dialogService=b(rt);notificationService=b(ot);emailService=b(so);verificationService=b(at);emails=this.emailService.allEmails;selectedEmailId=P(null);composing=P(!1);filterCategory=P("all");viewingAttachment=P(null);acceptingMission=P(!1);rejectingMission=P(!1);requestingContracts=P(!1);loadingEmails=P(!1);newEmail=P({to:"",subject:"",body:""});selectedEmail=T(()=>{let t=this.selectedEmailId();return t?this.emails().find(e=>e.id===t):null});filteredEmails=T(()=>{let t=this.filterCategory();return t==="all"?this.emails():this.emails().filter(e=>e.category===t)});unreadCount=this.emailService.unreadCount;selectEmail(t){this.selectedEmailId.set(t),this.emailService.markAsRead(t)}deleteEmail(t){return J(this,null,function*(){let e=this.emailService.getEmail(t);!e||!(yield this.dialogService.confirm({title:"Delete Email",message:`Are you sure you want to delete "${e.subject}"? This action cannot be undone.`,confirmText:"Delete",cancelText:"Cancel",showDontAskAgain:!0,preferenceKey:"delete-email"})).confirmed||(this.emailService.deleteEmail(t),this.selectedEmailId()===t&&this.selectedEmailId.set(null),this.notificationService.show("Email deleted","success"))})}startCompose(){this.composing.set(!0),this.selectedEmailId.set(null),this.newEmail.set({to:"",subject:"",body:""})}cancelCompose(){this.composing.set(!1),this.newEmail.set({to:"",subject:"",body:""})}sendEmail(){let t=this.newEmail();if(!t.to||!t.subject)return;let e=this.emailService.getNextEmailId();this.emailService.addEmail({id:e,from:"user@webos.sys",subject:t.subject,body:t.body,timestamp:new Date,read:!0,category:"personal"}),this.composing.set(!1),this.newEmail.set({to:"",subject:"",body:""})}replyToEmail(){let t=this.selectedEmail();t&&(this.startCompose(),this.newEmail.set({to:t.from,subject:`RE: ${t.subject}`,body:`

--- Original Message ---
From: ${t.from}
Date: ${t.timestamp.toLocaleString()}

${t.body}`}))}setFilter(t){this.filterCategory.set(t)}markAllRead(){this.emailService.markAllAsRead()}requestNewContracts(){return J(this,null,function*(){this.requestingContracts.set(!0),yield new Promise(o=>setTimeout(o,800));let t=this.missionService.deliverMissionsToEmail(3),e=this.emailService.getNextEmailId(),i=t.map(o=>{let r=this.missionToEmail(o);return r.id=e++,r});this.emailService.addEmails(i),this.requestingContracts.set(!1)})}acceptMission(t){return J(this,null,function*(){if(!t)return!1;this.acceptingMission.set(!0),yield new Promise(i=>setTimeout(i,600));let e=this.missionService.acceptMission(t);if(e){let i=this.emails().find(o=>o.missionId===t);i&&this.emailService.updateEmail(i.id,{subject:i.subject.replace("[NEW CONTRACT]","[ACCEPTED]")}),this.verificationService.emitEvent("mission_action",{action:"accept",missionId:t}),alert("Mission accepted! Check your active missions in the Task Manager.")}else alert("Failed to accept mission. It may have already been accepted or expired.");return this.acceptingMission.set(!1),e})}rejectMission(t){return J(this,null,function*(){if(!t||!(yield this.dialogService.confirm({title:"Decline Mission",message:"Are you sure you want to decline this contract? You will not be able to accept it again.",confirmText:"Decline",cancelText:"Cancel",showDontAskAgain:!0,preferenceKey:"decline-mission"})).confirmed)return;this.rejectingMission.set(!0),yield new Promise(o=>setTimeout(o,400));let i=this.emails().find(o=>o.missionId===t);i&&this.emailService.updateEmail(i.id,{subject:i.subject.replace("[NEW CONTRACT]","[DECLINED]")}),this.notificationService.show("Mission declined","info"),this.rejectingMission.set(!1)})}openAttachment(t){let e=this.selectedEmail();if(!e)return;let i=this.parseAttachment(t,e);this.viewingAttachment.set(i)}closeAttachmentViewer(){this.viewingAttachment.set(null)}parseAttachment(t,e){let i=t.split(".").pop()?.toLowerCase();return t.includes("mission_brief")||t.includes("briefing")?{filename:t,type:"mission",missionData:e.missionId?this.extractMissionData(e):void 0}:i==="png"||i==="jpg"||i==="jpeg"||i==="gif"?{filename:t,type:"image",content:`data:image/${i};base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mNk+M9QDwADhgGAWjR9awAAAABJRU5ErkJggg==`}:{filename:t,type:"text",content:this.generateAttachmentContent(t,e)}}extractMissionData(t){let e=t.missionId?this.missionService.getMission(t.missionId):null;if(e)return{title:e.title,objectives:e.objectives.map(m=>m.description),reward:e.reward.credits,difficulty:e.difficulty.charAt(0).toUpperCase()+e.difficulty.slice(1),client:e.clientName||"Unknown"};let i=t.body.match(/OBJECTIVES:\n([\s\S]*?)\n\n/),o=i?i[1].split(`
`).filter(m=>m.trim().startsWith("\u2022")).map(m=>m.replace("\u2022","").trim()):[],r=t.body.match(/Credits: (\d+)/),c=t.body.match(/Difficulty: (\w+)/),p=t.body.match(/Client: ([^\n]+)/);return{title:t.subject.replace(/\[.*?\]\s*/,""),objectives:o,reward:r?parseInt(r[1]):0,difficulty:c?c[1]:"Unknown",client:p?p[1]:t.from}}generateAttachmentContent(t,e){return t.includes("contract")?`CONTRACT DETAILS
\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501

This document contains the full terms and conditions for the contract referenced in the email.

Subject: ${e.subject}
From: ${e.from}
Date: ${e.timestamp.toLocaleString()}

TERMS:
${e.body}

\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501

By accepting this contract, you agree to complete all objectives within the specified timeframe.`:t.includes("spec")?`SYSTEM SPECIFICATIONS
\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501

Target System Information:
- OS: Linux 5.4.0
- Kernel: x86_64
- Open Ports: 21 (FTP), 22 (SSH), 80 (HTTP), 443 (HTTPS)
- Firewall: Active
- IDS: Enabled
- Security Level: High

Network Configuration:
- IP Range: 192.168.1.0/24
- Gateway: 192.168.1.1
- DNS: 8.8.8.8, 8.8.4.4

Known Vulnerabilities:
- CVE-2021-44228 (Log4j)
- Weak FTP credentials
- Unpatched SSH version

\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501`:`${t}
\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501

This is an attachment from the email: "${e.subject}"

Content:
${e.body.substring(0,500)}...

\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501

End of attachment.`}getMissionDetails(t){return this.missionService.getMission(t)}missionToEmail(t){let e=t.objectives.map(o=>`\u2022 ${o.description}`).join(`
`),i=`${t.description}

MISSION DETAILS:
\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501
Title: ${t.title}
Difficulty: ${t.difficulty.toUpperCase()}
Client: ${t.clientName||"Unknown"}
Faction: ${t.clientFaction||"Unknown"}

OBJECTIVES:
${e}

REWARDS:
\u2022 Credits: ${t.reward.credits}
\u2022 Reputation: ${t.reward.reputation||0}

TARGET:
\u2022 Network: ${t.targetNetwork||"N/A"}
${t.stealthRequired?"\u2022 Stealth Required: YES":""}

TIME LIMIT: ${t.timeLimit?this.formatTimeLimit(t.timeLimit):"N/A"}
EXPIRES: ${t.expiresAt?new Date(t.expiresAt).toLocaleString():"N/A"}

\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501

${t.consequences?.success||""}
${t.consequences?.failure||""}

Reply to this email to accept the mission.`;return{id:0,from:`${(t.clientName||"unknown").toLowerCase().replace(/\s+/g,".")}@contracts.net`,subject:`[NEW CONTRACT] ${t.title}`,body:i,timestamp:new Date,read:!1,category:"contract",missionId:t.id}}formatTimeLimit(t){let e=Math.floor(t/6e4),i=Math.floor(e/60);return i>0?`${i}h ${e%60}m`:`${e}m`}formatTimestamp(t){let i=new Date().getTime()-t.getTime(),o=Math.floor(i/36e5),r=Math.floor(o/24);return o<1?"Just now":o<24?`${o}h ago`:r===1?"Yesterday":r<7?`${r}d ago`:t.toLocaleDateString()}getCategoryBadgeColor(t){switch(t){case"contract":return"#2e5090";case"mission":return"#902e2e";case"personal":return"#2e9050";case"system":return"#907020";default:return"#555"}}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=Q({type:n,selectors:[["app-email"]],decls:43,vars:25,consts:[[1,"email-client"],[3,"overlay"],["role","navigation","aria-label","Email folders",1,"sidebar"],["aria-label","Compose new email",1,"compose-button",3,"click"],["name","mail","size","small"],["role","menu","aria-label","Email categories",1,"folder-list"],["role","menuitem",1,"folder",3,"click"],[1,"badge",3,"aria-label"],[1,"actions"],[3,"click","disabled"],[3,"click"],[3,"attachment"],["role","region","aria-label","Email messages",1,"email-list"],[1,"list-header"],["id","email-list-heading"],["aria-live","polite",1,"count"],["role","list","aria-labelledby","email-list-heading",1,"list-items"],["role","main","aria-label","Email content",1,"email-viewer"],[1,"compose"],[1,"email-content"],[3,"close","attachment"],["role","listitem","aria-label","Loading email",1,"email-item","skeleton"],[1,"email-header"],[1,"skeleton-line","short"],[1,"skeleton-line","tiny"],[1,"subject"],[1,"skeleton-badge"],[1,"skeleton-line","medium"],[1,"preview","skeleton-line","long"],["role","listitem",1,"email-item",3,"unread","selected"],["role","listitem",1,"email-item",3,"click"],[1,"from"],[1,"timestamp"],["role","status",1,"category-badge"],[1,"preview"],["role","note",1,"attachment-indicator"],["name","paperclip","size","small","aria-hidden","true"],[1,"compose-header"],[1,"compose-actions"],[1,"send-button",3,"click"],[1,"compose-fields"],[1,"field"],["for","email-to"],["id","email-to","type","email","placeholder","recipient@example.com","aria-required","true",3,"ngModelChange","ngModel"],["for","email-subject"],["id","email-subject","type","text","placeholder","Email subject","aria-required","true",3,"ngModelChange","ngModel"],[1,"field","body-field"],["for","email-body"],["id","email-body","placeholder","Type your message here...","aria-required","true",3,"ngModelChange","ngModel"],[1,"content-header"],[1,"content-title"],["aria-label","Email actions",1,"content-actions"],[3,"disabled"],[1,"content-meta"],[1,"meta-row"],[1,"content-body"],[1,"accept-button",3,"click","disabled"],[1,"reject-button",3,"click","disabled"],[1,"attachments"],[1,"attachment"],[1,"attachment",3,"click"],["role","status",1,"empty-state"],["aria-hidden","true",1,"empty-icon"],[1,"cta-button"],[1,"cta-button",3,"click"],[1,"empty-icon"],["name","mail","size","large","aria-hidden","true"]],template:function(e,i){e&1&&(l(0,"div",0),v(1,z0,1,1,"app-spinner",1),l(2,"aside",2)(3,"button",3),S("click",function(){return i.startCompose()}),N(4,"app-icon",4),l(5,"span"),s(6,"Compose"),d()(),l(7,"nav",5)(8,"button",6),S("click",function(){return i.setFilter("all")}),l(9,"span"),s(10,"All Mail"),d(),v(11,U0,2,3,"span",7),d(),l(12,"button",6),S("click",function(){return i.setFilter("contract")}),l(13,"span"),s(14,"Contracts"),d()(),l(15,"button",6),S("click",function(){return i.setFilter("mission")}),l(16,"span"),s(17,"Missions"),d()(),l(18,"button",6),S("click",function(){return i.setFilter("personal")}),l(19,"span"),s(20,"Personal"),d()(),l(21,"button",6),S("click",function(){return i.setFilter("system")}),l(22,"span"),s(23,"System"),d()()(),l(24,"div",8)(25,"button",9),S("click",function(){return i.requestNewContracts()}),s(26),d(),l(27,"button",10),S("click",function(){return i.markAllRead()}),s(28,"Mark All Read"),d()()(),v(29,$0,1,1,"app-attachment-viewer",11),l(30,"section",12)(31,"header",13)(32,"h2",14),s(33),d(),l(34,"span",15),s(35),d()(),l(36,"div",16),v(37,H0,2,1)(38,q0,2,0),d()(),l(39,"main",17),v(40,G0,22,3,"article",18)(41,J0,29,13,"article",19)(42,ig,2,1),d()()),e&2&&(a(),_(i.requestingContracts()?1:-1),a(7),F("active",i.filterCategory()==="all"),$("aria-current",i.filterCategory()==="all"?"page":null),a(3),_(i.unreadCount()>0?11:-1),a(),F("active",i.filterCategory()==="contract"),$("aria-current",i.filterCategory()==="contract"?"page":null),a(3),F("active",i.filterCategory()==="mission"),$("aria-current",i.filterCategory()==="mission"?"page":null),a(3),F("active",i.filterCategory()==="personal"),$("aria-current",i.filterCategory()==="personal"?"page":null),a(3),F("active",i.filterCategory()==="system"),$("aria-current",i.filterCategory()==="system"?"page":null),a(4),z("disabled",i.requestingContracts()),$("aria-busy",i.requestingContracts()),a(),y(" ",i.requestingContracts()?"Requesting...":"Request Contracts"," "),a(3),_(i.viewingAttachment()?29:-1),a(4),x(i.filterCategory()==="all"?"All Mail":i.filterCategory()),a(2),y("",i.filteredEmails().length," messages"),a(2),_(i.loadingEmails()?37:38),a(3),_(i.composing()?40:i.selectedEmail()?41:42))},dependencies:[ne,It,qa,$a,Va,Ha,Wa,Ba,ao,Be,Qt],styles:[".email-client[_ngcontent-%COMP%]{display:flex;height:100%;background:#2c2c2c;color:#e0e0e0;font-family:Ubuntu,sans-serif}.sidebar[_ngcontent-%COMP%]{width:200px;background:#333;border-right:1px solid #555;display:flex;flex-direction:column;padding:12px;gap:12px}.compose-button[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:8px;padding:12px;background:#5e2750;color:#fff;border:none;border-radius:4px;cursor:pointer;font-size:14px;font-weight:700}.compose-button[_ngcontent-%COMP%]:hover{background:#772953}.compose-button[_ngcontent-%COMP%]:focus-visible{outline:2px solid #fff;outline-offset:2px}.folder-list[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:4px}.folder[_ngcontent-%COMP%]{width:100%;padding:10px 12px;background:transparent;border:none;border-radius:4px;cursor:pointer;display:flex;justify-content:space-between;align-items:center;font-size:14px;color:inherit;text-align:left}.folder[_ngcontent-%COMP%]:hover{background:#3c3c3c}.folder.active[_ngcontent-%COMP%]{background:#5e2750;color:#fff}.folder[_ngcontent-%COMP%]:focus-visible{outline:2px solid #fff;outline-offset:-2px}.folder[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{padding:2px 6px;background:#902e2e;color:#fff;border-radius:10px;font-size:11px;font-weight:700}.actions[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;padding:8px;background:#444;color:#e0e0e0;border:1px solid #555;border-radius:4px;cursor:pointer;font-size:12px}.actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#555}.email-list[_ngcontent-%COMP%]{width:400px;background:#2c2c2c;border-right:1px solid #555;display:flex;flex-direction:column}.list-header[_ngcontent-%COMP%]{padding:16px;background:#3c3c3c;border-bottom:1px solid #555;display:flex;justify-content:space-between;align-items:center}.list-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:16px;text-transform:capitalize}.list-header[_ngcontent-%COMP%]   .count[_ngcontent-%COMP%]{font-size:12px;color:#999}.list-items[_ngcontent-%COMP%]{flex:1;overflow:auto}.email-item[_ngcontent-%COMP%]{padding:12px 16px;border-bottom:1px solid #3c3c3c;cursor:pointer;transition:background .2s}.email-item[_ngcontent-%COMP%]:hover{background:#333}.email-item.selected[_ngcontent-%COMP%]{background:#3c3c3c;border-left:3px solid #5e2750}.email-item.unread[_ngcontent-%COMP%]{background:#2e2e2e}.email-item.unread[_ngcontent-%COMP%]   .subject[_ngcontent-%COMP%]{font-weight:700}.email-item.skeleton[_ngcontent-%COMP%]{pointer-events:none}.email-item.skeleton[_ngcontent-%COMP%]   .skeleton-line[_ngcontent-%COMP%], .email-item.skeleton[_ngcontent-%COMP%]   .skeleton-badge[_ngcontent-%COMP%]{background:#3c3c3c;border-radius:4px;animation:_ngcontent-%COMP%_skeleton-pulse 1.5s ease-in-out infinite}.email-item.skeleton[_ngcontent-%COMP%]   .skeleton-line[_ngcontent-%COMP%]{height:12px;display:inline-block}.email-item.skeleton[_ngcontent-%COMP%]   .skeleton-line.tiny[_ngcontent-%COMP%]{width:50px}.email-item.skeleton[_ngcontent-%COMP%]   .skeleton-line.short[_ngcontent-%COMP%]{width:120px}.email-item.skeleton[_ngcontent-%COMP%]   .skeleton-line.medium[_ngcontent-%COMP%]{width:200px}.email-item.skeleton[_ngcontent-%COMP%]   .skeleton-line.long[_ngcontent-%COMP%]{width:100%}.email-item.skeleton[_ngcontent-%COMP%]   .skeleton-badge[_ngcontent-%COMP%]{width:60px;height:16px;display:inline-block}.email-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:4px;font-size:12px}.email-header[_ngcontent-%COMP%]   .from[_ngcontent-%COMP%]{color:#e0e0e0;font-weight:500}.email-header[_ngcontent-%COMP%]   .timestamp[_ngcontent-%COMP%]{color:#999}.subject[_ngcontent-%COMP%]{font-size:14px;margin-bottom:4px;display:flex;gap:8px;align-items:center}.category-badge[_ngcontent-%COMP%]{padding:2px 6px;border-radius:3px;font-size:10px;font-weight:700;text-transform:uppercase;color:#fff}.preview[_ngcontent-%COMP%]{font-size:12px;color:#999;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.attachment-indicator[_ngcontent-%COMP%]{margin-top:4px;font-size:11px;color:#999}.email-viewer[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;overflow:hidden}.empty-state[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;align-items:center;justify-content:center;color:#666}.empty-state[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]{font-size:64px;margin-bottom:16px}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px}.compose[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;overflow:hidden}.compose-header[_ngcontent-%COMP%]{padding:16px;background:#3c3c3c;border-bottom:1px solid #555;display:flex;justify-content:space-between;align-items:center}.compose-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:16px}.compose-actions[_ngcontent-%COMP%]{display:flex;gap:8px}.compose-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:8px 16px;background:#555;color:#e0e0e0;border:1px solid #666;border-radius:4px;cursor:pointer;font-size:13px}.compose-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#666}.compose-actions[_ngcontent-%COMP%]   button.send-button[_ngcontent-%COMP%]{background:#5e2750;border-color:#772953}.compose-actions[_ngcontent-%COMP%]   button.send-button[_ngcontent-%COMP%]:hover{background:#772953}.compose-fields[_ngcontent-%COMP%]{flex:1;padding:16px;overflow:auto;display:flex;flex-direction:column;gap:16px}.field[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.field[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:13px;font-weight:500;color:#e0e0e0}.field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .field[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{padding:10px;background:#3c3c3c;color:#e0e0e0;border:1px solid #555;border-radius:4px;font-size:14px;font-family:Ubuntu,sans-serif}.field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .field[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:#5e2750}.field.body-field[_ngcontent-%COMP%]{flex:1;display:flex}.field.body-field[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{flex:1;resize:none;font-family:Ubuntu Mono,monospace}.email-content[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;overflow:hidden}.content-header[_ngcontent-%COMP%]{padding:16px;background:#3c3c3c;border-bottom:1px solid #555}.content-header[_ngcontent-%COMP%]   .content-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;margin-bottom:12px}.content-header[_ngcontent-%COMP%]   .content-title[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:18px}.content-actions[_ngcontent-%COMP%]{display:flex;gap:8px}.content-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:8px 16px;background:#555;color:#e0e0e0;border:1px solid #666;border-radius:4px;cursor:pointer;font-size:13px}.content-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#666}.content-actions[_ngcontent-%COMP%]   button.accept-button[_ngcontent-%COMP%]{background:#2e9050;border-color:#3aa65d}.content-actions[_ngcontent-%COMP%]   button.accept-button[_ngcontent-%COMP%]:hover{background:#3aa65d}.content-actions[_ngcontent-%COMP%]   button.reject-button[_ngcontent-%COMP%]{background:#902e2e;border-color:#a63a3a}.content-actions[_ngcontent-%COMP%]   button.reject-button[_ngcontent-%COMP%]:hover{background:#a63a3a}.content-meta[_ngcontent-%COMP%]{padding:16px;background:#333;border-bottom:1px solid #555;display:flex;flex-direction:column;gap:8px}.meta-row[_ngcontent-%COMP%]{display:flex;gap:12px;font-size:13px}.meta-row[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{min-width:100px;color:#999;font-weight:500}.meta-row[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#e0e0e0}.attachments[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:8px}.attachment[_ngcontent-%COMP%]{padding:4px 8px;background:#444;border:1px solid #555;border-radius:4px;font-size:12px;cursor:pointer;color:#e0e0e0;transition:background .2s}.attachment[_ngcontent-%COMP%]:hover{background:#555;border-color:#5e2750}.content-body[_ngcontent-%COMP%]{flex:1;padding:24px;overflow:auto}.content-body[_ngcontent-%COMP%]   pre[_ngcontent-%COMP%]{margin:0;font-family:Ubuntu Mono,monospace;font-size:14px;line-height:1.6;white-space:pre-wrap;word-wrap:break-word;color:#e0e0e0}.empty-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%;color:#999;gap:16px}.empty-state[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]{font-size:64px;opacity:.5}.empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:20px;font-weight:500;color:#ccc}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:14px;color:#999}.empty-state[_ngcontent-%COMP%]   .cta-button[_ngcontent-%COMP%]{margin-top:8px;padding:10px 20px;background:#5e2750;border:1px solid #7a3768;border-radius:4px;font-size:14px;font-weight:500;color:#fff;cursor:pointer;transition:all .2s}.empty-state[_ngcontent-%COMP%]   .cta-button[_ngcontent-%COMP%]:hover{background:#7a3768;border-color:#8e4579}.empty-state[_ngcontent-%COMP%]   .cta-button[_ngcontent-%COMP%]:active{transform:scale(.98)}@keyframes _ngcontent-%COMP%_skeleton-pulse{0%,to{opacity:1}50%{opacity:.5}}"]})};var og=(n,t)=>t.pid;function rg(n,t){if(n&1){let e=D();g(0,"tr",5),q("click",function(){let o=E(e).$implicit,r=u();return O(r.selectProcess(o.pid))}),g(1,"td"),s(2),f(),g(3,"td"),s(4),f(),g(5,"td")(6,"span",11),s(7),f()(),g(8,"td")(9,"span",12),s(10),f()(),g(11,"td"),s(12),f(),g(13,"td"),s(14),f(),g(15,"td"),s(16),f(),g(17,"td"),s(18),f()()}if(n&2){let e=t.$implicit,i=u();F("selected",i.selectedPid()===e.pid),a(2),x(e.pid),a(2),x(e.name),a(2),$("data-type",e.type),a(),y(" ",e.type," "),a(2),$("data-status",e.status),a(),y(" ",e.status," "),a(2),x(i.formatCpu(e.cpu)),a(2),x(i.formatMemory(e.memory)),a(2),x(i.formatUptime(e.uptime)),a(2),x(e.user)}}function ag(n,t){if(n&1){let e=D();g(0,"div",10)(1,"h3"),s(2,"Process Details"),f(),g(3,"div",13)(4,"div",14)(5,"label"),s(6,"PID:"),f(),g(7,"span"),s(8),f()(),g(9,"div",14)(10,"label"),s(11,"Name:"),f(),g(12,"span"),s(13),f()(),g(14,"div",14)(15,"label"),s(16,"Type:"),f(),g(17,"span"),s(18),f()(),g(19,"div",14)(20,"label"),s(21,"Status:"),f(),g(22,"span"),s(23),f()(),g(24,"div",14)(25,"label"),s(26,"CPU Usage:"),f(),g(27,"span"),s(28),f()(),g(29,"div",14)(30,"label"),s(31,"Memory:"),f(),g(32,"span"),s(33),f()(),g(34,"div",14)(35,"label"),s(36,"Uptime:"),f(),g(37,"span"),s(38),f()(),g(39,"div",14)(40,"label"),s(41,"User:"),f(),g(42,"span"),s(43),f()()(),g(44,"div",15)(45,"button",16),q("click",function(){E(e);let o=u();return O(o.killProcess())}),s(46,"Kill Process"),f()()()}if(n&2){let e=u();a(8),x(e.selectedProcess().pid),a(5),x(e.selectedProcess().name),a(5),x(e.selectedProcess().type),a(5),x(e.selectedProcess().status),a(5),x(e.formatCpu(e.selectedProcess().cpu)),a(5),x(e.formatMemory(e.selectedProcess().memory)),a(5),x(e.formatUptime(e.selectedProcess().uptime)),a(5),x(e.selectedProcess().user)}}var en=class n{intervalId;nextPid=1e3;processes=P([{pid:1,name:"init",type:"system",status:"running",cpu:.1,memory:12,uptime:86400,user:"root"},{pid:2,name:"systemd",type:"system",status:"running",cpu:.2,memory:18,uptime:86400,user:"root"},{pid:100,name:"Desktop",type:"system",status:"running",cpu:1.5,memory:145,uptime:3600,user:"user"},{pid:101,name:"WindowManager",type:"system",status:"running",cpu:2.1,memory:89,uptime:3600,user:"user"},{pid:102,name:"Taskbar",type:"system",status:"running",cpu:.3,memory:45,uptime:3600,user:"user"},{pid:200,name:"FileManager",type:"application",status:"running",cpu:.8,memory:67,uptime:1800,user:"user"},{pid:201,name:"Terminal",type:"application",status:"running",cpu:.5,memory:34,uptime:900,user:"user"},{pid:202,name:"TextEditor",type:"application",status:"running",cpu:1.2,memory:78,uptime:600,user:"user"}]);selectedPid=P(null);sortColumn=P("pid");sortAscending=P(!0);filterType=P("all");autoRefresh=P(!0);filteredProcesses=T(()=>{let t=this.processes();this.filterType()!=="all"&&(t=t.filter(o=>o.type===this.filterType()));let e=this.sortColumn(),i=this.sortAscending();return[...t].sort((o,r)=>{let c=o[e],p=r[e];if(typeof c=="number"&&typeof p=="number")return i?c-p:p-c;let m=String(c),h=String(p);return i?m.localeCompare(h):h.localeCompare(m)})});selectedProcess=T(()=>{let t=this.selectedPid();return t?this.processes().find(e=>e.pid===t):null});totalCpu=T(()=>this.processes().reduce((t,e)=>t+e.cpu,0));totalMemory=T(()=>this.processes().reduce((t,e)=>t+e.memory,0));processCount=T(()=>this.processes().length);ngOnInit(){this.autoRefresh()&&this.startAutoRefresh()}ngOnDestroy(){this.stopAutoRefresh()}startAutoRefresh(){this.stopAutoRefresh(),this.intervalId=window.setInterval(()=>{this.updateProcessStats()},2e3)}stopAutoRefresh(){this.intervalId&&(clearInterval(this.intervalId),this.intervalId=void 0)}toggleAutoRefresh(){this.autoRefresh.update(t=>!t),this.autoRefresh()?this.startAutoRefresh():this.stopAutoRefresh()}updateProcessStats(){this.processes.update(t=>t.map(e=>L(w({},e),{cpu:Math.max(0,e.cpu+(Math.random()-.5)*2),memory:Math.max(0,e.memory+(Math.random()-.5)*5),uptime:e.uptime+2})))}selectProcess(t){this.selectedPid.set(t)}sort(t){this.sortColumn()===t?this.sortAscending.update(e=>!e):(this.sortColumn.set(t),this.sortAscending.set(!0))}setFilter(t){this.filterType.set(t)}killProcess(){let t=this.selectedPid();if(!t)return;let e=this.processes().find(i=>i.pid===t);if(e){if(e.type==="system"&&e.pid<100){alert("Cannot kill critical system processes");return}this.processes.update(i=>i.filter(o=>o.pid!==t)),this.selectedPid.set(null)}}addMockProcess(){let t=["system","application","script"],e=["backup.sh","update-checker","network-monitor","log-analyzer","data-sync"],i={pid:this.nextPid++,name:e[Math.floor(Math.random()*e.length)],type:t[Math.floor(Math.random()*t.length)],status:"running",cpu:Math.random()*5,memory:Math.random()*100,uptime:0,user:"user"};this.processes.update(o=>[...o,i])}formatUptime(t){let e=Math.floor(t/3600),i=Math.floor(t%3600/60),o=t%60;return e>0?`${e}h ${i}m`:i>0?`${i}m ${o}s`:`${o}s`}formatMemory(t){return`${t.toFixed(1)} MB`}formatCpu(t){return`${t.toFixed(1)}%`}getSortIcon(t){return this.sortColumn()!==t?"":this.sortAscending()?"\u25B2":"\u25BC"}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=Q({type:n,selectors:[["app-task-manager"]],decls:59,vars:23,consts:[[1,"task-manager"],[1,"header"],[1,"stats"],[1,"stat"],[1,"controls"],[3,"click"],[1,"filters"],[1,"content"],[1,"process-list"],[3,"selected"],[1,"process-details"],[1,"type-badge"],[1,"status-badge"],[1,"details-grid"],[1,"detail-row"],[1,"actions"],[1,"kill-button",3,"click"]],template:function(e,i){e&1&&(g(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"label"),s(5,"Processes:"),f(),g(6,"span"),s(7),f()(),g(8,"div",3)(9,"label"),s(10,"CPU:"),f(),g(11,"span"),s(12),f()(),g(13,"div",3)(14,"label"),s(15,"Memory:"),f(),g(16,"span"),s(17),f()()(),g(18,"div",4)(19,"button",5),q("click",function(){return i.toggleAutoRefresh()}),s(20),f(),g(21,"button",5),q("click",function(){return i.updateProcessStats()}),s(22,"Refresh Now"),f(),g(23,"button",5),q("click",function(){return i.addMockProcess()}),s(24,"Add Process"),f()()(),g(25,"div",6)(26,"button",5),q("click",function(){return i.setFilter("all")}),s(27," All "),f(),g(28,"button",5),q("click",function(){return i.setFilter("system")}),s(29," System "),f(),g(30,"button",5),q("click",function(){return i.setFilter("application")}),s(31," Applications "),f(),g(32,"button",5),q("click",function(){return i.setFilter("script")}),s(33," Scripts "),f()(),g(34,"div",7)(35,"div",8)(36,"table")(37,"thead")(38,"tr")(39,"th",5),q("click",function(){return i.sort("pid")}),s(40),f(),g(41,"th",5),q("click",function(){return i.sort("name")}),s(42),f(),g(43,"th",5),q("click",function(){return i.sort("type")}),s(44),f(),g(45,"th",5),q("click",function(){return i.sort("status")}),s(46),f(),g(47,"th",5),q("click",function(){return i.sort("cpu")}),s(48),f(),g(49,"th",5),q("click",function(){return i.sort("memory")}),s(50),f(),g(51,"th",5),q("click",function(){return i.sort("uptime")}),s(52),f(),g(53,"th",5),q("click",function(){return i.sort("user")}),s(54),f()()(),g(55,"tbody"),A(56,rg,19,12,"tr",9,og),f()()(),v(58,ag,47,8,"div",10),f()()),e&2&&(a(7),x(i.processCount()),a(5),x(i.formatCpu(i.totalCpu())),a(5),x(i.formatMemory(i.totalMemory())),a(2),F("active",i.autoRefresh()),a(),y(" ",i.autoRefresh()?"Auto-Refresh: ON":"Auto-Refresh: OFF"," "),a(6),F("active",i.filterType()==="all"),a(2),F("active",i.filterType()==="system"),a(2),F("active",i.filterType()==="application"),a(2),F("active",i.filterType()==="script"),a(8),y("PID ",i.getSortIcon("pid")),a(2),y("Name ",i.getSortIcon("name")),a(2),y("Type ",i.getSortIcon("type")),a(2),y("Status ",i.getSortIcon("status")),a(2),y("CPU ",i.getSortIcon("cpu")),a(2),y("Memory ",i.getSortIcon("memory")),a(2),y("Uptime ",i.getSortIcon("uptime")),a(2),y("User ",i.getSortIcon("user")),a(2),R(i.filteredProcesses()),a(2),_(i.selectedProcess()?58:-1))},dependencies:[ne,It],styles:[".task-manager[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;background:#2c2c2c;color:#e0e0e0;font-family:Ubuntu Mono,monospace}.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:12px;background:#3c3c3c;border-bottom:1px solid #555}.stats[_ngcontent-%COMP%]{display:flex;gap:24px}.stat[_ngcontent-%COMP%]{display:flex;gap:8px;font-size:14px}.stat[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#999}.stat[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#fff;font-weight:700}.controls[_ngcontent-%COMP%]{display:flex;gap:8px}.controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:6px 12px;background:#555;color:#e0e0e0;border:1px solid #666;border-radius:4px;cursor:pointer;font-size:12px}.controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#666}.controls[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background:#5e2750;border-color:#772953}.filters[_ngcontent-%COMP%]{display:flex;gap:8px;padding:8px 12px;background:#333;border-bottom:1px solid #555}.filters[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:6px 16px;background:#444;color:#e0e0e0;border:1px solid #555;border-radius:4px;cursor:pointer;font-size:12px}.filters[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#555}.filters[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background:#5e2750;border-color:#772953;color:#fff}.content[_ngcontent-%COMP%]{display:flex;flex:1;overflow:hidden}.process-list[_ngcontent-%COMP%]{flex:1;overflow:auto}.process-list[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.process-list[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .process-list[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:8px 12px;text-align:left;border-bottom:1px solid #444;font-size:13px}.process-list[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#3c3c3c;color:#e0e0e0;font-weight:700;position:sticky;top:0;cursor:pointer;-webkit-user-select:none;user-select:none}.process-list[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:hover{background:#4c4c4c}.process-list[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{cursor:pointer}.process-list[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:#3a3a3a}.process-list[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.selected[_ngcontent-%COMP%]{background:#5e2750}.type-badge[_ngcontent-%COMP%]{padding:2px 8px;border-radius:3px;font-size:11px;font-weight:700;text-transform:uppercase}.type-badge[data-type=system][_ngcontent-%COMP%]{background:#2e5090;color:#fff}.type-badge[data-type=application][_ngcontent-%COMP%]{background:#2e9050;color:#fff}.type-badge[data-type=script][_ngcontent-%COMP%]{background:#907020;color:#fff}.status-badge[_ngcontent-%COMP%]{padding:2px 8px;border-radius:3px;font-size:11px;font-weight:700;text-transform:uppercase}.status-badge[data-status=running][_ngcontent-%COMP%]{background:#2e9050;color:#fff}.status-badge[data-status=sleeping][_ngcontent-%COMP%]{background:#907020;color:#fff}.status-badge[data-status=stopped][_ngcontent-%COMP%]{background:#902e2e;color:#fff}.process-details[_ngcontent-%COMP%]{width:300px;padding:16px;background:#333;border-left:1px solid #555;overflow:auto}.process-details[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 16px;font-size:16px;color:#fff}.details-grid[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px}.detail-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;font-size:13px}.detail-row[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#999;font-weight:700}.detail-row[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#e0e0e0}.actions[_ngcontent-%COMP%]{margin-top:24px;display:flex;gap:8px}.kill-button[_ngcontent-%COMP%]{flex:1;padding:10px;background:#902e2e;color:#fff;border:1px solid #a03030;border-radius:4px;cursor:pointer;font-size:13px;font-weight:700}.kill-button[_ngcontent-%COMP%]:hover{background:#a03030}"]})};var al=(n,t)=>t.id,sg=(n,t)=>t.name,cg=(n,t)=>t.stat;function lg(n,t){if(n&1&&(g(0,"div",26)(1,"span",34),s(2),f(),g(3,"span",35),s(4),f()()),n&2){let e=t.$implicit,i=u(2);a(2),y("",i.formatStatName(e.stat),":"),a(2),x(i.formatEffectValue(e))}}function dg(n,t){if(n&1&&(g(0,"div",36),s(1),f()),n&2){let e=u(2).$implicit;a(),y(" Requires Level ",e.requirements.level," ")}}function pg(n,t){if(n&1&&(g(0,"div",36),s(1),f()),n&2){let e=t.$implicit,i=u(4);a(),oe(" Requires ",i.getUpgradeName(e.id)," Level ",e.minLevel," ")}}function ug(n,t){if(n&1&&A(0,pg,2,2,"div",36,al),n&2){let e=u(2).$implicit;R(e.requirements.otherUpgrades)}}function mg(n,t){if(n&1&&(g(0,"div",27),v(1,dg,2,1,"div",36),v(2,ug,2,0),f()),n&2){let e=u().$implicit;a(),_(e.requirements.level?1:-1),a(),_(e.requirements.otherUpgrades?2:-1)}}function gg(n,t){if(n&1&&(g(0,"button",30),s(1),f()),n&2){let e=u().$implicit;a(),y(" ",e.lockReason," ")}}function fg(n,t){n&1&&(g(0,"button",31),s(1," Max Level "),f())}function hg(n,t){n&1&&(g(0,"button",32),s(1," Insufficient Funds "),f())}function vg(n,t){if(n&1){let e=D();g(0,"button",37),q("click",function(){E(e);let o=u().$implicit,r=u();return O(r.purchaseUpgrade(o.id))}),s(1," Upgrade "),f()}}function _g(n,t){if(n&1&&(g(0,"div",16)(1,"div",17)(2,"h3",18),s(3),f(),g(4,"span",19),s(5),f()(),g(6,"p",20),s(7),f(),g(8,"div",21)(9,"span",4),s(10,"Level:"),f(),g(11,"span",22),s(12),f(),g(13,"div",23),ye(14,"div",24),f()(),g(15,"div",25),A(16,lg,5,2,"div",26,cg),f(),v(18,mg,3,2,"div",27),g(19,"div",28)(20,"div",29),s(21),Et(22,"number"),f(),v(23,gg,2,1,"button",30)(24,fg,2,0,"button",31)(25,hg,2,0,"button",32)(26,vg,2,0,"button",33),f()()),n&2){let e=t.$implicit,i=u();F("locked",e.locked),a(3),x(e.name),a(),Z("background-color",i.getCategoryColor(e.category)),a(),y(" ",e.category," "),a(2),x(e.description),a(5),oe("",e.currentLevel," / ",e.maxLevel),a(2),Z("width",e.currentLevel/e.maxLevel*100,"%"),a(2),R(e.effects),a(2),_(e.requirements?18:-1),a(2),F("insufficient",!e.canAfford&&!e.locked),a(),y(" ",Ot(22,16,e.cost)," credits "),a(2),_(e.locked?23:e.currentLevel>=e.maxLevel?24:e.canAfford?26:25)}}function Cg(n,t){if(n&1){let e=D();g(0,"button",40),q("click",function(){E(e);let o=u(2);return O(o.setCategory("all"))}),s(1,"View All Items"),f()}}function xg(n,t){if(n&1&&(g(0,"div",12)(1,"div",38),s(2,"\u{1F6D2}"),f(),g(3,"h3"),s(4,"No items available"),f(),g(5,"p"),s(6),f(),v(7,Cg,2,0,"button",39),f()),n&2){let e=u();a(6),y("No upgrades found in the ",e.selectedCategory()," category"),a(),_(e.selectedCategory()!=="all"?7:-1)}}function bg(n,t){if(n&1&&(g(0,"div",15)(1,"span",41),s(2),f(),g(3,"span",42),s(4),f()()),n&2){let e=t.$implicit;a(2),y("",e.name,":"),a(2),x(e.value)}}var Xn=class n{shopService=b(ts);economyService=b(At);missionService=b(Ae);verificationService=b(at);selectedCategory=P("all");balance=T(()=>this.economyService.getBalance());playerLevel=T(()=>this.missionService.getPlayerLevel());allItems=T(()=>this.shopService.getShopItems());filteredItems=T(()=>{let t=this.selectedCategory();return t==="all"?this.allItems():this.allItems().filter(e=>e.category===t)});setCategory(t){this.selectedCategory.set(t)}purchaseUpgrade(t){if(this.shopService.purchaseUpgrade(t)){let i=this.shopService.getUpgrade(t),r=this.shopService.getShopItems().find(c=>c.id===t);this.verificationService.emitEvent("purchase",{upgradeId:t,name:i?.name,category:i?.category,cost:r?.cost})}}getCategoryColor(t){switch(t){case"hardware":return"#2e5090";case"software":return"#902e2e";case"tools":return"#2e9050";default:return"#555"}}formatStatName(t){return t.replace(/([A-Z])/g," $1").replace(/^./,e=>e.toUpperCase()).trim()}formatEffectValue(t){let e=t.modifier;switch(t.type){case"multiplicative":return`+${(e*100).toFixed(0)}%`;case"additive":return`+${e.toFixed(0)}`;case"absolute":return`${e.toFixed(0)}`;default:return e.toString()}}getUpgradeName(t){return this.shopService.getUpgrade(t)?.name||"Unknown"}getPlayerStatsDisplay(){let t=this.shopService.getPlayerStats();return[{name:"Hacking Speed",value:`${(t.hackingSpeed*100).toFixed(0)}%`},{name:"Script Capacity",value:`${(t.scriptCapacity*100).toFixed(0)}%`},{name:"Transfer Speed",value:`${(t.transferSpeed*100).toFixed(0)}%`},{name:"Storage",value:`${t.storageCapacity.toFixed(0)}GB`},{name:"Trace Resistance",value:`${(t.traceResistance*100).toFixed(0)}%`},{name:"Data Security",value:`${(t.dataSecurity*100).toFixed(0)}%`},{name:"Trace Reduction",value:`${(t.traceReduction*100).toFixed(0)}%`},{name:"Scan Speed",value:`${(t.scanSpeed*100).toFixed(0)}%`},{name:"Scan Depth",value:`${t.scanDepth.toFixed(0)}`},{name:"Crack Speed",value:`${(t.crackSpeed*100).toFixed(0)}%`},{name:"Exploit Power",value:`${(t.exploitPower*100).toFixed(0)}%`},{name:"Detection Reduction",value:`${(t.detectionReduction*100).toFixed(0)}%`},{name:"Backdoor Duration",value:`${(t.backdoorDuration*100).toFixed(0)}%`}]}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=Q({type:n,selectors:[["app-shop"]],decls:36,vars:13,consts:[[1,"shop-container"],[1,"shop-header"],[1,"player-info"],[1,"balance"],[1,"label"],[1,"value"],[1,"stats"],[1,"shop-content"],[1,"category-sidebar"],[1,"category-btn",3,"click"],[1,"items-grid"],[1,"shop-item",3,"locked"],[1,"no-items"],[1,"stats-panel"],[1,"stat-list"],[1,"stat-row"],[1,"shop-item"],[1,"item-header"],[1,"item-name"],[1,"item-category"],[1,"item-description"],[1,"item-level"],[1,"level-display"],[1,"level-bar"],[1,"level-progress"],[1,"item-effects"],[1,"effect"],[1,"requirements"],[1,"item-footer"],[1,"cost"],["disabled","",1,"purchase-btn","locked"],["disabled","",1,"purchase-btn","max-level"],["disabled","",1,"purchase-btn","insufficient"],[1,"purchase-btn"],[1,"effect-stat"],[1,"effect-value"],[1,"requirement"],[1,"purchase-btn",3,"click"],[1,"empty-icon"],[1,"cta-button"],[1,"cta-button",3,"click"],[1,"stat-name"],[1,"stat-value"]],template:function(e,i){e&1&&(g(0,"div",0)(1,"div",1)(2,"h2"),s(3,"Upgrade Shop"),f(),g(4,"div",2)(5,"div",3)(6,"span",4),s(7,"Credits:"),f(),g(8,"span",5),s(9),Et(10,"number"),f()(),g(11,"div",6)(12,"span",4),s(13,"Level:"),f(),g(14,"span",5),s(15),f()()()(),g(16,"div",7)(17,"aside",8)(18,"button",9),q("click",function(){return i.setCategory("all")}),s(19," All Items "),f(),g(20,"button",9),q("click",function(){return i.setCategory("hardware")}),s(21," Hardware "),f(),g(22,"button",9),q("click",function(){return i.setCategory("software")}),s(23," Software "),f(),g(24,"button",9),q("click",function(){return i.setCategory("tools")}),s(25," Tools "),f()(),g(26,"main",10),A(27,_g,27,18,"div",11,al),v(29,xg,8,2,"div",12),f(),g(30,"aside",13)(31,"h3"),s(32,"Player Stats"),f(),g(33,"div",14),A(34,bg,5,2,"div",15,sg),f()()()()),e&2&&(a(9),x(Ot(10,11,i.balance())),a(6),x(i.playerLevel()),a(3),F("active",i.selectedCategory()==="all"),a(2),F("active",i.selectedCategory()==="hardware"),a(2),F("active",i.selectedCategory()==="software"),a(2),F("active",i.selectedCategory()==="tools"),a(3),R(i.filteredItems()),a(2),_(i.filteredItems().length===0?29:-1),a(5),R(i.getPlayerStatsDisplay()))},dependencies:[ne,Fa],styles:[".shop-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;background-color:#1e1e1e;color:#d4d4d4;padding:1rem;overflow:hidden}.shop-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding-bottom:1rem;border-bottom:1px solid #3e3e3e;margin-bottom:1rem}.shop-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:1.5rem;color:#f0f0f0}.shop-header[_ngcontent-%COMP%]   .player-info[_ngcontent-%COMP%]{display:flex;gap:2rem}.shop-header[_ngcontent-%COMP%]   .player-info[_ngcontent-%COMP%]   .balance[_ngcontent-%COMP%], .shop-header[_ngcontent-%COMP%]   .player-info[_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.shop-header[_ngcontent-%COMP%]   .player-info[_ngcontent-%COMP%]   .balance[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%], .shop-header[_ngcontent-%COMP%]   .player-info[_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{color:#888;font-size:.9rem}.shop-header[_ngcontent-%COMP%]   .player-info[_ngcontent-%COMP%]   .balance[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%], .shop-header[_ngcontent-%COMP%]   .player-info[_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{color:#4ec9b0;font-size:1.1rem;font-weight:600}.shop-content[_ngcontent-%COMP%]{display:flex;gap:1rem;flex:1;overflow:hidden}.category-sidebar[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem;min-width:150px}.category-sidebar[_ngcontent-%COMP%]   .category-btn[_ngcontent-%COMP%]{padding:.75rem 1rem;background-color:#2d2d2d;color:#d4d4d4;border:1px solid #3e3e3e;border-radius:4px;cursor:pointer;text-align:left;font-size:.95rem;transition:all .2s}.category-sidebar[_ngcontent-%COMP%]   .category-btn[_ngcontent-%COMP%]:hover{background-color:#3e3e3e;border-color:#569cd6}.category-sidebar[_ngcontent-%COMP%]   .category-btn.active[_ngcontent-%COMP%]{background-color:#0e639c;border-color:#569cd6;color:#fff}.items-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(320px,1fr));gap:1rem;overflow-y:auto;flex:1;padding:.5rem}.shop-item[_ngcontent-%COMP%]{background-color:#252526;border:1px solid #3e3e3e;border-radius:8px;padding:1rem;display:flex;flex-direction:column;gap:.75rem;transition:all .2s}.shop-item[_ngcontent-%COMP%]:hover:not(.locked){border-color:#569cd6;box-shadow:0 2px 8px #0000004d}.shop-item.locked[_ngcontent-%COMP%]{opacity:.6;background-color:#1e1e1e}.shop-item[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;gap:.5rem}.shop-item[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]   .item-name[_ngcontent-%COMP%]{margin:0;font-size:1.1rem;color:#4ec9b0}.shop-item[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]   .item-category[_ngcontent-%COMP%]{padding:.25rem .5rem;border-radius:4px;font-size:.75rem;text-transform:uppercase;color:#fff}.shop-item[_ngcontent-%COMP%]   .item-description[_ngcontent-%COMP%]{margin:0;font-size:.9rem;color:#999;line-height:1.4}.shop-item[_ngcontent-%COMP%]   .item-level[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:.85rem;color:#888;margin-right:.5rem}.shop-item[_ngcontent-%COMP%]   .item-level[_ngcontent-%COMP%]   .level-display[_ngcontent-%COMP%]{font-size:.9rem;color:#d4d4d4}.shop-item[_ngcontent-%COMP%]   .item-level[_ngcontent-%COMP%]   .level-bar[_ngcontent-%COMP%]{margin-top:.25rem;height:6px;background-color:#3e3e3e;border-radius:3px;overflow:hidden}.shop-item[_ngcontent-%COMP%]   .item-level[_ngcontent-%COMP%]   .level-bar[_ngcontent-%COMP%]   .level-progress[_ngcontent-%COMP%]{height:100%;background:linear-gradient(90deg,#0e639c,#4ec9b0);transition:width .3s}.shop-item[_ngcontent-%COMP%]   .item-effects[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem;padding:.5rem;background-color:#1e1e1e;border-radius:4px}.shop-item[_ngcontent-%COMP%]   .item-effects[_ngcontent-%COMP%]   .effect[_ngcontent-%COMP%]{display:flex;justify-content:space-between;font-size:.85rem}.shop-item[_ngcontent-%COMP%]   .item-effects[_ngcontent-%COMP%]   .effect[_ngcontent-%COMP%]   .effect-stat[_ngcontent-%COMP%]{color:#888}.shop-item[_ngcontent-%COMP%]   .item-effects[_ngcontent-%COMP%]   .effect[_ngcontent-%COMP%]   .effect-value[_ngcontent-%COMP%]{color:#4ec9b0;font-weight:600}.shop-item[_ngcontent-%COMP%]   .requirements[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem;padding:.5rem;background-color:#3e2e1e;border-radius:4px;border:1px solid #d7ba7d}.shop-item[_ngcontent-%COMP%]   .requirements[_ngcontent-%COMP%]   .requirement[_ngcontent-%COMP%]{font-size:.8rem;color:#d7ba7d}.shop-item[_ngcontent-%COMP%]   .item-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-top:auto;padding-top:.5rem;border-top:1px solid #3e3e3e}.shop-item[_ngcontent-%COMP%]   .item-footer[_ngcontent-%COMP%]   .cost[_ngcontent-%COMP%]{font-size:1rem;color:#4ec9b0;font-weight:600}.shop-item[_ngcontent-%COMP%]   .item-footer[_ngcontent-%COMP%]   .cost.insufficient[_ngcontent-%COMP%]{color:#f48771}.shop-item[_ngcontent-%COMP%]   .item-footer[_ngcontent-%COMP%]   .purchase-btn[_ngcontent-%COMP%]{padding:.5rem 1rem;background-color:#0e639c;color:#fff;border:none;border-radius:4px;cursor:pointer;font-size:.9rem;font-weight:600;transition:all .2s}.shop-item[_ngcontent-%COMP%]   .item-footer[_ngcontent-%COMP%]   .purchase-btn[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#17b}.shop-item[_ngcontent-%COMP%]   .item-footer[_ngcontent-%COMP%]   .purchase-btn[_ngcontent-%COMP%]:disabled{cursor:not-allowed;opacity:.5}.shop-item[_ngcontent-%COMP%]   .item-footer[_ngcontent-%COMP%]   .purchase-btn.locked[_ngcontent-%COMP%], .shop-item[_ngcontent-%COMP%]   .item-footer[_ngcontent-%COMP%]   .purchase-btn.max-level[_ngcontent-%COMP%], .shop-item[_ngcontent-%COMP%]   .item-footer[_ngcontent-%COMP%]   .purchase-btn.insufficient[_ngcontent-%COMP%]{background-color:#555}.no-items[_ngcontent-%COMP%]{grid-column:1/-1;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:16px;padding:3rem;color:#888}.no-items[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]{font-size:4rem;opacity:.6}.no-items[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.25rem;color:#999}.no-items[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:1rem;color:#666}.no-items[_ngcontent-%COMP%]   .cta-button[_ngcontent-%COMP%]{margin-top:8px;padding:10px 20px;background-color:#0e639c;color:#fff;border:none;border-radius:4px;cursor:pointer;font-size:.95rem;font-weight:600;transition:all .2s}.no-items[_ngcontent-%COMP%]   .cta-button[_ngcontent-%COMP%]:hover{background-color:#17b;transform:scale(1.05)}.no-items[_ngcontent-%COMP%]   .cta-button[_ngcontent-%COMP%]:active{transform:scale(.98)}.stats-panel[_ngcontent-%COMP%]{width:180px;flex-shrink:0;background-color:#252526;border:1px solid #3e3e3e;border-radius:8px;padding:.75rem;overflow-y:auto}.stats-panel[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 .75rem;font-size:.95rem;color:#f0f0f0;border-bottom:1px solid #3e3e3e;padding-bottom:.5rem}.stats-panel[_ngcontent-%COMP%]   .stat-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.stats-panel[_ngcontent-%COMP%]   .stat-list[_ngcontent-%COMP%]   .stat-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.stats-panel[_ngcontent-%COMP%]   .stat-list[_ngcontent-%COMP%]   .stat-row[_ngcontent-%COMP%]   .stat-name[_ngcontent-%COMP%]{font-size:.75rem;color:#888}.stats-panel[_ngcontent-%COMP%]   .stat-list[_ngcontent-%COMP%]   .stat-row[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:.8rem;color:#4ec9b0;font-weight:600}"]})};var sl=de("[Tutorial] Activate Step",we()),Dr=de("[Tutorial] Complete Step",we()),a1=de("[Tutorial] Skip Step",we()),s1=de("[Tutorial] Go To Section",we()),c1=de("[Tutorial] Go To Step",we()),cl=de("[Tutorial] Show Hint",we()),ll=de("[Tutorial] Enable Auto Advance",we()),dl=de("[Tutorial] Start Sandbox Mode"),pl=de("[Tutorial] Exit Sandbox Mode",we()),l1=de("[Tutorial] Reset Tutorial"),ul=de("[Tutorial] Update Progress",we()),Nr=de("[Tutorial] Celebrate Milestone",we()),co=de("[Tutorial] Dismiss Celebration"),ml=de("[Tutorial] Set Tutorial Mode",we()),gl=de("[Tutorial] Update Metrics",we()),fl=de("[Tutorial] Complete Tutorial");var Ye=yc("tutorial"),vl=Ce(Ye,n=>n.currentSectionId),_l=Ce(Ye,n=>n.currentStepId),Qn=Ce(Ye,n=>n.completedSteps),p1=Ce(Ye,n=>n.skippedSteps),Cl=Ce(Qn,n=>Math.round(n.length/20*100)),u1=Ce(Ye,n=>n.activeHints),m1=Ce(Ye,n=>n.autoAdvanceEnabled),lo=Ce(Ye,n=>n.sandboxMode),xl=Ce(Ye,n=>n.celebratingMilestone),g1=Ce(Ye,n=>n.tutorialMode);var xt=Ce(Ye,n=>n.metrics),f1=Ce(xt,n=>n.totalTimeSpent),h1=Ce(xt,n=>({isComplete:n.completionTime!==null,completionTime:n.completionTime,duration:n.completionTime?n.completionTime-n.startTime:0}));var po=class n{store=b(Ee);economyService=b(At);networkService=b(Rt);missionService=b(Ae);currentSnapshot=null;constructor(){this.store.select(lo).subscribe(t=>{t&&!this.currentSnapshot?this.enterSandboxMode():!t&&this.currentSnapshot&&(this.currentSnapshot=null)})}startSandboxMode(){this.store.dispatch(dl())}enterSandboxMode(){this.currentSnapshot=this.captureSnapshot(),this.economyService.setSandboxMode(!0),this.networkService.setSandboxMode(!0),this.missionService.setSandboxMode(!0)}exitSandboxMode(t){this.currentSnapshot&&(t||this.restoreSnapshot(this.currentSnapshot),this.economyService.setSandboxMode(!1),this.networkService.setSandboxMode(!1),this.missionService.setSandboxMode(!1),this.currentSnapshot=null,this.store.dispatch(pl({applyProgress:t})))}captureSnapshot(){return{economy:this.economyService.createSandboxSnapshot(),network:this.networkService.createSandboxSnapshot(),missions:this.missionService.createSandboxSnapshot(),tutorial:{currentSectionId:null,currentStepId:null,completedSteps:[],skippedSteps:[],activeHints:new Map,autoAdvanceEnabled:!0,autoAdvanceDelay:2e3,sandboxMode:!0,sandboxSnapshot:null,celebratingMilestone:null,tutorialMode:"full",lastCompletedTimestamp:null,metrics:{startTime:Date.now(),completionTime:null,totalTimeSpent:0,sectionsCompleted:[],sectionsSkipped:[],stepsCompleted:0,stepsSkipped:0,hintsUsed:0,achievementsUnlocked:[],creditsEarned:0,sandboxTimeSpent:0}}}}restoreSnapshot(t){this.economyService.restoreSandboxSnapshot(t.economy),this.networkService.restoreSandboxSnapshot(t.network),this.missionService.restoreSandboxSnapshot(t.missions)}resetSandbox(){this.currentSnapshot&&this.restoreSnapshot(this.currentSnapshot)}isSandboxActive(){return this.currentSnapshot!==null}generatePracticeMission(t){if(!this.isSandboxActive())throw new Error("Cannot generate practice missions outside of sandbox mode");let e=t?{minDifficulty:t,maxDifficulty:t,objectiveCount:1,timeLimitMultiplier:1.5,rewardMultiplier:.5}:{objectiveCount:1,timeLimitMultiplier:1.5,rewardMultiplier:.5};return this.missionService.generateMission(e)}static \u0275fac=function(e){return new(e||n)};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})};var Sg=()=>[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],me=(n,t)=>t.id;function wg(n,t){if(n&1&&(l(0,"span"),s(1),d()),n&2){let e=t,i=u(),o=u();a(),wa("Tutorial: ",i.name,", Step ",o.currentStepIndex()+1," of ",i.steps.length,": ",e.title,". ",e.description)}}function Eg(n,t){if(n&1&&v(0,wg,2,5,"span"),n&2){let e,i=u();_((e=i.currentStep())?0:-1,e)}}function Og(n,t){if(n&1&&N(0,"div",32),n&2){let e=t.$implicit;Z("--delay",e*.1+"s")}}function Pg(n,t){n&1&&(l(0,"p",33),s(1),d(),l(2,"p",34),s(3,"Great work! You've mastered this section."),d()),n&2&&(a(),x(t.name))}function Tg(n,t){if(n&1){let e=D();l(0,"div",22),S("click",function(){E(e);let o=u();return O(o.dismissCelebration())}),l(1,"div",23),S("click",function(o){return E(e),O(o.stopPropagation())}),l(2,"div",24),A(3,Og,1,2,"div",25,be),d(),l(5,"div",26),rn(),l(6,"svg",27),N(7,"circle",28)(8,"path",29),d()(),oi(),l(9,"h2",30),s(10,"Section Complete! \u{1F389}"),d(),v(11,Pg,4,1),l(12,"button",31),S("click",function(){E(e);let o=u();return O(o.dismissCelebration())}),s(13," Continue "),d()()()}if(n&2){let e,i=u();$("aria-hidden",i.reducedMotion()?"false":null),a(),F("reduced-motion",i.reducedMotion()),a(2),R(ui(4,Sg)),a(8),_((e=i.getSectionById(t))?11:-1,e)}}function kg(n,t){n&1&&(l(0,"div",5)(1,"span",35),s(2,"\u{1F9EA}"),d(),l(3,"span",36),s(4,"Sandbox Mode Active"),d()())}function Ig(n,t){n&1&&(l(0,"span",62),s(1,"\u2713"),d())}function Ag(n,t){if(n&1&&(l(0,"span",63),s(1),d()),n&2){let e=u().$index;a(),x(e+1)}}function Rg(n,t){if(n&1){let e=D();l(0,"li",60),S("click",function(){let o=E(e).$index,r=u(4);return O(r.goToStep(o))}),l(1,"span",61),v(2,Ig,2,0,"span",62)(3,Ag,2,1,"span",63),d(),l(4,"span",64),s(5),d()()}if(n&2){let e=t.$implicit,i=t.$index,o=u(4);F("active",i===o.currentStepIndex())("completed",e.completed),a(2),_(e.completed?2:3),a(3),x(e.title)}}function Dg(n,t){if(n&1&&(l(0,"ul",58),A(1,Rg,6,6,"li",59,me),d()),n&2){let e=u().$implicit;a(),R(e.steps)}}function Ng(n,t){if(n&1){let e=D();l(0,"div",54)(1,"button",55),S("click",function(){let o=E(e).$index,r=u(2);return O(r.goToSection(o))}),l(2,"span",56),s(3),d(),l(4,"span",57),s(5),d()(),v(6,Dg,3,0,"ul",58),d()}if(n&2){let e=t.$implicit,i=t.$index,o=u(2);F("active",i===o.currentSectionIndex()),a(),$("aria-label",e.name+" section, "+o.getSectionProgress(i)+" percent complete")("aria-current",i===o.currentSectionIndex()?"step":null),a(2),x(e.name),a(2),y("",o.getSectionProgress(i),"%"),a(),_(i===o.currentSectionIndex()?6:-1)}}function Fg(n,t){if(n&1){let e=D();l(0,"div",37)(1,"h3"),s(2,"Overall Progress"),d(),l(3,"div",38),N(4,"div",39),d(),l(5,"span",40),s(6),d(),l(7,"div",41)(8,"div",42)(9,"span",43),s(10,"Sections"),d(),l(11,"span",44),s(12),d()(),l(13,"div",42)(14,"span",43),s(15,"Steps"),d(),l(16,"span",44),s(17),d()(),l(18,"div",42)(19,"span",43),s(20,"Time"),d(),l(21,"span",44),s(22),d()()()(),l(23,"nav",45),A(24,Ng,7,7,"div",46,me),d(),l(26,"div",47)(27,"h3"),s(28,"Accessibility"),d(),l(29,"label",48)(30,"input",49),S("change",function(){E(e);let o=u();return O(o.toggleReducedMotion())}),d(),l(31,"span"),s(32,"Reduced Motion"),d()(),l(33,"label",48)(34,"input",50),S("change",function(){E(e);let o=u();return O(o.toggleScreenReaderMode())}),d(),l(35,"span"),s(36,"Screen Reader Mode"),d()(),l(37,"label",48)(38,"input",51),S("change",function(){E(e);let o=u();return O(o.toggleKeyboardOnlyMode())}),d(),l(39,"span"),s(40,"Keyboard Navigation"),d()(),l(41,"p",52),s(42,"Keyboard shortcuts: Ctrl+\u2190 / Ctrl+\u2192 to navigate, H for hints, Esc to dismiss"),d()(),l(43,"button",53),S("click",function(){E(e);let o=u();return O(o.resetProgress())}),s(44," Reset Progress "),d()}if(n&2){let e=u();a(3),$("aria-valuenow",e.progress())("aria-label","Tutorial progress: "+e.progress()+" percent complete"),a(),Z("width",e.progress(),"%"),a(2),y("",e.progress(),"% Complete"),a(6),oe("",e.completedSections(),"/",e.sections().length),a(5),oe("",e.totalCompletedSteps(),"/",e.totalSteps()),a(5),y("",e.estimatedTimeRemaining(),"m left"),a(2),R(e.sections()),a(6),z("checked",e.reducedMotion()),a(4),z("checked",e.screenReaderMode()),a(4),z("checked",e.keyboardOnlyMode())}}function jg(n,t){if(n&1&&(l(0,"div",13)(1,"div",65)(2,"span",66),s(3,"\u2B50"),d(),l(4,"span",67),s(5),d()()()),n&2){let e=u();a(5),y("",e.totalPoints()," Points")}}function Lg(n,t){if(n&1&&(l(0,"div",72)(1,"h3"),s(2,"Tutorial Metrics"),d(),l(3,"div",69)(4,"span",70),s(5,"\u23F0"),d(),l(6,"span",71),s(7),d()(),l(8,"div",69)(9,"span",70),s(10,"\u{1F4A1}"),d(),l(11,"span",71),s(12),d()(),l(13,"div",69)(14,"span",70),s(15,"\u{1F3C6}"),d(),l(16,"span",71),s(17),d()(),l(18,"div",69)(19,"span",70),s(20,"\u{1F4B0}"),d(),l(21,"span",71),s(22),d()(),l(23,"div",73)(24,"span",70),s(25,"\u2B50"),d(),l(26,"span",71),s(27),d()()()),n&2){let e=u(),i=u(2);a(7),y("Completed in ",i.formatDuration(e.completionTime-e.startTime)),a(5),y("",e.hintsUsed," Hints Used"),a(5),y("",e.achievementsUnlocked.length," Achievements"),a(5),y("",e.creditsEarned," Credits Earned"),a(5),y("Rating: ",i.getPerformanceRating(e))}}function zg(n,t){n&1&&v(0,Lg,28,5,"div",72),n&2&&_(t.completionTime?0:-1)}function Ug(n,t){if(n&1&&(l(0,"div",14)(1,"div",68)(2,"h3"),s(3,"Quick Stats"),d(),l(4,"div",69)(5,"span",70),s(6,"\u{1F4CA}"),d(),l(7,"span",71),s(8),d()(),l(9,"div",69)(10,"span",70),s(11,"\u{1F4DA}"),d(),l(12,"span",71),s(13),d()(),l(14,"div",69)(15,"span",70),s(16,"\u2713"),d(),l(17,"span",71),s(18),d()(),l(19,"div",69)(20,"span",70),s(21,"\u23F1\uFE0F"),d(),l(22,"span",71),s(23),d()(),v(24,zg,1,1),Et(25,"async"),d()()),n&2){let e,i=u();a(8),y("",i.progress(),"% Complete"),a(5),oe("",i.completedSections(),"/",i.sections().length," Sections"),a(5),oe("",i.totalCompletedSteps(),"/",i.totalSteps()," Steps"),a(5),y("",i.estimatedTimeRemaining(),"m Remaining"),a(),_((e=Ot(25,7,i.tutorialMetrics$))?24:-1,e)}}function $g(n,t){n&1&&(l(0,"div",15)(1,"div",65)(2,"span",66),s(3,"\u{1F48E}"),d(),l(4,"span",67),s(5,"Skill Points Available"),d()()())}function Vg(n,t){if(n&1&&(l(0,"span",87),s(1),d()),n&2){let e=u().$implicit;a(),y("\u{1F48E} ",e.cost," pts to unlock")}}function Hg(n,t){if(n&1&&(l(0,"div",82)(1,"div",83),s(2),d(),l(3,"div",84)(4,"h5"),s(5),d(),l(6,"p"),s(7),d(),l(8,"div",85)(9,"span",86),s(10),d(),v(11,Vg,2,1,"span",87),d()()()),n&2){let e=t.$implicit;F("unlocked",e.level>0),a(2),x(e.icon),a(3),x(e.name),a(2),x(e.description),a(3),oe("Level ",e.level,"/",e.maxLevel),a(),_(e.level===0?11:-1)}}function Bg(n,t){if(n&1){let e=D();l(0,"div",74)(1,"div",75),s(2,"\u{1F389}"),d(),l(3,"h3"),s(4,"Tutorial Complete!"),d(),l(5,"p"),s(6,"Congratulations! You've completed all tutorial steps. You're ready to explore WebOS on your own."),d(),l(7,"div",76)(8,"h4"),s(9,"\u{1F31F} Continue Your Journey"),d(),l(10,"p",77),s(11,"Level up your skills to unlock advanced capabilities"),d(),l(12,"div",78),A(13,Hg,12,8,"div",79,me),d(),l(15,"button",80),S("click",function(){E(e);let o=u(2);return O(o.switchToSkills())}),s(16,"View Full Skill Tree"),d()(),l(17,"button",81),S("click",function(){E(e);let o=u(2);return O(o.resetProgress())}),s(18,"Restart Tutorial"),d()()}if(n&2){let e=u(2);a(13),R(e.getPreviewSkills())}}function Wg(n,t){n&1&&(l(0,"span",108),s(1,"\u2713"),d())}function qg(n,t){if(n&1&&(l(0,"div",104)(1,"span",105),s(2),d(),l(3,"div",106)(4,"h4"),s(5),d(),l(6,"p"),s(7),d(),l(8,"span",107),s(9),d()(),v(10,Wg,2,0,"span",108),d()),n&2){let e=t.$implicit;F("unlocked",e.unlocked),a(2),x(e.unlocked?e.icon:"\u{1F512}"),a(3),x(e.title),a(2),x(e.description),a(2),y("",e.points," pts"),a(),_(e.unlocked?10:-1)}}function Gg(n,t){if(n&1&&(l(0,"div",93)(1,"strong"),s(2,"Action:"),d(),s(3),d()),n&2){let e=u(3);a(3),y(" ",e.currentStep().action," ")}}function Kg(n,t){if(n&1&&(l(0,"li"),s(1),d()),n&2){let e=t.$implicit;a(),x(typeof e=="string"?e:e.content)}}function Yg(n,t){if(n&1&&(l(0,"ul",110),A(1,Kg,2,1,"li",null,be),d()),n&2){let e=u(4);a(),R(e.currentStep().hints)}}function Zg(n,t){if(n&1){let e=D();l(0,"div",94)(1,"button",109),S("click",function(){E(e);let o=u(3);return O(o.toggleHints())}),s(2),d(),v(3,Yg,3,0,"ul",110),d()}if(n&2){let e=u(3);a(2),y(" ",e.showHints()?"Hide":"Show"," Hints "),a(),_(e.showHints()?3:-1)}}function Xg(n,t){if(n&1){let e=D();l(0,"button",111),S("click",function(){E(e);let o=u(3);return O(o.resetSandbox())}),s(1," Reset Sandbox "),d()}}function Qg(n,t){if(n&1){let e=D();l(0,"button",112),S("click",function(){E(e);let o=u(3);return O(o.skipSection())}),s(1," Skip Section "),d()}}function Jg(n,t){if(n&1){let e=D();l(0,"div",88)(1,"h3"),s(2,"\u{1F3C6} Achievements Available"),d(),l(3,"div",89),A(4,qg,11,7,"div",90,me),d()(),l(6,"div",91)(7,"h1"),s(8),d(),l(9,"p",92),s(10),d(),v(11,Gg,4,1,"div",93),v(12,Zg,4,2,"div",94),l(13,"div",95)(14,"button",96),S("click",function(){E(e);let o=u(2);return O(o.toggleSandboxMode())}),s(15),d(),v(16,Xg,2,0,"button",97),v(17,Qg,2,0,"button",98),l(18,"button",99),S("click",function(){E(e);let o=u(2);return O(o.replaySection())}),s(19," Replay Section "),d()(),l(20,"div",100)(21,"button",101),S("click",function(){E(e);let o=u(2);return O(o.previousStep())}),s(22," Previous "),d(),l(23,"div",102),s(24),d(),l(25,"button",103),S("click",function(){E(e);let o=u(2);return O(o.nextStep())}),s(26," Next "),d()()()}if(n&2){let e=u(2);a(4),R(e.getTutorialAchievements()),a(4),x(e.currentStep().title),a(2),x(e.currentStep().description),a(),_(e.currentStep().action?11:-1),a(),_(e.currentStep().hints&&e.currentStep().hints.length>0?12:-1),a(2),F("active",e.isSandboxActive()),a(),y(" ",e.isSandboxActive()?"Exit Sandbox":"Enter Sandbox"," "),a(),_(e.isSandboxActive()?16:-1),a(),_(e.currentSection().mandatory?-1:17),a(4),z("disabled",!e.canGoPrevious()),a(3),oe(" Step ",e.currentStepIndex()+1," of ",e.currentSection().steps.length," "),a(),z("disabled",!e.canGoNext())}}function ef(n,t){if(n&1&&v(0,Bg,19,0,"div",74)(1,Jg,27,13),n&2){let e=u();_(e.progress()===100?0:1)}}function tf(n,t){n&1&&(l(0,"span",126),s(1,"Mandatory"),d())}function nf(n,t){n&1&&(l(0,"span",127),s(1,"\u2713 Complete"),d())}function of(n,t){if(n&1&&(l(0,"p",129),s(1),d()),n&2){let e=u().$implicit;a(),x(e.description)}}function rf(n,t){if(n&1&&(l(0,"div",132)(1,"span",43),s(2,"Mandatory:"),d(),l(3,"span",44),s(4),d()()),n&2){let e=u().$index,i=u(2);a(4),y("",i.getSectionMandatorySteps(e)," required")}}function af(n,t){if(n&1&&(l(0,"div",132)(1,"span",43),s(2,"Time:"),d(),l(3,"span",44),s(4),d()()),n&2){let e=u().$implicit;a(4),y("~",e.estimatedMinutes,"m")}}function sf(n,t){if(n&1){let e=D();l(0,"div",123)(1,"div",124)(2,"div",125)(3,"h3"),s(4),d(),v(5,tf,2,0,"span",126),v(6,nf,2,0,"span",127),d(),l(7,"span",128),s(8),d()(),v(9,of,2,1,"p",129),l(10,"div",130),N(11,"div",39),d(),l(12,"div",131)(13,"div",132)(14,"span",43),s(15,"Steps:"),d(),l(16,"span",44),s(17),d()(),v(18,rf,5,1,"div",132),v(19,af,5,1,"div",132),d(),l(20,"button",133),S("click",function(){let o=E(e).$index,r=u(2);return r.switchView("tutorial"),O(r.goToSection(o))}),s(21),d()()}if(n&2){let e=t.$implicit,i=t.$index,o=u(2);F("complete",o.isSectionComplete(i)),a(4),x(e.name),a(),_(e.mandatory?5:-1),a(),_(o.isSectionComplete(i)?6:-1),a(2),y("",o.getSectionProgress(i),"%"),a(),_(e.description?9:-1),a(2),Z("width",o.getSectionProgress(i),"%"),a(6),oe("",o.getSectionCompletedSteps(i),"/",o.getSectionTotalSteps(i)),a(),_(o.getSectionMandatorySteps(i)>0?18:-1),a(),_(e.estimatedMinutes?19:-1),a(2),y(" ",o.isSectionComplete(i)?"Review Section":"Continue Section"," ")}}function cf(n,t){if(n&1&&(l(0,"div",17)(1,"h1"),s(2,"Progress Dashboard"),d(),l(3,"div",113)(4,"div",114)(5,"h3"),s(6,"Overall Progress"),d(),l(7,"div",115)(8,"span",116),s(9),d()(),l(10,"div",117)(11,"div",118)(12,"span",119),s(13,"Completed Steps:"),d(),l(14,"span",120),s(15),d()(),l(16,"div",118)(17,"span",119),s(18,"Mandatory Steps:"),d(),l(19,"span",120),s(20),d()(),l(21,"div",118)(22,"span",119),s(23,"Completed Sections:"),d(),l(24,"span",120),s(25),d()(),l(26,"div",118)(27,"span",119),s(28,"Estimated Time Left:"),d(),l(29,"span",120),s(30),d()()()()(),l(31,"div",121)(32,"h2"),s(33,"Section Progress"),d(),A(34,sf,22,14,"div",122,me),d()()),n&2){let e=u();a(9),y("",e.progress(),"%"),a(6),oe("",e.totalCompletedSteps(),"/",e.totalSteps()),a(5),oe("",e.getCompletedMandatorySteps(),"/",e.getTotalMandatorySteps()),a(5),oe("",e.completedSections(),"/",e.sections().length),a(5),y("",e.estimatedTimeRemaining()," minutes"),a(4),R(e.sections())}}function lf(n,t){if(n&1&&(l(0,"div",143),s(1),d()),n&2){let e=u().$implicit;a(),y(" Reward: ",e.reward.type==="credits"?e.reward.value+" credits":"Unlock "+e.reward.value," ")}}function df(n,t){if(n&1&&(l(0,"div",135)(1,"div",140)(2,"h3"),s(3),d(),l(4,"span",141),s(5),d()(),l(6,"p"),s(7),d(),l(8,"div",142),N(9,"div",39),d(),v(10,lf,2,1,"div",143),d()),n&2){let e=t.$implicit,i=u(2);a(3),x(e.title),a(2),oe("",e.progress,"/",e.target),a(2),x(e.description),a(2),Z("width",i.getMilestonePercentage(e),"%"),a(),_(e.reward?10:-1)}}function pf(n,t){if(n&1&&(l(0,"div",138)(1,"span",144),s(2),d(),l(3,"div",145)(4,"h3"),s(5),d(),l(6,"p"),s(7),d(),l(8,"span",146),s(9),d()()()),n&2){let e=t.$implicit;a(2),x(e.icon),a(3),x(e.title),a(2),x(e.description),a(2),y("+",e.points," pts")}}function uf(n,t){if(n&1&&(l(0,"div",139)(1,"span",144),s(2,"\u{1F512}"),d(),l(3,"div",145)(4,"h3"),s(5),d(),l(6,"p"),s(7),d(),l(8,"span",146),s(9),d()()()),n&2){let e=t.$implicit;a(5),x(e.title),a(2),x(e.description),a(2),y("",e.points," pts")}}function mf(n,t){if(n&1&&(l(0,"div",18)(1,"h1"),s(2,"Achievements"),d(),l(3,"div",134)(4,"h2"),s(5,"Progress Milestones"),d(),A(6,df,11,7,"div",135,me),d(),l(8,"div",136)(9,"h2"),s(10),d(),l(11,"div",137),A(12,pf,10,4,"div",138,me),d(),l(14,"h2"),s(15),d(),l(16,"div",137),A(17,uf,10,3,"div",139,me),d()()()),n&2){let e=u();a(6),R(e.milestones()),a(4),y("Unlocked (",e.getUnlockedAchievements().length,")"),a(2),R(e.getUnlockedAchievements()),a(3),y("Locked (",e.getLockedAchievements().length,")"),a(2),R(e.getLockedAchievements())}}function gf(n,t){if(n&1&&(l(0,"div",152),s(1),d()),n&2){let e=u().$implicit;a(),y(" Requires: ",e.prerequisite.join(", ")," ")}}function ff(n,t){if(n&1){let e=D();l(0,"div",82)(1,"span",83),s(2),d(),l(3,"div",150)(4,"h3"),s(5),d(),l(6,"p"),s(7),d(),l(8,"div",86),s(9),d(),l(10,"div",151),s(11),d(),v(12,gf,2,1,"div",152),l(13,"button",153),S("click",function(){let o=E(e).$implicit,r=u(2);return O(r.upgradeSkill(o.id))}),s(14),d()()()}if(n&2){let e=t.$implicit,i=u(2);F("unlocked",e.level>0)("maxed",e.level>=e.maxLevel),a(2),x(e.icon),a(3),x(e.name),a(2),x(e.description),a(2),oe(" Level ",e.level,"/",e.maxLevel," "),a(2),oe(" ",e.effect.type,": +",e.level*e.effect.value*100,"% "),a(),_(e.prerequisite?12:-1),a(),z("disabled",!i.canUpgradeSkill(e)),a(),y(" Upgrade (",e.cost," pts) ")}}function hf(n,t){if(n&1&&(l(0,"div",19)(1,"h1"),s(2,"Skill Tree"),d(),l(3,"p",147),s(4,"Upgrade skills using points earned from achievements"),d(),l(5,"div",148),A(6,ff,15,14,"div",149,me),d()()),n&2){let e=u();a(6),R(e.skills())}}function vf(n,t){if(n&1){let e=D();l(0,"button",165),S("click",function(){E(e);let o=u(2);return O(o.updateTipSearch(""))}),s(1,"\u2715"),d()}}function _f(n,t){if(n&1&&(l(0,"span",167),s(1),d()),n&2){let e=u().$implicit,i=u(2);a(),x(i.tipCategoryCounts().get(e.id))}}function Cf(n,t){if(n&1){let e=D();l(0,"button",166),S("click",function(){let o=E(e).$implicit,r=u(2);return O(r.selectTipCategory(o.id))}),s(1),v(2,_f,2,1,"span",167),d()}if(n&2){let e=t.$implicit,i=u(2);F("active",i.selectedTipCategory()===e.id),z("title",e.description),a(),y(" ",e.name," "),a(),_(e.id!=="all"?2:-1)}}function xf(n,t){if(n&1&&(l(0,"span",176),s(1),d()),n&2){let e=t.$implicit;a(),x(e)}}function bf(n,t){if(n&1&&(l(0,"span",179),s(1),d()),n&2){let e=t.$implicit;a(),x(e.title)}}function yf(n,t){if(n&1&&(l(0,"div",177)(1,"span",178),s(2,"Related:"),d(),A(3,bf,2,1,"span",179,me),d()),n&2){let e=u().$implicit,i=u(3);a(3),R(i.getRelatedTips(e))}}function Mf(n,t){if(n&1){let e=D();l(0,"div",168)(1,"div",169)(2,"div",170),N(3,"h4",171),l(4,"button",172),S("click",function(){let o=E(e).$implicit,r=u(3);return O(r.toggleTipBookmark(o.id))}),s(5,"\u2605"),d()(),l(6,"span",173),s(7),d()(),N(8,"p",174),l(9,"div",175),A(10,xf,2,1,"span",176,be),d(),v(12,yf,5,0,"div",177),d()}if(n&2){let e=t.$implicit,i=u(3);a(3),z("innerHTML",i.highlightSearchText(e.title),cn),a(3),$("data-category",e.category),a(),y(" ",e.category," "),a(),z("innerHTML",i.highlightSearchText(e.content),cn),a(2),R(e.tags),a(2),_(e.relatedTips&&e.relatedTips.length>0?12:-1)}}function Sf(n,t){if(n&1&&(l(0,"div",162)(1,"h3",125),s(2,"\u{1F4CC} Bookmarked Tips"),d(),l(3,"div",164),A(4,Mf,13,5,"div",168,me),d()()),n&2){let e=u(2);a(4),R(e.bookmarkedFilteredTips())}}function wf(n,t){if(n&1&&s(0),n&2){let e=u(2);y(" ",e.selectedCategoryName()," Tips ")}}function Ef(n,t){n&1&&s(0," All Tips ")}function Of(n,t){if(n&1){let e=D();l(0,"div",163)(1,"p"),s(2,"No tips found matching your search."),d(),l(3,"button",180),S("click",function(){E(e);let o=u(2);return o.updateTipSearch(""),O(o.selectTipCategory("all"))}),s(4," Reset Filters "),d()()}}function Pf(n,t){if(n&1&&(l(0,"span",176),s(1),d()),n&2){let e=t.$implicit;a(),x(e)}}function Tf(n,t){if(n&1&&(l(0,"span",179),s(1),d()),n&2){let e=t.$implicit;a(),x(e.title)}}function kf(n,t){if(n&1&&(l(0,"div",177)(1,"span",178),s(2,"Related:"),d(),A(3,Tf,2,1,"span",179,me),d()),n&2){let e=u(2).$implicit,i=u(3);a(3),R(i.getRelatedTips(e))}}function If(n,t){if(n&1){let e=D();l(0,"div",181)(1,"div",169)(2,"div",170),N(3,"h4",171),l(4,"button",182),S("click",function(){E(e);let o=u().$implicit,r=u(3);return O(r.toggleTipBookmark(o.id))}),s(5,"\u2606"),d()(),l(6,"span",173),s(7),d()(),N(8,"p",174),l(9,"div",175),A(10,Pf,2,1,"span",176,be),d(),v(12,kf,5,0,"div",177),d()}if(n&2){let e=u().$implicit,i=u(3);a(3),z("innerHTML",i.highlightSearchText(e.title),cn),a(3),$("data-category",e.category),a(),y(" ",e.category," "),a(),z("innerHTML",i.highlightSearchText(e.content),cn),a(2),R(e.tags),a(2),_(e.relatedTips&&e.relatedTips.length>0?12:-1)}}function Af(n,t){if(n&1&&v(0,If,13,5,"div",181),n&2){let e=t.$implicit,i=u(3);_(i.isTipBookmarked(e.id)?-1:0)}}function Rf(n,t){if(n&1&&(l(0,"div",164),A(1,Af,1,1,null,null,me),d()),n&2){let e=u(2);a(),R(e.filteredTips())}}function Df(n,t){if(n&1){let e=D();l(0,"div",20)(1,"div",154)(2,"h2"),s(3,"Quick Tips Library"),d(),l(4,"p",155),s(5,"Searchable collection of helpful tips and shortcuts"),d()(),l(6,"div",156)(7,"input",157),S("input",function(o){E(e);let r=u();return O(r.updateTipSearch(o.target.value))}),d(),ri(8,vf,2,0,"button",158),d(),l(9,"div",159),A(10,Cf,3,5,"button",160,me),d(),l(12,"div",161)(13,"div",69)(14,"span",43),s(15,"Showing"),d(),l(16,"span",44),s(17),d()(),l(18,"div",69)(19,"span",43),s(20,"Total Tips"),d(),l(21,"span",44),s(22),d()(),l(23,"div",69)(24,"span",43),s(25,"Bookmarked"),d(),l(26,"span",44),s(27),d()()(),v(28,Sf,6,0,"div",162),l(29,"div",162)(30,"h3",125),v(31,wf,1,1)(32,Ef,1,0),d(),v(33,Of,5,0,"div",163)(34,Rf,3,0,"div",164),d()()}if(n&2){let e=u();a(7),z("value",e.tipSearchQuery()),a(),z("ngIf",e.tipSearchQuery()),a(2),R(e.tipCategories()),a(7),x(e.filteredTips().length),a(5),x(e.allTips().length),a(5),x(e.bookmarkedTips().size),a(),_(e.bookmarkedTips().size>0&&e.bookmarkedFilteredTips().length>0?28:-1),a(3),_(e.selectedTipCategory()!=="all"?31:32),a(2),_(e.filteredTips().length===0?33:34)}}function Nf(n,t){if(n&1&&s(0),n&2){let e=u(3);y(" ",(e.bestTime()/1e3).toFixed(2),"s ")}}function Ff(n,t){n&1&&s(0," -- ")}function jf(n,t){if(n&1){let e=D();l(0,"button",180),S("click",function(){E(e);let o=u(3);return O(o.resetShortcutStats())}),s(1,"Reset Statistics"),d()}}function Lf(n,t){if(n&1&&(l(0,"div",196)(1,"div",197),s(2),d(),l(3,"div",198),s(4),d()()),n&2){let e=t.$implicit;a(2),x(e.keys),a(2),x(e.description)}}function zf(n,t){if(n&1&&(l(0,"div",196)(1,"div",197),s(2),d(),l(3,"div",198),s(4),d()()),n&2){let e=t.$implicit;a(2),x(e.keys),a(2),x(e.description)}}function Uf(n,t){if(n&1&&(l(0,"div",196)(1,"div",197),s(2),d(),l(3,"div",198),s(4),d()()),n&2){let e=t.$implicit;a(2),x(e.keys),a(2),x(e.description)}}function $f(n,t){if(n&1){let e=D();l(0,"div",186)(1,"div",187),S("click",function(){E(e);let o=u(2);return O(o.startShortcutGame("practice"))}),l(2,"h3"),s(3,"Practice Mode"),d(),l(4,"p"),s(5,"Learn shortcuts at your own pace with no time limit."),d(),l(6,"button",188),s(7,"Start Practice"),d()(),l(8,"div",187),S("click",function(){E(e);let o=u(2);return O(o.startShortcutGame("timed"))}),l(9,"h3"),s(10,"Timed Challenge"),d(),l(11,"p"),s(12,"Complete as many shortcuts as possible in 60 seconds."),d(),l(13,"button",188),s(14,"Start Challenge"),d()(),l(15,"div",187),S("click",function(){E(e);let o=u(2);return O(o.startShortcutGame("survival"))}),l(16,"h3"),s(17,"Survival Mode"),d(),l(18,"p"),s(19,"Keep the timer alive by completing shortcuts quickly."),d(),l(20,"button",188),s(21,"Start Survival"),d()()(),l(22,"div",189)(23,"h3"),s(24,"Your Statistics"),d(),l(25,"div",190)(26,"div",69)(27,"div",44),s(28),d(),l(29,"div",43),s(30,"Total Attempts"),d()(),l(31,"div",69)(32,"div",44),s(33),d(),l(34,"div",43),s(35,"Successful"),d()(),l(36,"div",69)(37,"div",44),s(38),d(),l(39,"div",43),s(40,"Accuracy"),d()(),l(41,"div",69)(42,"div",44),v(43,Nf,1,1)(44,Ff,1,0),d(),l(45,"div",43),s(46,"Best Time"),d()()(),v(47,jf,2,0,"button",191),d(),l(48,"div",192)(49,"h3"),s(50,"Shortcut Reference"),d(),l(51,"div",193)(52,"div",194)(53,"h4"),s(54,"Easy"),d(),l(55,"div",195),A(56,Lf,5,2,"div",196,me),d()(),l(58,"div",194)(59,"h4"),s(60,"Medium"),d(),l(61,"div",195),A(62,zf,5,2,"div",196,me),d()(),l(64,"div",194)(65,"h4"),s(66,"Hard"),d(),l(67,"div",195),A(68,Uf,5,2,"div",196,me),d()()()()}if(n&2){let e=u(2);a(28),x(e.totalAttempts()),a(5),x(e.successfulAttempts()),a(5),y("",e.avgAccuracy(),"%"),a(5),_(e.bestTime()?43:44),a(4),_(e.totalAttempts()>0?47:-1),a(9),R(e.getChallengesByDifficulty("easy")),a(6),R(e.getChallengesByDifficulty("medium")),a(6),R(e.getChallengesByDifficulty("hard"))}}function Vf(n,t){if(n&1&&(l(0,"div",201)(1,"span",202),s(2,"Time:"),d(),l(3,"span",203),s(4),d()()),n&2){let e=u(3);a(4),y("",e.gameTimer(),"s")}}function Hf(n,t){if(n&1&&(l(0,"div",205)(1,"div",210),s(2),d(),l(3,"div",211),s(4),d(),l(5,"div",212),s(6,"Press the keyboard shortcut:"),d(),l(7,"div",213),s(8),d(),l(9,"div",214),s(10),d()()),n&2){let e=u(3);a(2),x(e.currentChallenge().action),a(2),x(e.currentChallenge().description),a(4),x(e.currentChallenge().keys),a(),mt(e.currentChallenge().difficulty),a(),y(" ",e.currentChallenge().difficulty," ")}}function Bf(n,t){if(n&1){let e=D();l(0,"button",215),S("click",function(){E(e);let o=u(3);return O(o.skipChallenge())}),s(1,"Skip Challenge"),d()}}function Wf(n,t){if(n&1&&s(0),n&2){let e=u().$implicit;y(" ",(e.timeTaken/1e3).toFixed(2),"s ")}}function qf(n,t){n&1&&s(0," Skipped ")}function Gf(n,t){if(n&1&&(l(0,"div",216)(1,"span",217),s(2),d(),l(3,"span",218),v(4,Wf,1,1)(5,qf,1,0),d(),l(6,"span",219),s(7),d()()),n&2){let e=t.$implicit;F("success",e.success)("failure",!e.success),a(2),x(e.challenge.action),a(2),_(e.timeTaken?4:5),a(3),x(e.success?"\u2713":"\u2717")}}function Kf(n,t){if(n&1){let e=D();l(0,"div",185)(1,"div",199)(2,"div",200)(3,"div",201)(4,"span",202),s(5,"Score:"),d(),l(6,"span",203),s(7),d()(),v(8,Vf,5,1,"div",201),l(9,"div",201)(10,"span",202),s(11,"Streak:"),d(),l(12,"span",203),s(13),d()()(),l(14,"button",204),S("click",function(){E(e);let o=u(2);return O(o.stopShortcutGame())}),s(15,"Stop Game"),d()(),v(16,Hf,11,6,"div",205),v(17,Bf,2,0,"button",206),l(18,"div",207)(19,"h4"),s(20,"Recent Attempts"),d(),l(21,"div",208),A(22,Gf,8,7,"div",209,ya),d()()()}if(n&2){let e=u(2);a(7),x(e.gameScore()),a(),_(e.challengeMode()!=="practice"?8:-1),a(5),x(e.gameStreak()),a(3),_(e.currentChallenge()?16:-1),a(),_(e.challengeMode()==="practice"?17:-1),a(5),R(e.getRecentAttempts())}}function Yf(n,t){if(n&1&&(l(0,"div",21)(1,"div",183)(2,"h2"),s(3,"Keyboard Shortcut Training"),d(),l(4,"p",184),s(5," Master keyboard shortcuts to speed up your workflow. Practice in different modes to improve your speed and accuracy. "),d()(),v(6,$f,70,5)(7,Kf,24,5,"div",185),d()),n&2){let e=u();a(6),_(e.gameActive()?7:6)}}var bt=class n{constructor(t,e,i,o,r,c,p){this.achievementService=t;this.verificationService=e;this.sandboxService=i;this.store=o;this.economyService=r;this.metricsService=c;this.storageService=p;this.achievements=this.achievementService.achievements,this.milestones=this.achievementService.milestones,this.skills=this.achievementService.skills,this.totalPoints=this.achievementService.totalPoints,this.currentSection$=this.store.select(vl),this.currentStep$=this.store.select(_l),this.completedSteps$=this.store.select(Qn),this.tutorialProgress$=this.store.select(Cl),this.sandboxMode$=this.store.select(lo),this.celebratingMilestone$=this.store.select(xl),this.isSandboxActive=T(()=>this.sandboxService.isSandboxActive()),this.tutorialMetrics$=this.store.select(xt),Ze(()=>{if(this.sections().flatMap(C=>C.steps).every(C=>C.completed)){this.store.dispatch(fl());let C=this.sections().filter(j=>j.steps.every(W=>W.completed)).map(j=>j.id),M=Array.from(this.sectionsSkipped),k=["complete_tutorial"],K=500;this.achievementService.unlockAchievement("complete_tutorial"),this.economyService.addCredits(500,"tutorial_reward","Tutorial completion bonus"),this.achievementService.checkTutorialSpeedrun()&&(this.achievementService.unlockAchievement("tutorial_speedrun"),this.economyService.addCredits(250,"tutorial_reward","Speed learner bonus"),k.push("tutorial_speedrun"),K+=250),this.sectionsSkipped.size===0&&(this.achievementService.unlockAchievement("tutorial_perfectionist"),this.economyService.addCredits(300,"tutorial_reward","Perfectionist bonus"),k.push("tutorial_perfectionist"),K+=300),this.store.dispatch(gl({sectionsCompleted:C,sectionsSkipped:M,achievementsUnlocked:k,creditsEarned:K})),this.store.select(xt).subscribe(j=>J(this,null,function*(){yield this.metricsService.saveMetrics(j)}))}})}activeView=P("tutorial");reducedMotion=P(!1);screenReaderMode=P(!1);keyboardOnlyMode=P(!1);achievements;milestones;skills;totalPoints;currentSection$;currentStep$;completedSteps$;tutorialProgress$;sandboxMode$;celebratingMilestone$;isSandboxActive;tutorialMetrics$;hintTimers=new Map;sectionsSkipped=new Set;tipSearchQuery=P("");selectedTipCategory=P("all");bookmarkedTips=P(new Set);allTips=P(this.initializeTips());tipCategories=P([{id:"all",name:"All Tips",description:"View all available tips"},{id:"commands",name:"Commands",description:"Terminal and hacking commands"},{id:"shortcuts",name:"Shortcuts",description:"Keyboard shortcuts and quick actions"},{id:"strategies",name:"Strategies",description:"Gameplay strategies and tactics"},{id:"hacking",name:"Hacking",description:"Network penetration and exploitation"},{id:"economy",name:"Economy",description:"Credits, upgrades, and shop"},{id:"navigation",name:"Navigation",description:"UI and interface navigation"}]);filteredTips=T(()=>{let t=this.tipSearchQuery().toLowerCase(),e=this.selectedTipCategory(),i=this.allTips();return e!=="all"&&(i=i.filter(o=>o.category===e)),t&&(i=i.filter(o=>o.title.toLowerCase().includes(t)||o.content.toLowerCase().includes(t)||o.tags.some(r=>r.toLowerCase().includes(t)))),i});bookmarkedFilteredTips=T(()=>{let t=this.bookmarkedTips();return this.filteredTips().filter(e=>t.has(e.id))});selectedCategoryName=T(()=>{let t=this.tipCategories().find(e=>e.id===this.selectedTipCategory());return t?t.name:"All Tips"});tipCategoryCounts=T(()=>{let t=this.filteredTips(),e=new Map;return this.tipCategories().forEach(i=>{i.id==="all"?e.set(i.id,0):e.set(i.id,t.filter(o=>o.category===i.id).length)}),e});shortcutChallenges=P(this.initializeShortcutChallenges());currentChallenge=P(null);challengeStartTime=P(null);challengeAttempts=P([]);gameActive=P(!1);challengeMode=P("practice");gameScore=P(0);gameTimer=P(60);gameStreak=P(0);bestTime=P(null);avgAccuracy=T(()=>{let t=this.challengeAttempts();if(t.length===0)return 0;let e=t.filter(i=>i.success).length;return Math.round(e/t.length*100)});totalAttempts=T(()=>this.challengeAttempts().length);successfulAttempts=T(()=>this.challengeAttempts().filter(t=>t.success).length);gameTimerInterval=null;keyboardHandler=null;ngOnInit(){this.initializeVerificationListeners(),this.achievementService.startTutorialTimer(),this.detectAccessibilityPreferences(),this.setupKeyboardNavigation(),this.loadTutorialState(),this.setupStatePersistence()}loadTutorialState(){return J(this,null,function*(){let t=yield this.storageService.loadState();t&&(this.store.dispatch(ul({completedSteps:t.completedSteps,currentSection:t.currentSectionId||"basics",currentStep:t.currentStepId||""})),t.tutorialMode&&this.store.dispatch(ml({mode:t.tutorialMode})),t.autoAdvanceEnabled!==void 0&&this.store.dispatch(ll({stepId:t.currentStepId||"",delay:t.autoAdvanceDelay})))})}setupStatePersistence(){this.store.select(t=>t.tutorial).subscribe(t=>J(this,null,function*(){yield this.storageService.saveState(t)}))}detectAccessibilityPreferences(){typeof window<"u"&&window.matchMedia("(prefers-reduced-motion: reduce)").matches&&this.reducedMotion.set(!0)}setupKeyboardNavigation(){typeof window<"u"&&window.addEventListener("keydown",this.handleKeyDown.bind(this))}handleKeyDown(t){t.key==="Escape"?this.showHints()&&(this.showHints.set(!1),t.preventDefault()):t.key==="h"||t.key==="H"?!t.ctrlKey&&!t.altKey&&!t.metaKey&&(this.showHints.update(e=>!e),t.preventDefault()):t.key==="ArrowRight"&&t.ctrlKey?this.canGoNext()&&(this.nextStep(),t.preventDefault()):t.key==="ArrowLeft"&&t.ctrlKey&&this.canGoPrevious()&&(this.previousStep(),t.preventDefault())}ngOnDestroy(){this.clearAllHintTimers(),typeof window<"u"&&window.removeEventListener("keydown",this.handleKeyDown.bind(this))}initializeVerificationListeners(){this.sections().forEach(t=>{t.steps.forEach(e=>{e.verification&&this.verificationService.registerStepVerification(e.id,e.verification)})})}clearAllHintTimers(){this.hintTimers.forEach(t=>clearTimeout(t)),this.hintTimers.clear()}sections=P([{id:"basics",name:"Getting Started",description:"Learn the fundamentals of WebOS interface",mandatory:!0,estimatedMinutes:3,steps:[{id:"welcome",title:"Welcome to WebOS",description:"Welcome! This tutorial will teach you the basics of WebOS through hands-on practice.",completed:!1,hints:[{content:'Click "Next" to continue',delayMs:3e4,level:"basic"}],achievementId:"first_login",autoAdvance:!1,mandatory:!0},{id:"open-terminal",title:"Open the Terminal",description:"The Terminal is where you'll execute hacking commands. Click the Terminal icon in the taskbar to open it.",action:"Open Terminal",completed:!1,hints:[{content:"Look for the Terminal icon in the taskbar at the bottom",delayMs:3e4,level:"basic"},{content:"Click the icon that looks like a command prompt",delayMs:3e4,level:"detailed"},{content:"The Terminal icon is typically the first or second icon from the left",delayMs:6e4,level:"solution"}],verification:{type:"window_opened",target:"terminal"},tooltip:{selector:'[data-app="terminal"]',content:"Click here to open Terminal",position:"top",showArrow:!0},achievementId:"open_terminal",autoAdvance:!0,autoAdvanceDelay:2e3,mandatory:!0},{id:"run-help-command",title:"Run the Help Command",description:'Type "help" in the Terminal and press Enter to see available commands.',action:'Type "help" and press Enter',completed:!1,hints:[{content:'Type the word "help" (without quotes) in the Terminal',delayMs:3e4,level:"basic"},{content:"Make sure the Terminal window is focused, then type: help",delayMs:3e4,level:"detailed"},{content:"Click in the Terminal window, type exactly: help and press Enter",delayMs:6e4,level:"solution"}],verification:{type:"command_executed",condition:t=>t.command.trim().toLowerCase()==="help"},achievementId:"run_first_command",autoAdvance:!0,autoAdvanceDelay:3e3,mandatory:!0},{id:"open-file-manager",title:"Open File Manager",description:"The File Manager lets you browse and manage files. Open it from the taskbar.",action:"Open File Manager",completed:!1,hints:[{content:"Look for the File Manager icon in the taskbar",delayMs:3e4,level:"basic"},{content:"Click the folder icon to open File Manager",delayMs:3e4,level:"detailed"}],verification:{type:"window_opened",target:"file-manager"},tooltip:{selector:'[data-app="file-manager"]',content:"Click here to open File Manager",position:"top",showArrow:!0},achievementId:"open_file_manager",autoAdvance:!0,autoAdvanceDelay:2e3,mandatory:!0}]},{id:"apps",name:"Core Applications",steps:[{id:"file-manager",title:"File Manager",description:"The File Manager lets you browse files and folders. You can create, move, copy, and delete items.",action:"Open File Manager",completed:!1,hints:[{content:"Use the search to find files quickly",delayMs:0,level:"basic"},{content:"Try switching between list and grid view",delayMs:3e3,level:"detailed"}],verification:{type:"window_opened",target:"file-manager"},autoAdvance:!0,autoAdvanceDelay:2e3,mandatory:!1},{id:"terminal",title:"Terminal",description:'The Terminal allows you to execute commands. Type "help" to see available commands.',action:'Open Terminal and type "help"',completed:!1,hints:[{content:"Use arrow keys to navigate command history",delayMs:0,level:"basic"},{content:"Press Ctrl+L to clear the screen",delayMs:3e3,level:"detailed"}],verification:{type:"command_executed",target:"help"},autoAdvance:!0,autoAdvanceDelay:2e3,mandatory:!1},{id:"text-editor",title:"Text Editor",description:"The Text Editor is for viewing and editing text files. It supports multiple tabs and various file types.",action:"Open Text Editor",completed:!1,hints:[{content:'Create new files with the "New" button',delayMs:0,level:"basic"},{content:"Toggle line numbers and word wrap",delayMs:3e3,level:"detailed"}],verification:{type:"window_opened",target:"text-editor"},autoAdvance:!0,autoAdvanceDelay:2e3,mandatory:!1}]},{id:"advanced",name:"Advanced Features",steps:[{id:"task-manager",title:"Task Manager",description:"Monitor running processes, view resource usage, and manage applications.",action:"Open Task Manager",completed:!1,hints:[{content:"Sort processes by clicking column headers",delayMs:0,level:"basic"},{content:"Use filters to view specific process types",delayMs:3e3,level:"detailed"}],verification:{type:"window_opened",target:"task-manager"},autoAdvance:!0,autoAdvanceDelay:2e3,mandatory:!1},{id:"settings",title:"Settings",description:"Customize WebOS appearance, audio, gameplay, and keybindings.",action:"Open Settings",completed:!1,hints:[{content:"Try changing the theme",delayMs:0,level:"basic"},{content:"Adjust volume and difficulty settings",delayMs:3e3,level:"detailed"}],verification:{type:"window_opened",target:"settings"},autoAdvance:!0,autoAdvanceDelay:2e3,mandatory:!1},{id:"email",title:"Email Client",description:"Read and send emails. In sandbox mode, you will receive contracts and missions here.",action:"Open Email",completed:!1,hints:[{content:"Filter emails by category",delayMs:0,level:"basic"},{content:"Reply to or compose new messages",delayMs:3e3,level:"detailed"}],verification:{type:"window_opened",target:"email"},autoAdvance:!0,autoAdvanceDelay:2e3,mandatory:!1}]},{id:"hacking",name:"Hacking Fundamentals",description:"Learn to scan networks, exploit vulnerabilities, and compromise systems",mandatory:!0,estimatedMinutes:8,steps:[{id:"scan-network",title:"Scan the Network",description:'Use the "scan" or "nmap" command to discover hosts on the network. Try: nmap 192.168.1.0/24',action:"Run: nmap 192.168.1.0/24",completed:!1,hints:[{content:'Type "nmap 192.168.1.0/24" in the Terminal',delayMs:3e4,level:"basic"},{content:"Make sure Terminal is open and focused",delayMs:3e4,level:"detailed"},{content:"Open Terminal, type exactly: nmap 192.168.1.0/24 and press Enter",delayMs:6e4,level:"solution"}],verification:{type:"network_action",condition:t=>t.action==="scan"},achievementId:"first_scan",autoAdvance:!0,autoAdvanceDelay:3e3,mandatory:!0},{id:"probe-port",title:"Probe a Vulnerable Port",description:'Use "probe <ip> <port>" to identify vulnerabilities. Choose a host from your scan results and probe port 22 or 80.',action:"Run: probe <ip> <port>",completed:!1,hints:[{content:"Use an IP from your scan results, then try: probe <ip> 22",delayMs:3e4,level:"basic"},{content:"Common vulnerable ports are 22, 80, 443, 3306",delayMs:3e4,level:"detailed"},{content:"Example: probe 192.168.1.10 22",delayMs:6e4,level:"solution"}],verification:{type:"command_executed",condition:t=>t.command.trim().toLowerCase().startsWith("probe")},autoAdvance:!0,autoAdvanceDelay:3e3,mandatory:!0},{id:"exploit-vulnerability",title:"Exploit a Vulnerability",description:'Once you find a vulnerable port, use "exploit <ip> <port>" to compromise the system.',action:"Run: exploit <ip> <port>",completed:!1,hints:[{content:"Use exploit with the vulnerable IP and port you found",delayMs:3e4,level:"basic"},{content:"Example: exploit 192.168.1.10 22",delayMs:3e4,level:"detailed"},{content:"If you get an error, make sure the port is vulnerable (use probe first)",delayMs:6e4,level:"solution"}],verification:{type:"network_action",condition:t=>t.action==="exploit"},autoAdvance:!0,autoAdvanceDelay:3e3,mandatory:!0},{id:"connect-to-host",title:"Connect to Compromised Host",description:'After exploiting a system, connect to it using "ssh <ip>" or "connect <ip>".',action:"Run: ssh <ip>",completed:!1,hints:[{content:"Use ssh with the IP you just exploited",delayMs:3e4,level:"basic"},{content:"Example: ssh 192.168.1.10",delayMs:3e4,level:"detailed"},{content:'You can also use "connect" instead of "ssh"',delayMs:6e4,level:"solution"}],verification:{type:"network_action",condition:t=>t.action==="connect"},achievementId:"first_hack",autoAdvance:!0,autoAdvanceDelay:3e3,mandatory:!0},{id:"extract-data",title:"Extract Data",description:'While connected to a remote host, download files using "download <filename>". Try: download data.txt',action:"Run: download data.txt",completed:!1,hints:[{content:"Make sure you're still connected to the remote host",delayMs:3e4,level:"basic"},{content:"Type: download data.txt",delayMs:3e4,level:"detailed"},{content:"If disconnected, reconnect with: ssh <ip>",delayMs:6e4,level:"solution"}],verification:{type:"command_executed",condition:t=>t.command.trim().toLowerCase().startsWith("download")},autoAdvance:!0,autoAdvanceDelay:3e3,mandatory:!0}]},{id:"missions",name:"Mission System",description:"Learn how to accept and complete missions for rewards",mandatory:!0,estimatedMinutes:5,steps:[{id:"open-email-missions",title:"Check Your Email",description:"Missions are sent to you via email. Open the Email application from the taskbar.",action:"Open Email",completed:!1,hints:[{content:"Look for the Email icon in the taskbar",delayMs:3e4,level:"basic"},{content:"Click the envelope icon",delayMs:3e4,level:"detailed"}],verification:{type:"window_opened",target:"email"},tooltip:{selector:'[data-app="email"]',content:"Click here to open Email",position:"top",showArrow:!0},autoAdvance:!0,autoAdvanceDelay:2e3,mandatory:!0},{id:"read-mission",title:"Read a Mission Email",description:"Click on an email with [MISSION] in the subject to read the mission details.",action:"Click a mission email",completed:!1,hints:[{content:"Look for emails tagged with [MISSION]",delayMs:3e4,level:"basic"},{content:"Click on the mission email to view its contents",delayMs:3e4,level:"detailed"}],verification:{type:"custom",condition:t=>!0},autoAdvance:!1,mandatory:!0},{id:"accept-mission",title:"Accept the Mission",description:'After reading the mission details, click the "Accept Mission" button to start tracking it.',action:'Click "Accept Mission"',completed:!1,hints:[{content:"Look for the Accept Mission button in the email",delayMs:3e4,level:"basic"},{content:"The button should be at the bottom of the mission email",delayMs:3e4,level:"detailed"}],verification:{type:"mission_action",condition:t=>t.action==="accept"},autoAdvance:!0,autoAdvanceDelay:3e3,mandatory:!0},{id:"track-mission-progress",title:"Track Your Mission",description:"Open the Mission Tracker to see your active missions and objectives. You can open it from the taskbar.",action:"Open Mission Tracker",completed:!1,hints:[{content:"Look for the Mission Tracker icon",delayMs:3e4,level:"basic"},{content:"Click the target/checklist icon in the taskbar",delayMs:3e4,level:"detailed"}],verification:{type:"window_opened",target:"mission-tracker"},autoAdvance:!0,autoAdvanceDelay:2e3,mandatory:!0}]},{id:"economy",name:"Economy & Upgrades",description:"Learn to earn credits and purchase upgrades",mandatory:!1,estimatedMinutes:4,steps:[{id:"check-balance",title:"Check Your Balance",description:"Your current credit balance is displayed in the taskbar. You earn credits by completing missions.",completed:!1,hints:[{content:"Look at the bottom-right corner of the screen",delayMs:3e4,level:"basic"}],autoAdvance:!1,mandatory:!1},{id:"open-shop",title:"Open the Shop",description:"The Shop lets you purchase upgrades to improve your hacking capabilities. Open it from the taskbar.",action:"Open Shop",completed:!1,hints:[{content:"Look for the Shop icon in the taskbar",delayMs:3e4,level:"basic"},{content:"Click the shopping cart or store icon",delayMs:3e4,level:"detailed"}],verification:{type:"window_opened",target:"shop"},tooltip:{selector:'[data-app="shop"]',content:"Click here to open Shop",position:"top",showArrow:!0},autoAdvance:!0,autoAdvanceDelay:2e3,mandatory:!1},{id:"browse-upgrades",title:"Browse Upgrades",description:"Explore different upgrade categories: Software, Hardware, and Network. Each upgrade improves specific abilities.",completed:!1,hints:[{content:"Click on different tabs to see various upgrades",delayMs:3e4,level:"basic"},{content:"Hover over upgrades to see their effects",delayMs:3e4,level:"detailed"}],autoAdvance:!1,mandatory:!1},{id:"purchase-upgrade",title:"Purchase an Upgrade",description:"When you have enough credits, purchase an upgrade to enhance your capabilities. Try buying any affordable upgrade.",action:"Buy an upgrade",completed:!1,hints:[{content:'Look for green "Purchase" buttons on upgrades you can afford',delayMs:3e4,level:"basic"},{content:"Start with cheaper upgrades like Basic Scanner or CPU Upgrade",delayMs:3e4,level:"detailed"}],verification:{type:"purchase",condition:t=>!0},autoAdvance:!0,autoAdvanceDelay:3e3,mandatory:!1}]},{id:"network-nav",name:"Network Navigation",description:"Master the network map and connection management",mandatory:!1,estimatedMinutes:3,steps:[{id:"open-network-map",title:"Open Network Map",description:"The Network Map shows all discovered hosts and their connections. Open it from the taskbar.",action:"Open Network Map",completed:!1,hints:[{content:"Look for the Network Map icon",delayMs:3e4,level:"basic"},{content:"Click the network/globe icon in the taskbar",delayMs:3e4,level:"detailed"}],verification:{type:"window_opened",target:"network-map"},autoAdvance:!0,autoAdvanceDelay:2e3,mandatory:!1},{id:"understand-connections",title:"Understanding Connections",description:"Hosts are color-coded: Green (your system), Yellow (discovered), Red (compromised). Click hosts to see details.",completed:!1,hints:[{content:"Try clicking on different hosts in the map",delayMs:3e4,level:"basic"},{content:"Watch for detection level increases when you attack systems",delayMs:3e4,level:"detailed"}],autoAdvance:!1,mandatory:!1},{id:"detection-warning",title:"Monitor Detection Levels",description:'Your detection level is shown in the Network Map. High detection can cause missions to fail. Use "trace" to check your status.',action:"Run: trace",completed:!1,hints:[{content:'Type "trace" in Terminal to see your detection level',delayMs:3e4,level:"basic"},{content:"Purchase stealth upgrades to reduce detection",delayMs:3e4,level:"detailed"}],verification:{type:"command_executed",condition:t=>t.command.trim().toLowerCase()==="trace"},autoAdvance:!0,autoAdvanceDelay:3e3,mandatory:!1}]}]);currentSectionIndex=P(0);currentStepIndex=P(0);showHints=P(!1);currentSection=T(()=>this.sections()[this.currentSectionIndex()]);currentStep=T(()=>this.currentSection().steps[this.currentStepIndex()]);progress=T(()=>{let t=this.sections().flatMap(i=>i.steps),e=t.filter(i=>i.completed).length;return Math.round(e/t.length*100)});totalSteps=T(()=>this.sections().flatMap(t=>t.steps).length);totalCompletedSteps=T(()=>this.sections().flatMap(t=>t.steps).filter(t=>t.completed).length);completedSections=T(()=>this.sections().filter(t=>t.steps.every(e=>e.completed)).length);estimatedTimeRemaining=T(()=>this.sections().filter(e=>!e.steps.every(i=>i.completed)).reduce((e,i)=>e+(i.estimatedMinutes||0),0));canGoNext=T(()=>{let t=this.currentSection();return this.currentStepIndex()<t.steps.length-1||this.currentSectionIndex()<this.sections().length-1});canGoPrevious=T(()=>this.currentStepIndex()>0||this.currentSectionIndex()>0);nextStep(){let t=this.currentStep();this.markCurrentStepComplete(),t.achievementId&&this.achievementService.unlockAchievement(t.achievementId),this.store.dispatch(Dr({stepId:t.id,autoAdvance:t.autoAdvance}));let e=this.currentSection();if(this.currentStepIndex()<e.steps.length-1){this.currentStepIndex.update(o=>o+1);let i=e.steps[this.currentStepIndex()];this.activateStep(i)}else this.currentSectionIndex()<this.sections().length-1&&(this.store.dispatch(Nr({sectionId:e.id})),setTimeout(()=>{this.currentSectionIndex.update(r=>r+1),this.currentStepIndex.set(0);let o=this.sections()[this.currentSectionIndex()].steps[0];this.activateStep(o),this.store.dispatch(co())},3e3));this.showHints.set(!1),this.clearHintTimer(t.id)}activateStep(t){this.store.dispatch(sl({stepId:t.id})),this.verificationService.activateStep(t.id),t.hints&&t.hints.length>0&&this.scheduleHints(t)}getSectionById(t){return this.sections().find(e=>e.id===t)}dismissCelebration(){this.store.dispatch(co())}toggleReducedMotion(){this.reducedMotion.update(t=>!t)}toggleScreenReaderMode(){this.screenReaderMode.update(t=>!t)}toggleKeyboardOnlyMode(){this.keyboardOnlyMode.update(t=>!t)}scheduleHints(t){if(!t.hints)return;let e=0;if(t.hints.forEach((i,o)=>{e+=i.delayMs;let r=window.setTimeout(()=>{this.store.dispatch(cl({stepId:t.id,hintIndex:o}))},e);this.hintTimers.set(`${t.id}-${o}`,r)}),t.hints.length>0){let i=t.hints[t.hints.length-1],o=window.setTimeout(()=>{this.showHints.set(!0)},e+12e4);this.hintTimers.set(`${t.id}-skip`,o)}}clearHintTimer(t){for(let[e,i]of this.hintTimers.entries())e.startsWith(t)&&(clearTimeout(i),this.hintTimers.delete(e))}previousStep(){if(this.currentStepIndex()>0)this.currentStepIndex.update(t=>t-1);else if(this.currentSectionIndex()>0){this.currentSectionIndex.update(e=>e-1);let t=this.sections()[this.currentSectionIndex()];this.currentStepIndex.set(t.steps.length-1)}this.showHints.set(!1)}goToSection(t){this.currentSectionIndex.set(t),this.currentStepIndex.set(0),this.showHints.set(!1)}goToStep(t){this.currentStepIndex.set(t),this.showHints.set(!1)}markCurrentStepComplete(){let t=this.currentSectionIndex(),e=this.currentStepIndex();this.sections.update(i=>i.map((o,r)=>r===t?L(w({},o),{steps:o.steps.map((c,p)=>p===e?L(w({},c),{completed:!0}):c)}):o))}toggleHints(){this.showHints.update(t=>!t)}resetProgress(){this.sections.update(t=>t.map(e=>L(w({},e),{steps:e.steps.map(i=>L(w({},i),{completed:!1}))}))),this.currentSectionIndex.set(0),this.currentStepIndex.set(0),this.showHints.set(!1)}getSectionProgress(t){let e=this.sections()[t],i=e.steps.filter(o=>o.completed).length;return Math.round(i/e.steps.length*100)}getSectionCompletedSteps(t){return this.sections()[t].steps.filter(i=>i.completed).length}getSectionTotalSteps(t){return this.sections()[t].steps.length}getSectionMandatorySteps(t){return this.sections()[t].steps.filter(i=>i.mandatory).length}isSectionComplete(t){return this.sections()[t].steps.every(i=>i.completed)}getTotalMandatorySteps(){return this.sections().flatMap(t=>t.steps).filter(t=>t.mandatory).length}getCompletedMandatorySteps(){return this.sections().flatMap(t=>t.steps).filter(t=>t.mandatory&&t.completed).length}getSectionEstimatedTime(t){return this.sections()[t].estimatedMinutes||0}switchView(t){this.activeView.set(t)}updateTipSearch(t){this.tipSearchQuery.set(t)}selectTipCategory(t){this.selectedTipCategory.set(t)}toggleTipBookmark(t){this.bookmarkedTips.update(e=>{let i=new Set(e);return i.has(t)?i.delete(t):i.add(t),i})}isTipBookmarked(t){return this.bookmarkedTips().has(t)}getRelatedTips(t){if(!t.relatedTips||t.relatedTips.length===0)return[];let e=this.allTips();return t.relatedTips.map(i=>e.find(o=>o.id===i)).filter(i=>i!==void 0)}highlightSearchText(t){let e=this.tipSearchQuery();if(!e)return t;let i=new RegExp(`(${e})`,"gi");return t.replace(i,"<mark>$1</mark>")}initializeTips(){return[{id:"scan-networks",title:"Scanning Networks",category:"commands",content:'Use the "scan" command to discover hosts on a network. Syntax: scan <network>. Example: scan 192.168.1.0/24 will scan all hosts from 192.168.1.1 to 192.168.1.254.',tags:["scan","network","discovery","recon"],relatedTips:["probe-vulnerabilities","exploit-services"]},{id:"probe-vulnerabilities",title:"Finding Vulnerabilities",category:"commands",content:'After scanning, use "probe" to find vulnerabilities on specific hosts. Syntax: probe <ip> <port>. Example: probe 192.168.1.100 22 checks port 22 for exploits.',tags:["probe","vulnerability","security"],relatedTips:["scan-networks","exploit-services"]},{id:"exploit-services",title:"Exploiting Services",category:"hacking",content:`Use "exploit" to compromise a vulnerable service. Syntax: exploit <ip> <port>. Success depends on your skills and the target's security level. Always probe first!`,tags:["exploit","compromise","attack"],relatedTips:["probe-vulnerabilities","connect-systems"]},{id:"connect-systems",title:"Connecting to Systems",category:"commands",content:'After exploiting a system, use "ssh" to connect. Syntax: ssh <ip>. You can then navigate files and execute commands on the remote system.',tags:["ssh","connect","remote"],relatedTips:["exploit-services","extract-data"]},{id:"extract-data",title:"Extracting Data",category:"hacking",content:'Download files from compromised systems using "download". Syntax: download <filename>. Extracted data may contain credits, intel, or mission objectives.',tags:["download","data","exfiltration"],relatedTips:["connect-systems"]},{id:"help-command",title:"Getting Command Help",category:"commands",content:'Type "help" in the Terminal to see all available commands. Use "help <command>" for detailed info about a specific command. Example: help scan',tags:["help","commands","documentation"],relatedTips:[]},{id:"keyboard-shortcuts",title:"Essential Keyboard Shortcuts",category:"shortcuts",content:"Speed up your workflow: Tab = autocomplete commands, Ctrl+L = clear terminal, Ctrl+C = cancel current command, Up/Down arrows = command history.",tags:["keyboard","shortcuts","productivity"],relatedTips:["terminal-efficiency"]},{id:"terminal-efficiency",title:"Terminal Efficiency Tips",category:"shortcuts",content:'Use Tab to autocomplete commands and file paths. Press Up to recall previous commands. Use "clear" to clean up the terminal view. Chain commands with ";" for automation.',tags:["terminal","efficiency","productivity"],relatedTips:["keyboard-shortcuts"]},{id:"manage-credits",title:"Managing Your Credits",category:"economy",content:'Check your balance with "balance" command. Earn credits by completing missions and selling data. Spend wisely on upgrades that match your playstyle!',tags:["credits","balance","money"],relatedTips:["shop-upgrades","mission-rewards"]},{id:"shop-upgrades",title:"Choosing Upgrades Wisely",category:"economy",content:"Visit the Shop to buy upgrades. Early priorities: CPU speed (faster exploits), RAM (run more scripts), Bandwidth (faster downloads). Stealth upgrades help later.",tags:["shop","upgrades","progression"],relatedTips:["manage-credits","upgrade-priority"]},{id:"upgrade-priority",title:"Upgrade Priority Guide",category:"strategies",content:"Recommended order: 1) CPU upgrade (faster operations), 2) RAM upgrade (multitasking), 3) Firewall bypass tools, 4) Stealth modules. Balance offense and defense!",tags:["upgrades","priority","strategy"],relatedTips:["shop-upgrades"]},{id:"accept-missions",title:"Accepting Missions",category:"strategies",content:"Open Email app and check for new missions. Read objectives carefully! Accept missions that match your skill level. Higher difficulty = better rewards but increased risk.",tags:["missions","email","objectives"],relatedTips:["mission-rewards","mission-difficulty"]},{id:"mission-rewards",title:"Mission Completion Tips",category:"strategies",content:"Complete all objectives before claiming rewards. Bonus objectives award extra credits. Fast completion times unlock achievements. Failed missions penalize your reputation.",tags:["missions","rewards","reputation"],relatedTips:["accept-missions"]},{id:"mission-difficulty",title:"Understanding Mission Difficulty",category:"strategies",content:"Mission color indicates difficulty: Green = Easy, Yellow = Medium, Red = Hard, Purple = Expert. Higher difficulty requires better equipment and skills but pays more.",tags:["missions","difficulty","progression"],relatedTips:["accept-missions"]},{id:"network-map",title:"Reading the Network Map",category:"navigation",content:"Open Network Map to visualize connections. Green nodes = compromised, Red = secure, Yellow = partially owned. Lines show network routes. Click nodes for details.",tags:["network","map","visualization"],relatedTips:["stealth-tactics"]},{id:"stealth-tactics",title:"Staying Undetected",category:"hacking",content:'Use "bounce" command to route through compromised systems. This masks your IP. Monitor detection with "trace" command. Disconnect immediately if trace > 80%!',tags:["stealth","detection","bounce"],relatedTips:["network-map","disconnect-quick"]},{id:"disconnect-quick",title:"Emergency Disconnect",category:"hacking",content:'If detected, use "disconnect" immediately to break all connections. Your trace level resets over time. High detection can lead to mission failure or counterattacks.',tags:["disconnect","detection","emergency"],relatedTips:["stealth-tactics"]},{id:"file-manager-tips",title:"File Manager Navigation",category:"navigation",content:'Use File Manager to browse local and remote files. Double-click folders to enter, click "Up" to go back. Right-click files for options: View, Edit, Delete, Download.',tags:["files","navigation","manager"],relatedTips:[]},{id:"script-automation",title:"Automating with Scripts",category:"strategies",content:"Write scripts in the Script Editor to automate repetitive tasks. Save scan/probe/exploit sequences. Schedule scripts to run while you're away. Advanced feature for efficiency!",tags:["scripts","automation","advanced"],relatedTips:[]},{id:"time-management",title:"Time Management Strategy",category:"strategies",content:"Missions have time limits. Plan your approach: scan \u2192 probe \u2192 exploit \u2192 extract. Don't waste time on low-value targets. Prioritize mission objectives over exploration.",tags:["time","management","missions"],relatedTips:["mission-rewards"]},{id:"faction-reputation",title:"Building Faction Reputation",category:"strategies",content:"Complete missions from specific factions to increase reputation. Higher rep = better missions and discounts. Failing missions hurts reputation. Choose factions wisely!",tags:["faction","reputation","progression"],relatedTips:[]},{id:"sandbox-practice",title:"Practice in Sandbox Mode",category:"strategies",content:"Use Sandbox Mode to practice without consequences. Experiment with commands, test strategies, learn from failures. Your main game progress stays safe!",tags:["sandbox","practice","learning"],relatedTips:[]},{id:"achievement-hunting",title:"Unlocking Achievements",category:"strategies",content:"Check the Achievements tab to see available goals. Achievements award points and bragging rights. Some unlock special upgrades. Try speedruns and challenge modes!",tags:["achievements","goals","challenges"],relatedTips:[]}]}getMilestonePercentage(t){return Math.min(Math.round(t.progress/t.target*100),100)}getUnlockedAchievements(){return this.achievements().filter(t=>t.unlocked)}getLockedAchievements(){return this.achievements().filter(t=>!t.unlocked)}getTutorialAchievements(){let e=this.currentSection().steps.map(r=>r.achievementId).filter(r=>r!==void 0),i=this.achievements().filter(r=>e.includes(r.id)),o=this.achievements().filter(r=>r.category==="basics"&&["complete_tutorial","tutorial_speedrun","tutorial_perfectionist","first_sandbox_practice"].includes(r.id));return[...i,...o]}getPreviewSkills(){return this.skills().slice(0,3)}switchToSkills(){this.activeView.set("skills")}canUpgradeSkill(t){return t.level>=t.maxLevel?!1:t.prerequisite?t.prerequisite.every(e=>{let i=this.skills().find(o=>o.id===e);return i&&i.level>0}):!0}upgradeSkill(t){this.achievementService.upgradeSkill(t)}skipSection(){let t=this.currentSection();t.mandatory||(this.sectionsSkipped.add(t.id),this.sections.update(e=>e.map((i,o)=>o===this.currentSectionIndex()?L(w({},i),{steps:i.steps.map(r=>L(w({},r),{completed:!0}))}):i)),t.steps.forEach(e=>{this.clearHintTimer(e.id),this.store.dispatch(Dr({stepId:e.id,autoAdvance:!1}))}),this.currentSectionIndex()<this.sections().length-1&&(this.store.dispatch(Nr({sectionId:t.id})),setTimeout(()=>{this.currentSectionIndex.update(o=>o+1),this.currentStepIndex.set(0);let i=this.sections()[this.currentSectionIndex()].steps[0];this.activateStep(i),this.store.dispatch(co())},3e3)),this.showHints.set(!1))}replaySection(){let t=this.currentSection();this.sections.update(i=>i.map((o,r)=>r===this.currentSectionIndex()?L(w({},o),{steps:o.steps.map(c=>L(w({},c),{completed:!1}))}):o)),t.steps.forEach(i=>{this.clearHintTimer(i.id)}),this.currentStepIndex.set(0);let e=t.steps[0];this.activateStep(e),this.showHints.set(!1)}toggleSandboxMode(){if(this.sandboxService.isSandboxActive()){let t=confirm("Keep your progress from sandbox mode?");this.sandboxService.exitSandboxMode(t)}else this.sandboxService.startSandboxMode()}resetSandbox(){confirm("Reset sandbox to initial state? Current progress will be lost.")&&this.sandboxService.resetSandbox()}initializeShortcutChallenges(){return[{id:"open-terminal",action:"Open Terminal",keys:"Ctrl+Alt+T",description:"Open the terminal application",difficulty:"easy"},{id:"open-editor",action:"Open Text Editor",keys:"Ctrl+Alt+E",description:"Open the text editor application",difficulty:"easy"},{id:"open-taskmanager",action:"Open Task Manager",keys:"Ctrl+Alt+Delete",description:"Open the task manager",difficulty:"medium"},{id:"close-window",action:"Close Window",keys:"Alt+F4",description:"Close the active window",difficulty:"easy"},{id:"clear-terminal",action:"Clear Terminal",keys:"Ctrl+L",description:"Clear the terminal screen",difficulty:"easy"},{id:"cancel-command",action:"Cancel Command",keys:"Ctrl+C",description:"Cancel the current command",difficulty:"easy"},{id:"command-history-up",action:"Previous Command",keys:"Up",description:"Navigate to previous command in history",difficulty:"easy"},{id:"command-history-down",action:"Next Command",keys:"Down",description:"Navigate to next command in history",difficulty:"easy"},{id:"autocomplete",action:"Autocomplete",keys:"Tab",description:"Autocomplete commands and paths",difficulty:"easy"}]}startShortcutGame(t="practice"){this.challengeMode.set(t),this.gameActive.set(!0),this.gameScore.set(0),this.gameStreak.set(0),this.challengeAttempts.set([]),t==="timed"?(this.gameTimer.set(60),this.startGameTimer()):t==="survival"&&this.gameTimer.set(30),this.setupKeyboardListener(),this.nextChallenge()}stopShortcutGame(){this.gameActive.set(!1),this.currentChallenge.set(null),this.challengeStartTime.set(null),this.teardownKeyboardListener(),this.gameTimerInterval!==null&&(window.clearInterval(this.gameTimerInterval),this.gameTimerInterval=null)}nextChallenge(){let t=this.shortcutChallenges(),e=t[Math.floor(Math.random()*t.length)];this.currentChallenge.set(e),this.challengeStartTime.set(Date.now())}skipChallenge(){let t=this.currentChallenge();if(!t)return;let e={challenge:t,startTime:this.challengeStartTime()||Date.now(),success:!1};this.challengeAttempts.update(i=>[...i,e]),this.gameStreak.set(0),this.nextChallenge()}setupKeyboardListener(){this.keyboardHandler=t=>{let e=this.currentChallenge();if(!e||!this.gameActive())return;let i=this.getKeysFromEvent(t),o=this.normalizeKeys(e.keys);i===o&&(t.preventDefault(),this.handleCorrectShortcut(e,i))},window.addEventListener("keydown",this.keyboardHandler)}teardownKeyboardListener(){this.keyboardHandler&&(window.removeEventListener("keydown",this.keyboardHandler),this.keyboardHandler=null)}handleCorrectShortcut(t,e){let i=this.challengeStartTime();if(!i)return;let o=Date.now()-i,r={challenge:t,startTime:i,success:!0,timeTaken:o,keysPressed:e};this.challengeAttempts.update(p=>[...p,r]),(!this.bestTime()||o<this.bestTime())&&this.bestTime.set(o);let c=this.calculatePoints(t.difficulty,o);this.gameScore.update(p=>p+c),this.gameStreak.update(p=>p+1),this.challengeMode()==="survival"&&this.gameTimer.update(p=>Math.min(p+5,60)),this.nextChallenge()}calculatePoints(t,e){let o={easy:10,medium:20,hard:30}[t],r=e<1e3?10:e<2e3?5:0,c=Math.min(this.gameStreak()*2,20);return o+r+c}startGameTimer(){this.gameTimerInterval!==null&&window.clearInterval(this.gameTimerInterval),this.gameTimerInterval=window.setInterval(()=>{this.gameTimer.update(t=>{let e=t-1;return e<=0&&this.stopShortcutGame(),Math.max(0,e)})},1e3)}getKeysFromEvent(t){let e=[];t.ctrlKey&&e.push("Ctrl"),t.altKey&&e.push("Alt"),t.shiftKey&&e.push("Shift"),t.metaKey&&e.push("Super");let i=t.key;return i==="ArrowUp"?e.push("Up"):i==="ArrowDown"?e.push("Down"):i==="Delete"?e.push("Delete"):i.startsWith("F")&&i.length>=2?e.push(i):["Control","Alt","Shift","Meta"].includes(i)||e.push(i.toUpperCase()),this.normalizeKeys(e.join("+"))}normalizeKeys(t){return t.split("+").map(e=>e.trim()).filter(e=>e.length>0).map(e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()).sort().join("+")}resetShortcutStats(){this.challengeAttempts.set([]),this.bestTime.set(null)}getChallengesByDifficulty(t){return this.shortcutChallenges().filter(e=>e.difficulty===t)}getRecentAttempts(t=5){return this.challengeAttempts().slice(-t)}formatDuration(t){return this.metricsService.formatDuration(t)}getPerformanceRating(t){return this.metricsService.getPerformanceRating(t)}static \u0275fac=function(e){return new(e||n)(it(Xa),it(at),it(po),it(Ee),it(At),it(es),it(Ja))};static \u0275cmp=Q({type:n,selectors:[["app-tutorial"]],decls:34,vars:39,consts:[["role","complementary","aria-label","Tutorial and Progress Panel",1,"tutorial"],["role","status","aria-live","polite","aria-atomic","true",1,"sr-only"],["role","dialog","aria-labelledby","celebration-title",1,"celebration-overlay"],[1,"sidebar"],[1,"header"],[1,"sandbox-indicator"],["role","tablist","aria-label","Tutorial sections",1,"view-tabs"],["role","tab","aria-controls","tutorial-panel",1,"tab",3,"click"],["role","tab","aria-controls","progress-panel",1,"tab",3,"click"],["role","tab","aria-controls","achievements-panel",1,"tab",3,"click"],["role","tab","aria-controls","skills-panel",1,"tab",3,"click"],["role","tab","aria-controls","tips-panel",1,"tab",3,"click"],["role","tab","aria-controls","shortcuts-panel",1,"tab",3,"click"],[1,"achievements-sidebar"],[1,"progress-sidebar"],[1,"skills-sidebar"],[1,"content"],[1,"progress-dashboard"],[1,"achievements-content"],[1,"skills-content"],[1,"tips-view"],[1,"shortcuts-training"],["role","dialog","aria-labelledby","celebration-title",1,"celebration-overlay",3,"click"],[1,"celebration-content",3,"click"],[1,"celebration-confetti"],[1,"confetti-particle",3,"--delay"],[1,"celebration-icon"],["viewBox","0 0 52 52",1,"checkmark"],["cx","26","cy","26","r","25","fill","none",1,"checkmark-circle"],["fill","none","d","M14.1 27.2l7.1 7.2 16.7-16.8",1,"checkmark-check"],["id","celebration-title",1,"celebration-title"],["aria-label","Continue to next section",1,"celebration-continue",3,"click"],[1,"confetti-particle"],[1,"celebration-section-name"],[1,"celebration-message"],[1,"sandbox-icon"],[1,"sandbox-text"],["role","tabpanel","id","tutorial-panel","aria-label","Tutorial progress",1,"progress-overview"],["role","progressbar","aria-valuemin","0","aria-valuemax","100",1,"progress-bar"],[1,"progress-fill"],["aria-hidden","true",1,"progress-text"],[1,"progress-stats"],[1,"stat"],[1,"stat-label"],[1,"stat-value"],["aria-label","Tutorial sections navigation",1,"sections"],[1,"section",3,"active"],[1,"accessibility-settings"],[1,"setting-item"],["type","checkbox","aria-label","Enable reduced motion mode",3,"change","checked"],["type","checkbox","aria-label","Enable screen reader optimizations",3,"change","checked"],["type","checkbox","aria-label","Enable keyboard-only navigation indicators",3,"change","checked"],[1,"accessibility-help"],["aria-label","Reset tutorial progress",1,"reset-button",3,"click"],[1,"section"],[1,"section-button",3,"click"],["aria-hidden","true",1,"section-name"],["aria-hidden","true",1,"section-progress"],[1,"steps"],[1,"step",3,"active","completed"],[1,"step",3,"click"],[1,"step-indicator"],[1,"checkmark"],[1,"number"],[1,"step-title"],[1,"points-display"],[1,"points-icon"],[1,"points-count"],[1,"quick-stats"],[1,"stat-card"],[1,"stat-icon"],[1,"stat-text"],[1,"metrics-section"],[1,"stat-card","performance-rating"],[1,"empty-state"],[1,"empty-icon"],[1,"skill-tree-preview"],[1,"preview-subtitle"],[1,"skill-nodes"],[1,"skill-node",3,"unlocked"],[1,"cta-button",3,"click"],[1,"restart-button",3,"click"],[1,"skill-node"],[1,"skill-icon"],[1,"skill-info"],[1,"skill-progress"],[1,"skill-level"],[1,"skill-cost"],[1,"achievement-preview"],[1,"achievements-preview-list"],[1,"preview-achievement",3,"unlocked"],[1,"step-content"],[1,"description"],[1,"action"],[1,"hints-section"],[1,"section-controls"],[1,"sandbox-toggle-button",3,"click"],[1,"sandbox-reset-button"],[1,"skip-section-button"],[1,"replay-section-button",3,"click"],[1,"navigation"],[1,"nav-button","previous",3,"click","disabled"],[1,"step-indicator-text"],[1,"nav-button","next",3,"click","disabled"],[1,"preview-achievement"],[1,"preview-icon"],[1,"preview-details"],[1,"preview-points"],[1,"unlocked-badge"],[1,"hints-toggle",3,"click"],[1,"hints"],[1,"sandbox-reset-button",3,"click"],[1,"skip-section-button",3,"click"],[1,"dashboard-overview"],[1,"overview-card"],[1,"progress-circle"],[1,"progress-percentage"],[1,"overview-stats"],[1,"overview-stat"],[1,"label"],[1,"value"],[1,"sections-dashboard"],[1,"section-card",3,"complete"],[1,"section-card"],[1,"section-header"],[1,"section-title"],[1,"mandatory-badge"],[1,"complete-badge"],[1,"section-percentage"],[1,"section-description"],[1,"section-progress-bar"],[1,"section-stats"],[1,"section-stat"],[1,"goto-section-button",3,"click"],[1,"milestones"],[1,"milestone"],[1,"achievement-list"],[1,"achievements-grid"],[1,"achievement","unlocked"],[1,"achievement","locked"],[1,"milestone-header"],[1,"milestone-progress"],[1,"progress-bar"],[1,"reward"],[1,"achievement-icon"],[1,"achievement-details"],[1,"achievement-points"],[1,"skill-description"],[1,"skills-grid"],[1,"skill-node",3,"unlocked","maxed"],[1,"skill-details"],[1,"skill-effect"],[1,"prerequisite"],[1,"upgrade-button",3,"click","disabled"],[1,"tips-header"],[1,"tips-subtitle"],[1,"tips-search-bar"],["type","text","placeholder","Search tips by keyword, command, or tag...",1,"search-input",3,"input","value"],["class","clear-search",3,"click",4,"ngIf"],[1,"tips-categories"],[1,"category-chip",3,"active","title"],[1,"tips-stats"],[1,"tips-section"],[1,"no-tips"],[1,"tips-grid"],[1,"clear-search",3,"click"],[1,"category-chip",3,"click","title"],[1,"category-count"],[1,"tip-card","bookmarked"],[1,"tip-header"],[1,"tip-title-row"],[1,"tip-title",3,"innerHTML"],["title","Remove bookmark",1,"bookmark-button","active",3,"click"],[1,"tip-category-badge"],[1,"tip-content",3,"innerHTML"],[1,"tip-tags"],[1,"tip-tag"],[1,"tip-related"],[1,"related-label"],[1,"related-tip"],[1,"reset-button",3,"click"],[1,"tip-card"],["title","Bookmark this tip",1,"bookmark-button",3,"click"],[1,"shortcuts-header"],[1,"shortcuts-description"],[1,"game-container"],[1,"mode-selection"],[1,"mode-card",3,"click"],[1,"mode-button"],[1,"shortcuts-stats"],[1,"stats-grid"],[1,"reset-button"],[1,"shortcuts-reference"],[1,"difficulty-sections"],[1,"difficulty-section"],[1,"shortcut-list"],[1,"shortcut-item"],[1,"shortcut-keys"],[1,"shortcut-description"],[1,"game-header"],[1,"game-info"],[1,"game-stat"],[1,"game-stat-label"],[1,"game-stat-value"],[1,"stop-button",3,"click"],[1,"challenge-card"],[1,"skip-button"],[1,"recent-attempts"],[1,"attempts-list"],[1,"attempt-item",3,"success","failure"],[1,"challenge-action"],[1,"challenge-description"],[1,"challenge-hint"],[1,"challenge-keys"],[1,"challenge-difficulty"],[1,"skip-button",3,"click"],[1,"attempt-item"],[1,"attempt-action"],[1,"attempt-time"],[1,"attempt-result"]],template:function(e,i){if(e&1&&(l(0,"div",0)(1,"div",1),v(2,Eg,1,1),d(),v(3,Tg,14,5,"div",2),Et(4,"async"),l(5,"aside",3)(6,"div",4)(7,"h2"),s(8,"Tutorial & Progress"),d(),v(9,kg,5,0,"div",5),l(10,"nav",6)(11,"button",7),S("click",function(){return i.switchView("tutorial")}),s(12," Tutorial "),d(),l(13,"button",8),S("click",function(){return i.switchView("progress")}),s(14," Progress "),d(),l(15,"button",9),S("click",function(){return i.switchView("achievements")}),s(16," Achievements "),d(),l(17,"button",10),S("click",function(){return i.switchView("skills")}),s(18," Skills "),d(),l(19,"button",11),S("click",function(){return i.switchView("tips")}),s(20," Quick Tips "),d(),l(21,"button",12),S("click",function(){return i.switchView("shortcuts")}),s(22," Shortcut Training "),d()()(),v(23,Fg,45,13),v(24,jg,6,1,"div",13),v(25,Ug,26,9,"div",14),v(26,$g,6,0,"div",15),d(),l(27,"main",16),v(28,ef,2,1),v(29,cf,36,8,"div",17),v(30,mf,19,2,"div",18),v(31,hf,8,0,"div",19),v(32,Df,35,8,"div",20),v(33,Yf,8,1,"div",21),d()()),e&2){let o,r;a(2),_((o=i.currentSection())?2:-1,o),a(),_((r=Ot(4,37,i.celebratingMilestone$))?3:-1,r),a(6),_(i.isSandboxActive()?9:-1),a(2),F("active",i.activeView()==="tutorial"),$("aria-selected",i.activeView()==="tutorial")("tabindex",i.activeView()==="tutorial"?0:-1),a(2),F("active",i.activeView()==="progress"),$("aria-selected",i.activeView()==="progress")("tabindex",i.activeView()==="progress"?0:-1),a(2),F("active",i.activeView()==="achievements"),$("aria-selected",i.activeView()==="achievements")("tabindex",i.activeView()==="achievements"?0:-1),a(2),F("active",i.activeView()==="skills"),$("aria-selected",i.activeView()==="skills")("tabindex",i.activeView()==="skills"?0:-1),a(2),F("active",i.activeView()==="tips"),$("aria-selected",i.activeView()==="tips")("tabindex",i.activeView()==="tips"?0:-1),a(2),F("active",i.activeView()==="shortcuts"),$("aria-selected",i.activeView()==="shortcuts")("tabindex",i.activeView()==="shortcuts"?0:-1),a(2),_(i.activeView()==="tutorial"?23:-1),a(),_(i.activeView()==="achievements"?24:-1),a(),_(i.activeView()==="progress"?25:-1),a(),_(i.activeView()==="skills"?26:-1),a(2),_(i.activeView()==="tutorial"?28:-1),a(),_(i.activeView()==="progress"?29:-1),a(),_(i.activeView()==="achievements"?30:-1),a(),_(i.activeView()==="skills"?31:-1),a(),_(i.activeView()==="tips"?32:-1),a(),_(i.activeView()==="shortcuts"?33:-1)}},dependencies:[ne,Da,Na],styles:['@charset "UTF-8";.tutorial[_ngcontent-%COMP%]{display:flex;height:100%;background:#f7f7f7;font-family:Ubuntu,sans-serif}.sidebar[_ngcontent-%COMP%]{width:280px;background:#fff;border-right:1px solid #e0e0e0;display:flex;flex-direction:column;overflow-y:auto}.sidebar[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{padding:20px;background:#f4f4f4;border-bottom:1px solid #e0e0e0}.sidebar[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0 0 15px;font-size:20px;color:#333}.sidebar[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .sandbox-indicator[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:10px 12px;background:#ffd93d;border-radius:6px;margin-bottom:15px;border:2px solid #ff9900}.sidebar[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .sandbox-indicator[_ngcontent-%COMP%]   .sandbox-icon[_ngcontent-%COMP%]{font-size:18px}.sidebar[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .sandbox-indicator[_ngcontent-%COMP%]   .sandbox-text[_ngcontent-%COMP%]{font-size:13px;font-weight:600;color:#333}.sidebar[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .view-tabs[_ngcontent-%COMP%]{display:flex;gap:5px;margin-bottom:15px}.sidebar[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .view-tabs[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]{flex:1;padding:8px 12px;background:#fff;border:1px solid #e0e0e0;border-radius:4px;cursor:pointer;font-size:13px}.sidebar[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .view-tabs[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]:hover{background:#f8f8f8}.sidebar[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .view-tabs[_ngcontent-%COMP%]   .tab.active[_ngcontent-%COMP%]{background:#e95420;color:#fff;border-color:#e95420}.sidebar[_ngcontent-%COMP%]   .progress-overview[_ngcontent-%COMP%]{padding:20px;border-bottom:1px solid #e0e0e0}.sidebar[_ngcontent-%COMP%]   .progress-overview[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 12px;font-size:14px;font-weight:600;color:#333}.sidebar[_ngcontent-%COMP%]   .progress-overview[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{height:8px;background:#e0e0e0;border-radius:4px;overflow:hidden;margin-bottom:8px}.sidebar[_ngcontent-%COMP%]   .progress-overview[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]   .progress-fill[_ngcontent-%COMP%]{height:100%;background:#e95420}.sidebar[_ngcontent-%COMP%]   .progress-overview[_ngcontent-%COMP%]   .progress-text[_ngcontent-%COMP%]{display:block;font-size:12px;color:#666;margin-bottom:15px}.sidebar[_ngcontent-%COMP%]   .progress-overview[_ngcontent-%COMP%]   .progress-stats[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:10px}.sidebar[_ngcontent-%COMP%]   .progress-overview[_ngcontent-%COMP%]   .progress-stats[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:12px 8px;background:#fff;border-radius:6px;border:1px solid #e0e0e0}.sidebar[_ngcontent-%COMP%]   .progress-overview[_ngcontent-%COMP%]   .progress-stats[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]   .stat-label[_ngcontent-%COMP%]{font-size:11px;color:#999;text-transform:uppercase;margin-bottom:4px}.sidebar[_ngcontent-%COMP%]   .progress-overview[_ngcontent-%COMP%]   .progress-stats[_ngcontent-%COMP%]   .stat[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:#e95420}.sidebar[_ngcontent-%COMP%]   .sections[_ngcontent-%COMP%]{flex:1;padding:10px 0}.sidebar[_ngcontent-%COMP%]   .section[_ngcontent-%COMP%]{margin-bottom:5px}.sidebar[_ngcontent-%COMP%]   .section.active[_ngcontent-%COMP%]   .section-button[_ngcontent-%COMP%]{background:#f0f0f0;color:#e95420}.sidebar[_ngcontent-%COMP%]   .section[_ngcontent-%COMP%]   .section-button[_ngcontent-%COMP%]{width:100%;padding:12px 20px;background:none;border:none;display:flex;justify-content:space-between;align-items:center;cursor:pointer;text-align:left}.sidebar[_ngcontent-%COMP%]   .section[_ngcontent-%COMP%]   .section-button[_ngcontent-%COMP%]:hover{background:#f8f8f8}.sidebar[_ngcontent-%COMP%]   .section[_ngcontent-%COMP%]   .section-button[_ngcontent-%COMP%]   .section-name[_ngcontent-%COMP%]{font-weight:500;color:#333}.sidebar[_ngcontent-%COMP%]   .section[_ngcontent-%COMP%]   .section-button[_ngcontent-%COMP%]   .section-progress[_ngcontent-%COMP%]{font-size:12px;color:#999}.sidebar[_ngcontent-%COMP%]   .section[_ngcontent-%COMP%]   .steps[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.sidebar[_ngcontent-%COMP%]   .section[_ngcontent-%COMP%]   .steps[_ngcontent-%COMP%]   .step[_ngcontent-%COMP%]{padding:10px 20px 10px 40px;display:flex;align-items:center;gap:10px;cursor:pointer;transition:background .2s}.sidebar[_ngcontent-%COMP%]   .section[_ngcontent-%COMP%]   .steps[_ngcontent-%COMP%]   .step[_ngcontent-%COMP%]:hover{background:#f8f8f8}.sidebar[_ngcontent-%COMP%]   .section[_ngcontent-%COMP%]   .steps[_ngcontent-%COMP%]   .step.active[_ngcontent-%COMP%]{background:#fef5f1;color:#e95420;font-weight:500}.sidebar[_ngcontent-%COMP%]   .section[_ngcontent-%COMP%]   .steps[_ngcontent-%COMP%]   .step.completed[_ngcontent-%COMP%]   .step-indicator[_ngcontent-%COMP%]{background:#38a169;color:#fff}.sidebar[_ngcontent-%COMP%]   .section[_ngcontent-%COMP%]   .steps[_ngcontent-%COMP%]   .step[_ngcontent-%COMP%]   .step-indicator[_ngcontent-%COMP%]{width:24px;height:24px;border-radius:50%;background:#e0e0e0;display:flex;align-items:center;justify-content:center;font-size:12px;flex-shrink:0}.sidebar[_ngcontent-%COMP%]   .section[_ngcontent-%COMP%]   .steps[_ngcontent-%COMP%]   .step[_ngcontent-%COMP%]   .step-indicator[_ngcontent-%COMP%]   .checkmark[_ngcontent-%COMP%]{font-weight:700}.sidebar[_ngcontent-%COMP%]   .section[_ngcontent-%COMP%]   .steps[_ngcontent-%COMP%]   .step[_ngcontent-%COMP%]   .step-indicator[_ngcontent-%COMP%]   .number[_ngcontent-%COMP%]{color:#666}.sidebar[_ngcontent-%COMP%]   .section[_ngcontent-%COMP%]   .steps[_ngcontent-%COMP%]   .step[_ngcontent-%COMP%]   .step-title[_ngcontent-%COMP%]{font-size:14px;color:#555}.sidebar[_ngcontent-%COMP%]   .section[_ngcontent-%COMP%]   .steps[_ngcontent-%COMP%]   .step.active[_ngcontent-%COMP%]   .step-title[_ngcontent-%COMP%]{color:#e95420}.sidebar[_ngcontent-%COMP%]   .sr-only[_ngcontent-%COMP%]{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);border:0}@media (prefers-reduced-motion: reduce){.sidebar[_ngcontent-%COMP%]   .tutorial[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{animation:none!important;transition:none!important}}.sidebar[_ngcontent-%COMP%]   .accessibility-settings[_ngcontent-%COMP%]{padding:20px;background:#ffffff0d;border-radius:8px;margin:20px 0}.sidebar[_ngcontent-%COMP%]   .accessibility-settings[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 12px;font-size:14px;font-weight:600;color:#e95420}.sidebar[_ngcontent-%COMP%]   .accessibility-settings[_ngcontent-%COMP%]   .setting-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:8px 0;cursor:pointer}.sidebar[_ngcontent-%COMP%]   .accessibility-settings[_ngcontent-%COMP%]   .setting-item[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{cursor:pointer;width:16px;height:16px}.sidebar[_ngcontent-%COMP%]   .accessibility-settings[_ngcontent-%COMP%]   .setting-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:13px;color:#ddd}.sidebar[_ngcontent-%COMP%]   .accessibility-settings[_ngcontent-%COMP%]   .setting-item[_ngcontent-%COMP%]:hover   span[_ngcontent-%COMP%]{color:#fff}.sidebar[_ngcontent-%COMP%]   .reset-button[_ngcontent-%COMP%], .sidebar[_ngcontent-%COMP%]   .restart-button[_ngcontent-%COMP%]{margin:10px 20px 20px;padding:10px;background:#fff;border:1px solid #e0e0e0;border-radius:4px;cursor:pointer}.sidebar[_ngcontent-%COMP%]   .reset-button[_ngcontent-%COMP%]:hover, .sidebar[_ngcontent-%COMP%]   .restart-button[_ngcontent-%COMP%]:hover{background:#f8f8f8;border-color:#ccc}.sidebar[_ngcontent-%COMP%]   .achievements-sidebar[_ngcontent-%COMP%], .sidebar[_ngcontent-%COMP%]   .skills-sidebar[_ngcontent-%COMP%]{flex:1;padding:20px}.sidebar[_ngcontent-%COMP%]   .achievements-sidebar[_ngcontent-%COMP%]   .points-display[_ngcontent-%COMP%], .sidebar[_ngcontent-%COMP%]   .skills-sidebar[_ngcontent-%COMP%]   .points-display[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;padding:15px;background:#667eea;color:#fff;border-radius:8px;margin-bottom:20px}.sidebar[_ngcontent-%COMP%]   .achievements-sidebar[_ngcontent-%COMP%]   .points-display[_ngcontent-%COMP%]   .points-icon[_ngcontent-%COMP%], .sidebar[_ngcontent-%COMP%]   .skills-sidebar[_ngcontent-%COMP%]   .points-display[_ngcontent-%COMP%]   .points-icon[_ngcontent-%COMP%]{font-size:24px}.sidebar[_ngcontent-%COMP%]   .achievements-sidebar[_ngcontent-%COMP%]   .points-display[_ngcontent-%COMP%]   .points-count[_ngcontent-%COMP%], .sidebar[_ngcontent-%COMP%]   .skills-sidebar[_ngcontent-%COMP%]   .points-display[_ngcontent-%COMP%]   .points-count[_ngcontent-%COMP%]{font-size:18px;font-weight:600}.sidebar[_ngcontent-%COMP%]   .progress-sidebar[_ngcontent-%COMP%]{padding:20px}.sidebar[_ngcontent-%COMP%]   .progress-sidebar[_ngcontent-%COMP%]   .quick-stats[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 15px;font-size:14px;color:#666;font-weight:600}.sidebar[_ngcontent-%COMP%]   .progress-sidebar[_ngcontent-%COMP%]   .quick-stats[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:12px;background:#fff;border:1px solid #e0e0e0;border-radius:6px;margin-bottom:10px}.sidebar[_ngcontent-%COMP%]   .progress-sidebar[_ngcontent-%COMP%]   .quick-stats[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{font-size:20px}.sidebar[_ngcontent-%COMP%]   .progress-sidebar[_ngcontent-%COMP%]   .quick-stats[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-text[_ngcontent-%COMP%]{font-size:13px;color:#333;font-weight:500}.sidebar[_ngcontent-%COMP%]   .progress-dashboard[_ngcontent-%COMP%]{padding:40px}.sidebar[_ngcontent-%COMP%]   .progress-dashboard[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0 0 30px;font-size:32px;color:#333}.sidebar[_ngcontent-%COMP%]   .progress-dashboard[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:30px 0 20px;font-size:24px;color:#333}.sidebar[_ngcontent-%COMP%]   .progress-dashboard[_ngcontent-%COMP%]   .dashboard-overview[_ngcontent-%COMP%]   .overview-card[_ngcontent-%COMP%]{background:#667eea;border-radius:12px;padding:30px;color:#fff;margin-bottom:40px}.sidebar[_ngcontent-%COMP%]   .progress-dashboard[_ngcontent-%COMP%]   .dashboard-overview[_ngcontent-%COMP%]   .overview-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 20px;font-size:20px}.sidebar[_ngcontent-%COMP%]   .progress-dashboard[_ngcontent-%COMP%]   .dashboard-overview[_ngcontent-%COMP%]   .overview-card[_ngcontent-%COMP%]   .progress-circle[_ngcontent-%COMP%]{width:120px;height:120px;margin:0 auto 30px;border-radius:50%;background:#fff3;display:flex;align-items:center;justify-content:center}.sidebar[_ngcontent-%COMP%]   .progress-dashboard[_ngcontent-%COMP%]   .dashboard-overview[_ngcontent-%COMP%]   .overview-card[_ngcontent-%COMP%]   .progress-circle[_ngcontent-%COMP%]   .progress-percentage[_ngcontent-%COMP%]{font-size:36px;font-weight:700}.sidebar[_ngcontent-%COMP%]   .progress-dashboard[_ngcontent-%COMP%]   .dashboard-overview[_ngcontent-%COMP%]   .overview-card[_ngcontent-%COMP%]   .overview-stats[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:15px}.sidebar[_ngcontent-%COMP%]   .progress-dashboard[_ngcontent-%COMP%]   .dashboard-overview[_ngcontent-%COMP%]   .overview-card[_ngcontent-%COMP%]   .overview-stats[_ngcontent-%COMP%]   .overview-stat[_ngcontent-%COMP%]{padding:12px;background:#ffffff26;border-radius:6px}.sidebar[_ngcontent-%COMP%]   .progress-dashboard[_ngcontent-%COMP%]   .sections-dashboard[_ngcontent-%COMP%]   .section-card[_ngcontent-%COMP%]{background:#fff;border:2px solid #e0e0e0;border-radius:8px;padding:24px;margin-bottom:20px}.sidebar[_ngcontent-%COMP%]   .progress-dashboard[_ngcontent-%COMP%]   .sections-dashboard[_ngcontent-%COMP%]   .section-card.complete[_ngcontent-%COMP%]{border-color:#4caf50}.sidebar[_ngcontent-%COMP%]   .progress-dashboard[_ngcontent-%COMP%]   .sections-dashboard[_ngcontent-%COMP%]   .section-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 15px;font-size:20px;color:#333}.sidebar[_ngcontent-%COMP%]   .progress-dashboard[_ngcontent-%COMP%]   .sections-dashboard[_ngcontent-%COMP%]   .section-card[_ngcontent-%COMP%]   .mandatory-badge[_ngcontent-%COMP%], .sidebar[_ngcontent-%COMP%]   .progress-dashboard[_ngcontent-%COMP%]   .sections-dashboard[_ngcontent-%COMP%]   .section-card[_ngcontent-%COMP%]   .complete-badge[_ngcontent-%COMP%]{padding:4px 12px;color:#fff;border-radius:4px;font-size:11px}.sidebar[_ngcontent-%COMP%]   .progress-dashboard[_ngcontent-%COMP%]   .sections-dashboard[_ngcontent-%COMP%]   .section-card[_ngcontent-%COMP%]   .mandatory-badge[_ngcontent-%COMP%]{background:#ff9800}.sidebar[_ngcontent-%COMP%]   .progress-dashboard[_ngcontent-%COMP%]   .sections-dashboard[_ngcontent-%COMP%]   .section-card[_ngcontent-%COMP%]   .complete-badge[_ngcontent-%COMP%]{background:#4caf50}.sidebar[_ngcontent-%COMP%]   .progress-dashboard[_ngcontent-%COMP%]   .sections-dashboard[_ngcontent-%COMP%]   .section-card[_ngcontent-%COMP%]   .section-progress-bar[_ngcontent-%COMP%]{height:12px;background:#f0f0f0;border-radius:6px;overflow:hidden;margin-bottom:15px}.sidebar[_ngcontent-%COMP%]   .progress-dashboard[_ngcontent-%COMP%]   .sections-dashboard[_ngcontent-%COMP%]   .section-card[_ngcontent-%COMP%]   .section-progress-bar[_ngcontent-%COMP%]   .progress-fill[_ngcontent-%COMP%]{height:100%;background:#667eea}.sidebar[_ngcontent-%COMP%]   .progress-dashboard[_ngcontent-%COMP%]   .sections-dashboard[_ngcontent-%COMP%]   .section-card[_ngcontent-%COMP%]   .goto-section-button[_ngcontent-%COMP%]{padding:10px 20px;background:#e95420;color:#fff;border:none;border-radius:6px;cursor:pointer}.sidebar[_ngcontent-%COMP%]   .progress-dashboard[_ngcontent-%COMP%]   .sections-dashboard[_ngcontent-%COMP%]   .section-card[_ngcontent-%COMP%]   .goto-section-button[_ngcontent-%COMP%]:hover{background:#d64813}.sidebar[_ngcontent-%COMP%]   .tips-view[_ngcontent-%COMP%]{padding:30px 40px}.sidebar[_ngcontent-%COMP%]   .tips-view[_ngcontent-%COMP%]   .tips-header[_ngcontent-%COMP%]{margin-bottom:30px;text-align:center}.sidebar[_ngcontent-%COMP%]   .tips-view[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0 0 8px;font-size:32px;color:#333}.sidebar[_ngcontent-%COMP%]   .tips-view[_ngcontent-%COMP%]   .tips-search-bar[_ngcontent-%COMP%]{margin-bottom:20px}.sidebar[_ngcontent-%COMP%]   .tips-view[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]{width:100%;padding:12px;border:2px solid #e0e0e0;border-radius:8px}.sidebar[_ngcontent-%COMP%]   .tips-view[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#667eea}.sidebar[_ngcontent-%COMP%]   .tips-view[_ngcontent-%COMP%]   .tips-categories[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:10px;margin-bottom:20px}.sidebar[_ngcontent-%COMP%]   .tips-view[_ngcontent-%COMP%]   .category-chip[_ngcontent-%COMP%]{padding:8px 16px;background:#fff;border:2px solid #e0e0e0;border-radius:20px;cursor:pointer}.sidebar[_ngcontent-%COMP%]   .tips-view[_ngcontent-%COMP%]   .category-chip[_ngcontent-%COMP%]:hover{border-color:#667eea}.sidebar[_ngcontent-%COMP%]   .tips-view[_ngcontent-%COMP%]   .category-chip.active[_ngcontent-%COMP%]{background:#667eea;color:#fff}.sidebar[_ngcontent-%COMP%]   .tips-view[_ngcontent-%COMP%]   .tips-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(350px,1fr));gap:20px}.sidebar[_ngcontent-%COMP%]   .tips-view[_ngcontent-%COMP%]   .tip-card[_ngcontent-%COMP%]{background:#fff;border:2px solid #e0e0e0;border-radius:12px;padding:20px}.sidebar[_ngcontent-%COMP%]   .tips-view[_ngcontent-%COMP%]   .tip-card[_ngcontent-%COMP%]:hover{border-color:#667eea}.sidebar[_ngcontent-%COMP%]   .tips-view[_ngcontent-%COMP%]   .tip-card.bookmarked[_ngcontent-%COMP%]{border-color:#ffc107}.sidebar[_ngcontent-%COMP%]   .tips-view[_ngcontent-%COMP%]   .tip-card[_ngcontent-%COMP%]   .tip-title[_ngcontent-%COMP%]{margin:0 0 12px;font-size:18px}.sidebar[_ngcontent-%COMP%]   .tips-view[_ngcontent-%COMP%]   .tip-card[_ngcontent-%COMP%]   .tip-content[_ngcontent-%COMP%]{margin:0 0 12px;font-size:14px}.sidebar[_ngcontent-%COMP%]   .tips-view[_ngcontent-%COMP%]   .tip-card[_ngcontent-%COMP%]   .bookmark-button[_ngcontent-%COMP%]{background:none;border:none;font-size:24px;color:#ccc;cursor:pointer}.sidebar[_ngcontent-%COMP%]   .tips-view[_ngcontent-%COMP%]   .tip-card[_ngcontent-%COMP%]   .bookmark-button[_ngcontent-%COMP%]:hover, .sidebar[_ngcontent-%COMP%]   .tips-view[_ngcontent-%COMP%]   .tip-card[_ngcontent-%COMP%]   .bookmark-button.active[_ngcontent-%COMP%]{color:#ffc107}.sidebar[_ngcontent-%COMP%]   .shortcuts-training[_ngcontent-%COMP%]{padding:30px}.sidebar[_ngcontent-%COMP%]   .shortcuts-training[_ngcontent-%COMP%]   .mode-selection[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:20px;margin-bottom:40px}.sidebar[_ngcontent-%COMP%]   .shortcuts-training[_ngcontent-%COMP%]   .mode-card[_ngcontent-%COMP%]{background:#fff;border:2px solid #e0e0e0;border-radius:8px;padding:24px;cursor:pointer;text-align:center}.sidebar[_ngcontent-%COMP%]   .shortcuts-training[_ngcontent-%COMP%]   .mode-card[_ngcontent-%COMP%]:hover{border-color:#e95420}.sidebar[_ngcontent-%COMP%]   .shortcuts-training[_ngcontent-%COMP%]   .mode-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px;margin-bottom:12px}.sidebar[_ngcontent-%COMP%]   .shortcuts-training[_ngcontent-%COMP%]   .mode-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;margin-bottom:20px}.sidebar[_ngcontent-%COMP%]   .shortcuts-training[_ngcontent-%COMP%]   .mode-card[_ngcontent-%COMP%]   .mode-button[_ngcontent-%COMP%]{width:100%;padding:12px;background:#e95420;color:#fff;border:none;border-radius:4px;cursor:pointer}.sidebar[_ngcontent-%COMP%]   .shortcuts-training[_ngcontent-%COMP%]   .mode-card[_ngcontent-%COMP%]   .mode-button[_ngcontent-%COMP%]:hover{background:#d64813}.sidebar[_ngcontent-%COMP%]   .shortcuts-training[_ngcontent-%COMP%]   .game-container[_ngcontent-%COMP%]{background:#fff;border:2px solid #e95420;border-radius:8px;padding:32px}.sidebar[_ngcontent-%COMP%]   .shortcuts-training[_ngcontent-%COMP%]   .challenge-card[_ngcontent-%COMP%]{background:#667eea;color:#fff;padding:48px;border-radius:12px;text-align:center;margin-bottom:24px}.sidebar[_ngcontent-%COMP%]   .shortcuts-training[_ngcontent-%COMP%]   .challenge-card[_ngcontent-%COMP%]   .challenge-action[_ngcontent-%COMP%]{font-size:32px;font-weight:700}.sidebar[_ngcontent-%COMP%]   .shortcuts-training[_ngcontent-%COMP%]   .challenge-card[_ngcontent-%COMP%]   .challenge-keys[_ngcontent-%COMP%]{font-family:monospace;font-size:48px;background:#fff3;padding:20px 40px;border-radius:8px}.celebration-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000080;display:flex;align-items:center;justify-content:center;z-index:10000}.celebration-content[_ngcontent-%COMP%]{background:#fff;border-radius:16px;padding:48px;max-width:500px;text-align:center}.celebration-content[_ngcontent-%COMP%]   .celebration-icon[_ngcontent-%COMP%]{margin:0 auto 24px;width:100px;height:100px}.celebration-content[_ngcontent-%COMP%]   .celebration-icon[_ngcontent-%COMP%]   .checkmark[_ngcontent-%COMP%]{width:100px;height:100px;border-radius:50%;stroke:#e95420;fill:none}.celebration-content[_ngcontent-%COMP%]   .celebration-title[_ngcontent-%COMP%]{margin:0 0 12px;font-size:32px;font-weight:700;color:#333}.celebration-content[_ngcontent-%COMP%]   .celebration-section-name[_ngcontent-%COMP%]{margin:0 0 8px;font-size:20px;font-weight:600;color:#e95420}.celebration-content[_ngcontent-%COMP%]   .celebration-message[_ngcontent-%COMP%]{margin:0 0 32px;font-size:16px;color:#666}.celebration-content[_ngcontent-%COMP%]   .celebration-continue[_ngcontent-%COMP%]{padding:14px 40px;background:#e95420;color:#fff;border:none;border-radius:8px;font-size:16px;font-weight:600;cursor:pointer}.celebration-content[_ngcontent-%COMP%]   .celebration-continue[_ngcontent-%COMP%]:hover{background:#d64813}.content[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;overflow-y:auto}.content[_ngcontent-%COMP%]   .achievements-content[_ngcontent-%COMP%], .content[_ngcontent-%COMP%]   .skills-content[_ngcontent-%COMP%]{flex:1;padding:40px}.content[_ngcontent-%COMP%]   .achievements-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], .content[_ngcontent-%COMP%]   .skills-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0 0 30px;font-size:32px}.content[_ngcontent-%COMP%]   .achievements-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .content[_ngcontent-%COMP%]   .skills-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:30px 0 15px;font-size:22px}.content[_ngcontent-%COMP%]   .achievements-content[_ngcontent-%COMP%]   .achievements-grid[_ngcontent-%COMP%], .content[_ngcontent-%COMP%]   .achievements-content[_ngcontent-%COMP%]   .skills-grid[_ngcontent-%COMP%], .content[_ngcontent-%COMP%]   .skills-content[_ngcontent-%COMP%]   .achievements-grid[_ngcontent-%COMP%], .content[_ngcontent-%COMP%]   .skills-content[_ngcontent-%COMP%]   .skills-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:15px}.content[_ngcontent-%COMP%]   .achievements-content[_ngcontent-%COMP%]   .achievement[_ngcontent-%COMP%], .content[_ngcontent-%COMP%]   .achievements-content[_ngcontent-%COMP%]   .skill-node[_ngcontent-%COMP%], .content[_ngcontent-%COMP%]   .skills-content[_ngcontent-%COMP%]   .achievement[_ngcontent-%COMP%], .content[_ngcontent-%COMP%]   .skills-content[_ngcontent-%COMP%]   .skill-node[_ngcontent-%COMP%]{display:flex;gap:15px;padding:15px;background:#fff;border-radius:8px;border:2px solid #e0e0e0}.content[_ngcontent-%COMP%]   .achievements-content[_ngcontent-%COMP%]   .achievement.locked[_ngcontent-%COMP%], .content[_ngcontent-%COMP%]   .skills-content[_ngcontent-%COMP%]   .achievement.locked[_ngcontent-%COMP%]{opacity:.5}.content[_ngcontent-%COMP%]   .achievements-content[_ngcontent-%COMP%]   .skill-node.unlocked[_ngcontent-%COMP%], .content[_ngcontent-%COMP%]   .skills-content[_ngcontent-%COMP%]   .skill-node.unlocked[_ngcontent-%COMP%]{border-color:#e95420}.content[_ngcontent-%COMP%]   .achievements-content[_ngcontent-%COMP%]   .skill-node.maxed[_ngcontent-%COMP%], .content[_ngcontent-%COMP%]   .skills-content[_ngcontent-%COMP%]   .skill-node.maxed[_ngcontent-%COMP%]{border-color:#38a169}.content[_ngcontent-%COMP%]   .achievements-content[_ngcontent-%COMP%]   .achievement-icon[_ngcontent-%COMP%], .content[_ngcontent-%COMP%]   .achievements-content[_ngcontent-%COMP%]   .skill-icon[_ngcontent-%COMP%], .content[_ngcontent-%COMP%]   .skills-content[_ngcontent-%COMP%]   .achievement-icon[_ngcontent-%COMP%], .content[_ngcontent-%COMP%]   .skills-content[_ngcontent-%COMP%]   .skill-icon[_ngcontent-%COMP%]{font-size:32px}.content[_ngcontent-%COMP%]   .achievements-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .content[_ngcontent-%COMP%]   .skills-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 5px;font-size:16px}.content[_ngcontent-%COMP%]   .achievements-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .content[_ngcontent-%COMP%]   .skills-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:13px}.content[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:4rem 2rem;min-height:400px}.content[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]{font-size:5rem;opacity:.8}.content[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.5rem}.content[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:1rem}.content[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .cta-button[_ngcontent-%COMP%]{padding:12px 24px;background-color:#e95420;color:#fff;border:none;border-radius:4px;cursor:pointer}.content[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .cta-button[_ngcontent-%COMP%]:hover{background-color:#d64813}.content[_ngcontent-%COMP%]   .step-content[_ngcontent-%COMP%]{flex:1;padding:40px;max-width:800px}.content[_ngcontent-%COMP%]   .step-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0 0 20px;font-size:32px}.content[_ngcontent-%COMP%]   .step-content[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{font-size:16px;line-height:1.6;margin-bottom:20px}.content[_ngcontent-%COMP%]   .step-content[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%]{padding:15px;background:#fff3cd;border-left:4px solid #e95420;margin-bottom:20px;border-radius:4px}.content[_ngcontent-%COMP%]   .step-content[_ngcontent-%COMP%]   .hints-section[_ngcontent-%COMP%]{margin-top:30px}.content[_ngcontent-%COMP%]   .step-content[_ngcontent-%COMP%]   .hints-section[_ngcontent-%COMP%]   .hints-toggle[_ngcontent-%COMP%]{padding:10px 20px;background:#e95420;color:#fff;border:none;border-radius:4px;cursor:pointer}.content[_ngcontent-%COMP%]   .step-content[_ngcontent-%COMP%]   .hints-section[_ngcontent-%COMP%]   .hints-toggle[_ngcontent-%COMP%]:hover{background:#d64813}.content[_ngcontent-%COMP%]   .step-content[_ngcontent-%COMP%]   .hints-section[_ngcontent-%COMP%]   .hints[_ngcontent-%COMP%]{margin-top:15px;padding:20px;background:#fff;border:1px solid #e0e0e0;border-radius:4px;list-style:none}.content[_ngcontent-%COMP%]   .step-content[_ngcontent-%COMP%]   .hints-section[_ngcontent-%COMP%]   .hints[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:8px 0 8px 24px;position:relative}.content[_ngcontent-%COMP%]   .step-content[_ngcontent-%COMP%]   .hints-section[_ngcontent-%COMP%]   .hints[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:before{content:"\\1f4a1";position:absolute;left:0}.content[_ngcontent-%COMP%]   .step-content[_ngcontent-%COMP%]   .section-controls[_ngcontent-%COMP%]{display:flex;gap:12px;margin-top:30px}.content[_ngcontent-%COMP%]   .step-content[_ngcontent-%COMP%]   .section-controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px 20px;border:none;border-radius:4px;cursor:pointer}.content[_ngcontent-%COMP%]   .step-content[_ngcontent-%COMP%]   .section-controls[_ngcontent-%COMP%]   .skip-section-button[_ngcontent-%COMP%]{background:#f0f0f0;border:1px solid #e0e0e0}.content[_ngcontent-%COMP%]   .step-content[_ngcontent-%COMP%]   .section-controls[_ngcontent-%COMP%]   .skip-section-button[_ngcontent-%COMP%]:hover{background:#e0e0e0}.content[_ngcontent-%COMP%]   .step-content[_ngcontent-%COMP%]   .section-controls[_ngcontent-%COMP%]   .sandbox-toggle-button[_ngcontent-%COMP%]{background:#ffd93d;border:2px solid #ff9900}.content[_ngcontent-%COMP%]   .step-content[_ngcontent-%COMP%]   .section-controls[_ngcontent-%COMP%]   .sandbox-toggle-button[_ngcontent-%COMP%]:hover{background:#ffb100}.content[_ngcontent-%COMP%]   .navigation[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:20px 40px;background:#fff;border-top:1px solid #e0e0e0}.content[_ngcontent-%COMP%]   .navigation[_ngcontent-%COMP%]   .step-indicator-text[_ngcontent-%COMP%]{font-size:14px;color:#666}.content[_ngcontent-%COMP%]   .navigation[_ngcontent-%COMP%]   .nav-button[_ngcontent-%COMP%]{padding:10px 24px;background:#e95420;color:#fff;border:none;border-radius:4px;cursor:pointer}.content[_ngcontent-%COMP%]   .navigation[_ngcontent-%COMP%]   .nav-button[_ngcontent-%COMP%]:hover:not(:disabled){background:#d64813}.content[_ngcontent-%COMP%]   .navigation[_ngcontent-%COMP%]   .nav-button[_ngcontent-%COMP%]:disabled{background:#ccc;cursor:not-allowed}.content[_ngcontent-%COMP%]   .navigation[_ngcontent-%COMP%]   .nav-button.previous[_ngcontent-%COMP%]{background:#fff;color:#e95420;border:1px solid #e95420}.content[_ngcontent-%COMP%]   .navigation[_ngcontent-%COMP%]   .nav-button.previous[_ngcontent-%COMP%]:hover:not(:disabled){background:#fef5f1}']})};var uo=class n{keybindings=P(new Map);registerKeybinding(t,e,i){let o=this.normalizeKeys(e),r=Array.from(this.keybindings().values()).find(c=>this.normalizeKeys(c.keys)===o);r&&r.action!==t&&console.warn(`Keybinding conflict: ${e} is already bound to ${r.action}`),this.keybindings.update(c=>{let p=new Map(c);return p.set(t,{action:t,keys:e,handler:i}),p})}unregisterKeybinding(t){this.keybindings.update(e=>{let i=new Map(e);return i.delete(t),i})}handleKeyEvent(t){let e=this.getKeysFromEvent(t);for(let i of this.keybindings().values()){let o=this.normalizeKeys(i.keys);if(e===o)return t.preventDefault(),i.handler(),!0}return!1}getKeysFromEvent(t){let e=[];t.ctrlKey&&e.push("Ctrl"),t.altKey&&e.push("Alt"),t.shiftKey&&e.push("Shift"),t.metaKey&&e.push("Super");let i=t.key;return i==="ArrowUp"?e.push("Up"):i==="ArrowDown"?e.push("Down"):i==="Delete"?e.push("Delete"):i.startsWith("F")&&i.length>=2?e.push(i):i==="PrintScreen"?e.push("Print Screen"):["Control","Alt","Shift","Meta"].includes(i)||e.push(i.toUpperCase()),this.normalizeKeys(e.join("+"))}normalizeKeys(t){return t.split("+").map(e=>e.trim()).filter(e=>e.length>0).map(e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()).sort().join("+")}getKeybindings(){return Array.from(this.keybindings().values())}hasConflicts(){let t=new Map;for(let e of this.keybindings().values()){let i=this.normalizeKeys(e.keys);t.has(i)||t.set(i,[]),t.get(i).push(e.action)}return Array.from(t.values()).some(e=>e.length>1)}getConflicts(){let t=new Map;for(let e of this.keybindings().values()){let i=this.normalizeKeys(e.keys);t.has(i)||t.set(i,[]),t.get(i).push(e.action)}return Array.from(t.entries()).filter(([e,i])=>i.length>1).map(([e,i])=>({keys:e,actions:i}))}static \u0275fac=function(e){return new(e||n)};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})};function Zf(n,t){if(n&1){let e=D();l(0,"app-login",0),S("login",function(o){E(e);let r=u();return O(r.onLogin(o))}),d()}}function Xf(n,t){if(n&1){let e=D();l(0,"a",1),s(1,"Skip to main content"),d(),N(2,"app-desktop",2)(3,"app-window-manager"),l(4,"app-taskbar",3),S("logout",function(){E(e);let o=u();return O(o.onLogout())})("missionClick",function(){E(e);let o=u();return O(o.onMissionClick())})("helpClick",function(){E(e);let o=u();return O(o.onHelpClick())}),d(),N(5,"app-notification")}if(n&2){let e,i=u();a(4),z("username",((e=i.authService.user())==null?null:e.username)||"")}}var mo=class n{desktop;windowManager;taskbar;authService=b(ns);fileSystem=b(Tt);saveService=b(Qa);keybindingService=b(uo);missionService=b(Ae);dailyTipService=b(Xt);dialogService=b(rt);store=b(Ee);title=P("webos");isAuthenticated=this.authService.isAuthenticated;missionExpiryInterval;ngAfterViewInit(){this.setupDesktopIcons(),this.setupLauncherApps(),this.setupKeybindings(),this.startMissionExpiryTimer()}ngOnDestroy(){this.missionExpiryInterval&&clearInterval(this.missionExpiryInterval)}startMissionExpiryTimer(){this.missionExpiryInterval=window.setInterval(()=>{this.isAuthenticated()&&this.missionService.checkExpiredMissions()},6e4)}onKeyDown(t){this.isAuthenticated()&&this.keybindingService.handleKeyEvent(t)}setupDesktopIcons(){this.desktop&&this.windowManager&&(this.desktop.setWindowManager(this.windowManager),this.desktop.addIcon("Terminal","terminal",()=>{this.windowManager.openWindow("Terminal",hi,800,600,"terminal")}),this.desktop.addIcon("Email","mail",()=>{this.windowManager.openWindow("Email",Zn,800,600,"mail")}),this.desktop.addIcon("Network","network",()=>{this.windowManager.openWindow("Network",Kn,900,700,"grid")}),this.desktop.addIcon("Files","folder",()=>{this.windowManager.openWindow("Files",gi,700,500,"folder")}),this.desktop.addIcon("Text Editor","edit",()=>{this.windowManager.openWindow("Text Editor",fi,700,500,"file")}),this.desktop.addIcon("Tasks","chart-bar",()=>{this.windowManager.openWindow("Tasks",en,800,600,"list")}),this.desktop.addIcon("Missions","mission",()=>{this.windowManager.openWindow("Missions",Jt,900,700,"mission")}),this.desktop.addIcon("Shop","shopping-cart",()=>{this.windowManager.openWindow("Shop",Xn,700,600,"home")}),this.desktop.addIcon("Tutorial","book",()=>{this.windowManager.openWindow("Tutorial",bt,800,600,"search")}),this.desktop.addIcon("Settings","settings",()=>{this.windowManager.openWindow("Settings",Oo,800,600,"settings")}))}setupLauncherApps(){this.taskbar&&this.windowManager&&(this.taskbar.registerLauncherApp("Terminal","terminal",()=>{this.windowManager.openWindow("Terminal",hi,800,600,"terminal")},"Ctrl+Alt+T"),this.taskbar.registerLauncherApp("Email","mail",()=>{this.windowManager.openWindow("Email",Zn,800,600,"mail")}),this.taskbar.registerLauncherApp("Network","activity",()=>{this.windowManager.openWindow("Network",Kn,900,700,"activity")}),this.taskbar.registerLauncherApp("Files","folder",()=>{this.windowManager.openWindow("Files",gi,700,500,"folder")},"Win+E"),this.taskbar.registerLauncherApp("Text Editor","edit",()=>{this.windowManager.openWindow("Text Editor",fi,700,500,"edit")},"Ctrl+Alt+E"),this.taskbar.registerLauncherApp("Tasks","cpu",()=>{this.windowManager.openWindow("Tasks",en,800,600,"cpu")},"Ctrl+Alt+Del"),this.taskbar.registerLauncherApp("Missions","mission",()=>{this.windowManager.openWindow("Missions",Jt,900,700,"mission")}),this.taskbar.registerLauncherApp("Shop","shopping-cart",()=>{this.windowManager.openWindow("Shop",Xn,700,600,"shopping-cart")}),this.taskbar.registerLauncherApp("Tutorial","book",()=>{this.windowManager.openWindow("Tutorial",bt,800,600,"book")}),this.taskbar.registerLauncherApp("Settings","settings",()=>{this.windowManager.openWindow("Settings",Oo,800,600,"settings")}))}setupKeybindings(){this.windowManager&&(this.keybindingService.registerKeybinding("Open Terminal","Ctrl+Alt+T",()=>{this.windowManager.openWindow("Terminal",hi,800,600,"terminal")}),this.keybindingService.registerKeybinding("Open File Manager","Super+E",()=>{this.windowManager.openWindow("File Manager",gi,700,500,"folder")}),this.keybindingService.registerKeybinding("Open Text Editor","Ctrl+Alt+E",()=>{this.windowManager.openWindow("Text Editor",fi,700,500,"file")}),this.keybindingService.registerKeybinding("Open Task Manager","Ctrl+Alt+Delete",()=>{this.windowManager.openWindow("Task Manager",en,800,600,"list")}),this.keybindingService.registerKeybinding("Close Window","Alt+F4",()=>{this.windowManager.closeFocusedWindow()}),this.keybindingService.registerKeybinding("Maximize Window","Super+Up",()=>{this.windowManager.maximizeFocusedWindow()}),this.keybindingService.registerKeybinding("Minimize Window","Super+Down",()=>{this.windowManager.minimizeFocusedWindow()}))}onLogin(t){return J(this,null,function*(){if(t.isGuest)yield this.authService.loginAsGuest();else{let i=yield this.authService.loginWithCredentials(t.username,t.password);if(!i.success){console.error("Login failed:",i.error);return}}let e=this.authService.user();e&&(this.fileSystem.setCurrentUser(e.username),this.saveService.setCurrentUser(e.username),yield this.saveService.load()),yield this.checkTutorialResume(),yield this.dailyTipService.initialize(),this.dailyTipService.shouldShowTip()&&setTimeout(()=>this.dailyTipService.showNotification(),2e3),setTimeout(()=>this.setupDesktopIcons(),0),setTimeout(()=>this.setupLauncherApps(),0)})}onMissionClick(){this.windowManager.openWindow("Missions",Jt,900,700,"mission")}onHelpClick(){this.windowManager.openWindow("Help & Tutorials",bt,800,600,"book")}onLogout(){return J(this,null,function*(){yield this.saveService.save(),yield this.authService.logout()})}checkTutorialResume(){return J(this,null,function*(){let t=this.store.selectSignal(xt)(),e=this.store.selectSignal(Qn)(),i=e.length>0,o=t.completionTime!==null;i&&!o&&setTimeout(()=>J(this,null,function*(){(yield this.dialogService.confirm({title:"Resume Tutorial",message:`You have an incomplete tutorial with ${e.length} steps completed. Would you like to continue where you left off?`,confirmText:"Resume",cancelText:"Skip",showDontAskAgain:!0,preferenceKey:"tutorial-resume-prompt"})).confirmed&&this.windowManager&&this.windowManager.openWindow("Tutorial",bt,800,600,"book")}),3e3)})}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=Q({type:n,selectors:[["app-root"]],viewQuery:function(e,i){if(e&1&&(ai(Wn,5),ai(Gn,5),ai(qn,5)),e&2){let o;si(o=ci())&&(i.desktop=o.first),si(o=ci())&&(i.windowManager=o.first),si(o=ci())&&(i.taskbar=o.first)}},hostBindings:function(e,i){e&1&&S("keydown",function(r){return i.onKeyDown(r)},pa)},decls:3,vars:1,consts:[[3,"login"],["href","#main-content",1,"skip-to-content"],["id","main-content"],[3,"logout","missionClick","helpClick","username"]],template:function(e,i){e&1&&(v(0,Zf,1,0,"app-login")(1,Xf,6,1),N(2,"router-outlet")),e&2&&_(i.isAuthenticated()?1:0)},dependencies:[Dn,Wn,qn,Gn,oo,ro],styles:[".skip-to-content[_ngcontent-%COMP%]{position:absolute;left:-9999px;top:0;z-index:999;padding:1em;background:var(--primary-color, #0078d4);color:#fff;text-decoration:none;font-weight:700;border-radius:0 0 4px}.skip-to-content[_ngcontent-%COMP%]:focus{left:0}"]})};Fo(mo,il).catch(n=>console.error(n));
