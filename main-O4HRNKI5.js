import{a as vs,b as Ss,c as so}from"./chunk-E6VDO7ZH.js";import{a as Ze,b as Gn}from"./chunk-6WWFKK7Q.js";import{a as gt,b as qn}from"./chunk-OBUK2SCO.js";import{a as Kn}from"./chunk-BTYBRZER.js";import{a as ks,b as Ts,c as Yn}from"./chunk-4N2YG32J.js";import{a as ws,b as Wn,c as Es,d as Os,e as Ps}from"./chunk-X3KMZRM7.js";import{a as ht}from"./chunk-XEXDRVDF.js";import{$ as Ir,$a as es,$b as us,A as Ge,Aa as Ur,Ab as V,B as ae,Ba as Ji,Bb as Ht,C as Ie,Ca as $r,Cb as l,D as Je,Da as Ut,Db as x,E as br,Ea as eo,Eb as S,F as Ki,Fa as to,Fb as De,G as me,Ga as Vr,Gb as is,H as xr,Ha as Hr,Hb as $n,I as yr,Ib as Vn,J as Mr,Ja as a,Jb as Hn,K as wr,Ka as $t,Kb as os,L as jn,La as Br,Lb as rs,M as Ke,Ma as Wr,Mb as oo,N as Yi,Na as pt,Nb as ro,O as Zi,Oa as ke,Ob as ss,P as Er,Pa as qr,Pb as as,Q as Or,Qb as Ne,R as Pr,Ra as Gr,Rb as G,S as ut,Sa as Kr,Sb as Ve,T as Sr,Ta as Yr,Tb as Ye,U as kr,Ua as no,Ub as je,V as Tr,Va as X,Vb as Bt,W as oe,Wa as Zr,Wb as cs,X as et,Xa as Xr,Xb as ls,Y as de,Ya as Qr,Z as Ln,Za as Jr,Zb as Wt,_ as K,_a as io,_b as ds,a as C,aa as L,ab as Vt,ac as Bn,b as I,ba as Rr,bb as ts,bc as ps,c as ie,ca as j,cb as q,cc as ms,d as mr,da as P,db as y,dc as ee,e as gr,ea as _,eb as M,ec as gs,f as ve,fa as Re,fc as fs,g as Wi,ga as Lt,gb as $e,gc as hs,h as qi,ha as Ar,hb as B,hc as mt,i as ue,ia as Ft,ib as W,ic as _s,j as pe,ja as Se,jb as Q,jc as Cs,k as fr,ka as E,kb as f,kc as bs,l as An,la as O,lb as v,lc as xs,m as Pe,ma as Xi,mb as $,mc as ys,n as Dn,na as Dr,nb as u,nc as Ms,o as xe,oa as ye,ob as d,oc as ft,p as D,pa as Me,pb as ge,q as jt,qa as zt,qb as ns,r as hr,ra as tt,rb as U,s as vr,sa as Qi,sb as Ae,t as _r,ta as Nr,tb as A,u as N,ua as w,ub as T,v as Gi,va as jr,vb as g,w as fe,wa as Lr,wb as Fn,x as Cr,xa as Fr,xb as zn,y as Nn,ya as nt,yb as Un,z as dt,za as zr,zb as ce}from"./chunk-OLBKVZNR.js";var qt=class{_doc;constructor(t){this._doc=t}manager},Zn=(()=>{class n extends qt{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,o,r){return e.addEventListener(i,o,r),()=>this.removeEventListener(e,i,o,r)}removeEventListener(e,i,o,r){return e.removeEventListener(i,o,r)}static \u0275fac=function(i){return new(i||n)(P(Me))};static \u0275prov=L({token:n,factory:n.\u0275fac})}return n})(),Qn=new j(""),po=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(e,i){this._zone=i,e.forEach(s=>{s.manager=this});let o=e.filter(s=>!(s instanceof Zn));this._plugins=o.slice().reverse();let r=e.find(s=>s instanceof Zn);r&&this._plugins.push(r)}addEventListener(e,i,o,r){return this._findPluginFor(i).addEventListener(e,i,o,r)}getZone(){return this._zone}_findPluginFor(e){let i=this._eventNameToPlugin.get(e);if(i)return i;if(i=this._plugins.find(r=>r.supports(e)),!i)throw new K(5101,!1);return this._eventNameToPlugin.set(e,i),i}static \u0275fac=function(i){return new(i||n)(P(Qn),P(ke))};static \u0275prov=L({token:n,factory:n.\u0275fac})}return n})(),ao="ng-app-id";function Is(n){for(let t of n)t.remove()}function Rs(n,t){let e=t.createElement("style");return e.textContent=n,e}function Ac(n,t,e,i){let o=n.head?.querySelectorAll(`style[${ao}="${t}"],link[${ao}="${t}"]`);if(o)for(let r of o)r.removeAttribute(ao),r instanceof HTMLLinkElement?i.set(r.href.slice(r.href.lastIndexOf("/")+1),{usage:0,elements:[r]}):r.textContent&&e.set(r.textContent,{usage:0,elements:[r]})}function lo(n,t){let e=t.createElement("link");return e.setAttribute("rel","stylesheet"),e.setAttribute("href",n),e}var mo=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(e,i,o,r={}){this.doc=e,this.appId=i,this.nonce=o,Ac(e,i,this.inline,this.external),this.hosts.add(e.head)}addStyles(e,i){for(let o of e)this.addUsage(o,this.inline,Rs);i?.forEach(o=>this.addUsage(o,this.external,lo))}removeStyles(e,i){for(let o of e)this.removeUsage(o,this.inline);i?.forEach(o=>this.removeUsage(o,this.external))}addUsage(e,i,o){let r=i.get(e);r?r.usage++:i.set(e,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,o(e,this.doc)))})}removeUsage(e,i){let o=i.get(e);o&&(o.usage--,o.usage<=0&&(Is(o.elements),i.delete(e)))}ngOnDestroy(){for(let[,{elements:e}]of[...this.inline,...this.external])Is(e);this.hosts.clear()}addHost(e){this.hosts.add(e);for(let[i,{elements:o}]of this.inline)o.push(this.addElement(e,Rs(i,this.doc)));for(let[i,{elements:o}]of this.external)o.push(this.addElement(e,lo(i,this.doc)))}removeHost(e){this.hosts.delete(e)}addElement(e,i){return this.nonce&&i.setAttribute("nonce",this.nonce),e.appendChild(i)}static \u0275fac=function(i){return new(i||n)(P(Me),P(Ji),P(eo,8),P(Ut))};static \u0275prov=L({token:n,factory:n.\u0275fac})}return n})(),co={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},go=/%COMP%/g;var Ds="%COMP%",Dc=`_nghost-${Ds}`,Nc=`_ngcontent-${Ds}`,jc=!0,Lc=new j("",{providedIn:"root",factory:()=>jc});function Fc(n){return Nc.replace(go,n)}function zc(n){return Dc.replace(go,n)}function Ns(n,t){return t.map(e=>e.replace(go,n))}var fo=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(e,i,o,r,s,c,p,m=null,h=null){this.eventManager=e,this.sharedStylesHost=i,this.appId=o,this.removeStylesOnCompDestroy=r,this.doc=s,this.platformId=c,this.ngZone=p,this.nonce=m,this.tracingService=h,this.platformIsServer=!1,this.defaultRenderer=new Gt(e,s,p,this.platformIsServer,this.tracingService)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;let o=this.getOrCreateRenderer(e,i);return o instanceof Xn?o.applyToHost(e):o instanceof Kt&&o.applyStyles(),o}getOrCreateRenderer(e,i){let o=this.rendererByCompId,r=o.get(i.id);if(!r){let s=this.doc,c=this.ngZone,p=this.eventManager,m=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,b=this.platformIsServer,k=this.tracingService;switch(i.encapsulation){case to.Emulated:r=new Xn(p,m,i,this.appId,h,s,c,b,k);break;case to.ShadowDom:return new uo(p,m,e,i,s,c,this.nonce,b,k);default:r=new Kt(p,m,i,h,s,c,b,k);break}o.set(i.id,r)}return r}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(e){this.rendererByCompId.delete(e)}static \u0275fac=function(i){return new(i||n)(P(po),P(mo),P(Ji),P(Lc),P(Me),P(Ut),P(ke),P(eo),P(Wr,8))};static \u0275prov=L({token:n,factory:n.\u0275fac})}return n})(),Gt=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(t,e,i,o,r){this.eventManager=t,this.doc=e,this.ngZone=i,this.platformIsServer=o,this.tracingService=r}destroy(){}destroyNode=null;createElement(t,e){return e?this.doc.createElementNS(co[e]||e,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,e){(As(t)?t.content:t).appendChild(e)}insertBefore(t,e,i){t&&(As(t)?t.content:t).insertBefore(e,i)}removeChild(t,e){e.remove()}selectRootElement(t,e){let i=typeof t=="string"?this.doc.querySelector(t):t;if(!i)throw new K(-5104,!1);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,o){if(o){e=o+":"+e;let r=co[o];r?t.setAttributeNS(r,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){let o=co[i];o?t.removeAttributeNS(o,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,o){o&($t.DashCase|$t.Important)?t.style.setProperty(e,i,o&$t.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&$t.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t!=null&&(t[e]=i)}setValue(t,e){t.nodeValue=e}listen(t,e,i,o){if(typeof t=="string"&&(t=Wt().getGlobalEventTarget(this.doc,t),!t))throw new K(5102,!1);let r=this.decoratePreventDefault(i);return this.tracingService?.wrapEventListener&&(r=this.tracingService.wrapEventListener(t,e,r)),this.eventManager.addEventListener(t,e,r,o)}decoratePreventDefault(t){return e=>{if(e==="__ngUnwrap__")return t;t(e)===!1&&e.preventDefault()}}};function As(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var uo=class extends Gt{sharedStylesHost;hostEl;shadowRoot;constructor(t,e,i,o,r,s,c,p,m){super(t,r,s,p,m),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let h=o.styles;h=Ns(o.id,h);for(let k of h){let H=document.createElement("style");c&&H.setAttribute("nonce",c),H.textContent=k,this.shadowRoot.appendChild(H)}let b=o.getExternalStyles?.();if(b)for(let k of b){let H=lo(k,r);c&&H.setAttribute("nonce",c),this.shadowRoot.appendChild(H)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(null,e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Kt=class extends Gt{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(t,e,i,o,r,s,c,p,m){super(t,r,s,c,p),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=o;let h=i.styles;this.styles=m?Ns(m,h):h,this.styleUrls=i.getExternalStyles?.(m)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&Br.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Xn=class extends Kt{contentAttr;hostAttr;constructor(t,e,i,o,r,s,c,p,m){let h=o+"-"+i.id;super(t,e,i,r,s,c,p,m,h),this.contentAttr=Fc(h),this.hostAttr=zc(h)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){let i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}};var Jn=class n extends us{supportsDOMEvents=!0;static makeCurrent(){ds(new n)}onAndCancel(t,e,i,o){return t.addEventListener(e,i,o),()=>{t.removeEventListener(e,i,o)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.remove()}createElement(t,e){return e=e||this.getDefaultDocument(),e.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return e==="window"?window:e==="document"?t:e==="body"?t.body:null}getBaseHref(t){let e=Uc();return e==null?null:$c(e)}resetBaseElement(){Yt=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return gs(document.cookie,t)}},Yt=null;function Uc(){return Yt=Yt||document.head.querySelector("base"),Yt?Yt.getAttribute("href"):null}function $c(n){return new URL(n,document.baseURI).pathname}var Vc=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(i){return new(i||n)};static \u0275prov=L({token:n,factory:n.\u0275fac})}return n})(),js=["alt","control","meta","shift"],Hc={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Bc={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},Ls=(()=>{class n extends qt{constructor(e){super(e)}supports(e){return n.parseEventName(e)!=null}addEventListener(e,i,o,r){let s=n.parseEventName(i),c=n.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Wt().onAndCancel(e,s.domEventName,c,r))}static parseEventName(e){let i=e.toLowerCase().split("."),o=i.shift();if(i.length===0||!(o==="keydown"||o==="keyup"))return null;let r=n._normalizeKey(i.pop()),s="",c=i.indexOf("code");if(c>-1&&(i.splice(c,1),s="code."),js.forEach(m=>{let h=i.indexOf(m);h>-1&&(i.splice(h,1),s+=m+".")}),s+=r,i.length!=0||r.length===0)return null;let p={};return p.domEventName=o,p.fullKey=s,p}static matchEventFullKeyCode(e,i){let o=Hc[e.key]||e.key,r="";return i.indexOf("code.")>-1&&(o=e.code,r="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),js.forEach(s=>{if(s!==o){let c=Bc[s];c(e)&&(r+=s+".")}}),r+=o,r===i)}static eventCallback(e,i,o){return r=>{n.matchEventFullKeyCode(r,e)&&o.runGuarded(()=>i(r))}}static _normalizeKey(e){return e==="esc"?"escape":e}static \u0275fac=function(i){return new(i||n)(P(Me))};static \u0275prov=L({token:n,factory:n.\u0275fac})}return n})();function ho(n,t,e){let i=C({rootComponent:n,platformRef:e?.platformRef},Wc(t));return ls(i)}function Wc(n){return{appProviders:[...Zc,...n?.providers??[]],platformProviders:Yc}}function qc(){Jn.makeCurrent()}function Gc(){return new tt}function Kc(){return Ur(document),document}var Yc=[{provide:Ut,useValue:hs},{provide:$r,useValue:qc,multi:!0},{provide:Me,useFactory:Kc}];var Zc=[{provide:Ar,useValue:"root"},{provide:tt,useFactory:Gc},{provide:Qn,useClass:Zn,multi:!0,deps:[Me]},{provide:Qn,useClass:Ls,multi:!0,deps:[Me]},fo,mo,po,{provide:qr,useExisting:fo},{provide:fs,useClass:Vc},[]];var Fs=(()=>{class n{_doc;constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static \u0275fac=function(i){return new(i||n)(P(Me))};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var z="primary",mn=Symbol("RouteTitle"),xo=class{params;constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){let e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}};function rt(n){return new xo(n)}function qs(n,t,e){let i=e.path.split("/");if(i.length>n.length||e.pathMatch==="full"&&(t.hasChildren()||i.length<n.length))return null;let o={};for(let r=0;r<i.length;r++){let s=i[r],c=n[r];if(s[0]===":")o[s.substring(1)]=c;else if(s!==c.path)return null}return{consumed:n.slice(0,i.length),posParams:o}}function Qc(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!Le(n[e],t[e]))return!1;return!0}function Le(n,t){let e=n?yo(n):void 0,i=t?yo(t):void 0;if(!e||!i||e.length!=i.length)return!1;let o;for(let r=0;r<e.length;r++)if(o=e[r],!Gs(n[o],t[o]))return!1;return!0}function yo(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function Gs(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;let e=[...n].sort(),i=[...t].sort();return e.every((o,r)=>i[r]===o)}else return n===t}function Ks(n){return n.length>0?n[n.length-1]:null}function We(n){return hr(n)?n:Jr(n)?xe(Promise.resolve(n)):D(n)}var Jc={exact:Zs,subset:Xs},Ys={exact:el,subset:tl,ignored:()=>!0};function zs(n,t,e){return Jc[e.paths](n.root,t.root,e.matrixParams)&&Ys[e.queryParams](n.queryParams,t.queryParams)&&!(e.fragment==="exact"&&n.fragment!==t.fragment)}function el(n,t){return Le(n,t)}function Zs(n,t,e){if(!it(n.segments,t.segments)||!ni(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(let i in t.children)if(!n.children[i]||!Zs(n.children[i],t.children[i],e))return!1;return!0}function tl(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>Gs(n[e],t[e]))}function Xs(n,t,e){return Qs(n,t,t.segments,e)}function Qs(n,t,e,i){if(n.segments.length>e.length){let o=n.segments.slice(0,e.length);return!(!it(o,e)||t.hasChildren()||!ni(o,e,i))}else if(n.segments.length===e.length){if(!it(n.segments,e)||!ni(n.segments,e,i))return!1;for(let o in t.children)if(!n.children[o]||!Xs(n.children[o],t.children[o],i))return!1;return!0}else{let o=e.slice(0,n.segments.length),r=e.slice(n.segments.length);return!it(n.segments,o)||!ni(n.segments,o,i)||!n.children[z]?!1:Qs(n.children[z],t,r,i)}}function ni(n,t,e){return t.every((i,o)=>Ys[e](n[o].parameters,i.parameters))}var ze=class{root;queryParams;fragment;_queryParamMap;constructor(t=new Y([],{}),e={},i=null){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap??=rt(this.queryParams),this._queryParamMap}toString(){return ol.serialize(this)}},Y=class{segments;children;parent=null;constructor(t,e){this.segments=t,this.children=e,Object.values(e).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ii(this)}},Xe=class{path;parameters;_parameterMap;constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap??=rt(this.parameters),this._parameterMap}toString(){return ea(this)}};function nl(n,t){return it(n,t)&&n.every((e,i)=>Le(e.parameters,t[i].parameters))}function it(n,t){return n.length!==t.length?!1:n.every((e,i)=>e.path===t[i].path)}function il(n,t){let e=[];return Object.entries(n.children).forEach(([i,o])=>{i===z&&(e=e.concat(t(o,i)))}),Object.entries(n.children).forEach(([i,o])=>{i!==z&&(e=e.concat(t(o,i)))}),e}var gn=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275prov=L({token:n,factory:()=>new st,providedIn:"root"})}return n})(),st=class{parse(t){let e=new wo(t);return new ze(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){let e=`/${Qt(t.root,!0)}`,i=al(t.queryParams),o=typeof t.fragment=="string"?`#${rl(t.fragment)}`:"";return`${e}${i}${o}`}},ol=new st;function ii(n){return n.segments.map(t=>ea(t)).join("/")}function Qt(n,t){if(!n.hasChildren())return ii(n);if(t){let e=n.children[z]?Qt(n.children[z],!1):"",i=[];return Object.entries(n.children).forEach(([o,r])=>{o!==z&&i.push(`${o}:${Qt(r,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}else{let e=il(n,(i,o)=>o===z?[Qt(n.children[z],!1)]:[`${o}:${Qt(i,!1)}`]);return Object.keys(n.children).length===1&&n.children[z]!=null?`${ii(n)}/${e[0]}`:`${ii(n)}/(${e.join("//")})`}}function Js(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ei(n){return Js(n).replace(/%3B/gi,";")}function rl(n){return encodeURI(n)}function Mo(n){return Js(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function oi(n){return decodeURIComponent(n)}function Us(n){return oi(n.replace(/\+/g,"%20"))}function ea(n){return`${Mo(n.path)}${sl(n.parameters)}`}function sl(n){return Object.entries(n).map(([t,e])=>`;${Mo(t)}=${Mo(e)}`).join("")}function al(n){let t=Object.entries(n).map(([e,i])=>Array.isArray(i)?i.map(o=>`${ei(e)}=${ei(o)}`).join("&"):`${ei(e)}=${ei(i)}`).filter(e=>e);return t.length?`?${t.join("&")}`:""}var cl=/^[^\/()?;#]+/;function vo(n){let t=n.match(cl);return t?t[0]:""}var ll=/^[^\/()?;=#]+/;function dl(n){let t=n.match(ll);return t?t[0]:""}var ul=/^[^=?&#]+/;function pl(n){let t=n.match(ul);return t?t[0]:""}var ml=/^[^&#]+/;function gl(n){let t=n.match(ml);return t?t[0]:""}var wo=class{url;remaining;constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Y([],{}):new Y([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[z]=new Y(t,e)),i}parseSegment(){let t=vo(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new K(4009,!1);return this.capture(t),new Xe(oi(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let e=dl(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){let o=vo(this.remaining);o&&(i=o,this.capture(i))}t[oi(e)]=oi(i)}parseQueryParam(t){let e=pl(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){let s=gl(this.remaining);s&&(i=s,this.capture(i))}let o=Us(e),r=Us(i);if(t.hasOwnProperty(o)){let s=t[o];Array.isArray(s)||(s=[s],t[o]=s),s.push(r)}else t[o]=r}parseParens(t){let e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=vo(this.remaining),o=this.remaining[i.length];if(o!=="/"&&o!==")"&&o!==";")throw new K(4010,!1);let r;i.indexOf(":")>-1?(r=i.slice(0,i.indexOf(":")),this.capture(r),this.capture(":")):t&&(r=z);let s=this.parseChildren();e[r]=Object.keys(s).length===1?s[z]:new Y([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new K(4011,!1)}};function ta(n){return n.segments.length>0?new Y([],{[z]:n}):n}function na(n){let t={};for(let[i,o]of Object.entries(n.children)){let r=na(o);if(i===z&&r.segments.length===0&&r.hasChildren())for(let[s,c]of Object.entries(r.children))t[s]=c;else(r.segments.length>0||r.hasChildren())&&(t[i]=r)}let e=new Y(n.segments,t);return fl(e)}function fl(n){if(n.numberOfChildren===1&&n.children[z]){let t=n.children[z];return new Y(n.segments.concat(t.segments),t.children)}return n}function xt(n){return n instanceof ze}function ia(n,t,e=null,i=null){let o=oa(n);return ra(o,t,e,i)}function oa(n){let t;function e(r){let s={};for(let p of r.children){let m=e(p);s[p.outlet]=m}let c=new Y(r.url,s);return r===n&&(t=c),c}let i=e(n.root),o=ta(i);return t??o}function ra(n,t,e,i){let o=n;for(;o.parent;)o=o.parent;if(t.length===0)return _o(o,o,o,e,i);let r=hl(t);if(r.toRoot())return _o(o,o,new Y([],{}),e,i);let s=vl(r,o,n),c=s.processChildren?en(s.segmentGroup,s.index,r.commands):aa(s.segmentGroup,s.index,r.commands);return _o(o,s.segmentGroup,c,e,i)}function ri(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function on(n){return typeof n=="object"&&n!=null&&n.outlets}function _o(n,t,e,i,o){let r={};i&&Object.entries(i).forEach(([p,m])=>{r[p]=Array.isArray(m)?m.map(h=>`${h}`):`${m}`});let s;n===t?s=e:s=sa(n,t,e);let c=ta(na(s));return new ze(c,r,o)}function sa(n,t,e){let i={};return Object.entries(n.children).forEach(([o,r])=>{r===t?i[o]=e:i[o]=sa(r,t,e)}),new Y(n.segments,i)}var si=class{isAbsolute;numberOfDoubleDots;commands;constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&ri(i[0]))throw new K(4003,!1);let o=i.find(on);if(o&&o!==Ks(i))throw new K(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function hl(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new si(!0,0,n);let t=0,e=!1,i=n.reduce((o,r,s)=>{if(typeof r=="object"&&r!=null){if(r.outlets){let c={};return Object.entries(r.outlets).forEach(([p,m])=>{c[p]=typeof m=="string"?m.split("/"):m}),[...o,{outlets:c}]}if(r.segmentPath)return[...o,r.segmentPath]}return typeof r!="string"?[...o,r]:s===0?(r.split("/").forEach((c,p)=>{p==0&&c==="."||(p==0&&c===""?e=!0:c===".."?t++:c!=""&&o.push(c))}),o):[...o,r]},[]);return new si(e,t,i)}var Ct=class{segmentGroup;processChildren;index;constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}};function vl(n,t,e){if(n.isAbsolute)return new Ct(t,!0,0);if(!e)return new Ct(t,!1,NaN);if(e.parent===null)return new Ct(e,!0,0);let i=ri(n.commands[0])?0:1,o=e.segments.length-1+i;return _l(e,o,n.numberOfDoubleDots)}function _l(n,t,e){let i=n,o=t,r=e;for(;r>o;){if(r-=o,i=i.parent,!i)throw new K(4005,!1);o=i.segments.length}return new Ct(i,!1,o-r)}function Cl(n){return on(n[0])?n[0].outlets:{[z]:n}}function aa(n,t,e){if(n??=new Y([],{}),n.segments.length===0&&n.hasChildren())return en(n,t,e);let i=bl(n,t,e),o=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){let r=new Y(n.segments.slice(0,i.pathIndex),{});return r.children[z]=new Y(n.segments.slice(i.pathIndex),n.children),en(r,0,o)}else return i.match&&o.length===0?new Y(n.segments,{}):i.match&&!n.hasChildren()?Eo(n,t,e):i.match?en(n,0,o):Eo(n,t,e)}function en(n,t,e){if(e.length===0)return new Y(n.segments,{});{let i=Cl(e),o={};if(Object.keys(i).some(r=>r!==z)&&n.children[z]&&n.numberOfChildren===1&&n.children[z].segments.length===0){let r=en(n.children[z],t,e);return new Y(n.segments,r.children)}return Object.entries(i).forEach(([r,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(o[r]=aa(n.children[r],t,s))}),Object.entries(n.children).forEach(([r,s])=>{i[r]===void 0&&(o[r]=s)}),new Y(n.segments,o)}}function bl(n,t,e){let i=0,o=t,r={match:!1,pathIndex:0,commandIndex:0};for(;o<n.segments.length;){if(i>=e.length)return r;let s=n.segments[o],c=e[i];if(on(c))break;let p=`${c}`,m=i<e.length-1?e[i+1]:null;if(o>0&&p===void 0)break;if(p&&m&&typeof m=="object"&&m.outlets===void 0){if(!Vs(p,m,s))return r;i+=2}else{if(!Vs(p,{},s))return r;i++}o++}return{match:!0,pathIndex:o,commandIndex:i}}function Eo(n,t,e){let i=n.segments.slice(0,t),o=0;for(;o<e.length;){let r=e[o];if(on(r)){let p=xl(r.outlets);return new Y(i,p)}if(o===0&&ri(e[0])){let p=n.segments[t];i.push(new Xe(p.path,$s(e[0]))),o++;continue}let s=on(r)?r.outlets[z]:`${r}`,c=o<e.length-1?e[o+1]:null;s&&c&&ri(c)?(i.push(new Xe(s,$s(c))),o+=2):(i.push(new Xe(s,{})),o++)}return new Y(i,{})}function xl(n){let t={};return Object.entries(n).forEach(([e,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(t[e]=Eo(new Y([],{}),0,i))}),t}function $s(n){let t={};return Object.entries(n).forEach(([e,i])=>t[e]=`${i}`),t}function Vs(n,t,e){return n==e.path&&Le(t,e.parameters)}var tn="imperative",le=(function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n})(le||{}),Ce=class{id;url;constructor(t,e){this.id=t,this.url=e}},at=class extends Ce{type=le.NavigationStart;navigationTrigger;restoredState;constructor(t,e,i="imperative",o=null){super(t,e),this.navigationTrigger=i,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},He=class extends Ce{urlAfterRedirects;type=le.NavigationEnd;constructor(t,e,i){super(t,e),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},he=(function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n[n.Aborted=4]="Aborted",n})(he||{}),rn=(function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n})(rn||{}),Fe=class extends Ce{reason;code;type=le.NavigationCancel;constructor(t,e,i,o){super(t,e),this.reason=i,this.code=o}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Be=class extends Ce{reason;code;type=le.NavigationSkipped;constructor(t,e,i,o){super(t,e),this.reason=i,this.code=o}},yt=class extends Ce{error;target;type=le.NavigationError;constructor(t,e,i,o){super(t,e),this.error=i,this.target=o}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},sn=class extends Ce{urlAfterRedirects;state;type=le.RoutesRecognized;constructor(t,e,i,o){super(t,e),this.urlAfterRedirects=i,this.state=o}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ai=class extends Ce{urlAfterRedirects;state;type=le.GuardsCheckStart;constructor(t,e,i,o){super(t,e),this.urlAfterRedirects=i,this.state=o}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ci=class extends Ce{urlAfterRedirects;state;shouldActivate;type=le.GuardsCheckEnd;constructor(t,e,i,o,r){super(t,e),this.urlAfterRedirects=i,this.state=o,this.shouldActivate=r}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},li=class extends Ce{urlAfterRedirects;state;type=le.ResolveStart;constructor(t,e,i,o){super(t,e),this.urlAfterRedirects=i,this.state=o}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},di=class extends Ce{urlAfterRedirects;state;type=le.ResolveEnd;constructor(t,e,i,o){super(t,e),this.urlAfterRedirects=i,this.state=o}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ui=class{route;type=le.RouteConfigLoadStart;constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},pi=class{route;type=le.RouteConfigLoadEnd;constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},mi=class{snapshot;type=le.ChildActivationStart;constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},gi=class{snapshot;type=le.ChildActivationEnd;constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},fi=class{snapshot;type=le.ActivationStart;constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},hi=class{snapshot;type=le.ActivationEnd;constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var an=class{},Mt=class{url;navigationBehaviorOptions;constructor(t,e){this.url=t,this.navigationBehaviorOptions=e}};function yl(n){return!(n instanceof an)&&!(n instanceof Mt)}function Ml(n,t){return n.providers&&!n._injector&&(n._injector=no(n.providers,t,`Route: ${n.path}`)),n._injector??t}function Te(n){return n.outlet||z}function wl(n,t){let e=n.filter(i=>Te(i)===t);return e.push(...n.filter(i=>Te(i)!==t)),e}function Ot(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){let e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}var vi=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Ot(this.route?.snapshot)??this.rootInjector}constructor(t){this.rootInjector=t,this.children=new Pt(this.rootInjector)}},Pt=(()=>{class n{rootInjector;contexts=new Map;constructor(e){this.rootInjector=e}onChildOutletCreated(e,i){let o=this.getOrCreateContext(e);o.outlet=i,this.contexts.set(e,o)}onChildOutletDestroyed(e){let i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new vi(this.rootInjector),this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}static \u0275fac=function(i){return new(i||n)(P(Ft))};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),_i=class{_root;constructor(t){this._root=t}get root(){return this._root.value}parent(t){let e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){let e=Oo(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){let e=Oo(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){let e=Po(t,this._root);return e.length<2?[]:e[e.length-2].children.map(o=>o.value).filter(o=>o!==t)}pathFromRoot(t){return Po(t,this._root).map(e=>e.value)}};function Oo(n,t){if(n===t.value)return t;for(let e of t.children){let i=Oo(n,e);if(i)return i}return null}function Po(n,t){if(n===t.value)return[t];for(let e of t.children){let i=Po(n,e);if(i.length)return i.unshift(t),i}return[]}var _e=class{value;children;constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}};function _t(n){let t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}var cn=class extends _i{snapshot;constructor(t,e){super(t),this.snapshot=e,No(this,t)}toString(){return this.snapshot.toString()}};function ca(n){let t=El(n),e=new pe([new Xe("",{})]),i=new pe({}),o=new pe({}),r=new pe({}),s=new pe(""),c=new Qe(e,i,r,s,o,z,n,t.root);return c.snapshot=t.root,new cn(new _e(c,[]),t)}function El(n){let t={},e={},i={},r=new ot([],t,i,"",e,z,n,null,{});return new ln("",new _e(r,[]))}var Qe=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(t,e,i,o,r,s,c,p){this.urlSubject=t,this.paramsSubject=e,this.queryParamsSubject=i,this.fragmentSubject=o,this.dataSubject=r,this.outlet=s,this.component=c,this._futureSnapshot=p,this.title=this.dataSubject?.pipe(N(m=>m[mn]))??D(void 0),this.url=t,this.params=e,this.queryParams=i,this.fragment=o,this.data=r}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(N(t=>rt(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(N(t=>rt(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Ci(n,t,e="emptyOnly"){let i,{routeConfig:o}=n;return t!==null&&(e==="always"||o?.path===""||!t.component&&!t.routeConfig?.loadComponent)?i={params:C(C({},t.params),n.params),data:C(C({},t.data),n.data),resolve:C(C(C(C({},n.data),t.data),o?.data),n._resolvedData)}:i={params:C({},n.params),data:C({},n.data),resolve:C(C({},n.data),n._resolvedData??{})},o&&da(o)&&(i.resolve[mn]=o.title),i}var ot=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[mn]}constructor(t,e,i,o,r,s,c,p,m){this.url=t,this.params=e,this.queryParams=i,this.fragment=o,this.data=r,this.outlet=s,this.component=c,this.routeConfig=p,this._resolve=m}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=rt(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=rt(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(i=>i.toString()).join("/"),e=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${e}')`}},ln=class extends _i{url;constructor(t,e){super(e),this.url=t,No(this,e)}toString(){return la(this._root)}};function No(n,t){t.value._routerState=n,t.children.forEach(e=>No(n,e))}function la(n){let t=n.children.length>0?` { ${n.children.map(la).join(", ")} } `:"";return`${n.value}${t}`}function Co(n){if(n.snapshot){let t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,Le(t.queryParams,e.queryParams)||n.queryParamsSubject.next(e.queryParams),t.fragment!==e.fragment&&n.fragmentSubject.next(e.fragment),Le(t.params,e.params)||n.paramsSubject.next(e.params),Qc(t.url,e.url)||n.urlSubject.next(e.url),Le(t.data,e.data)||n.dataSubject.next(e.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function So(n,t){let e=Le(n.params,t.params)&&nl(n.url,t.url),i=!n.parent!=!t.parent;return e&&!i&&(!n.parent||So(n.parent,t.parent))}function da(n){return typeof n.title=="string"||n.title===null}var ua=new j(""),fn=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=z;activateEvents=new pt;deactivateEvents=new pt;attachEvents=new pt;detachEvents=new pt;routerOutletData=je(void 0);parentContexts=_(Pt);location=_(Kr);changeDetector=_(cs);inputBinder=_(Mi,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(e){if(e.name){let{firstChange:i,previousValue:o}=e.name;if(i)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new K(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new K(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new K(4012,!1);this.location.detach();let e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){let e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new K(4013,!1);this._activatedRoute=e;let o=this.location,s=e.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,p=new ko(e,c,o.injector,this.routerOutletData);this.activated=o.createComponent(s,{index:o.length,injector:p,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(i){return new(i||n)};static \u0275dir=Zr({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Fr]})}return n})(),ko=class{route;childContexts;parent;outletData;constructor(t,e,i,o){this.route=t,this.childContexts=e,this.parent=i,this.outletData=o}get(t,e){return t===Qe?this.route:t===Pt?this.childContexts:t===ua?this.outletData:this.parent.get(t,e)}},Mi=new j("");var jo=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=X({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(i,o){i&1&&$(0,"router-outlet")},dependencies:[fn],encapsulation:2})}return n})();function Lo(n){let t=n.children&&n.children.map(Lo),e=t?I(C({},n),{children:t}):C({},n);return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==z&&(e.component=jo),e}function Ol(n,t,e){let i=dn(n,t._root,e?e._root:void 0);return new cn(i,t)}function dn(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){let i=e.value;i._futureSnapshot=t.value;let o=Pl(n,t,e);return new _e(i,o)}else{if(n.shouldAttach(t.value)){let r=n.retrieve(t.value);if(r!==null){let s=r.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(c=>dn(n,c)),s}}let i=Sl(t.value),o=t.children.map(r=>dn(n,r));return new _e(i,o)}}function Pl(n,t,e){return t.children.map(i=>{for(let o of e.children)if(n.shouldReuseRoute(i.value,o.value.snapshot))return dn(n,i,o);return dn(n,i)})}function Sl(n){return new Qe(new pe(n.url),new pe(n.params),new pe(n.queryParams),new pe(n.fragment),new pe(n.data),n.outlet,n.component,n)}var wt=class{redirectTo;navigationBehaviorOptions;constructor(t,e){this.redirectTo=t,this.navigationBehaviorOptions=e}},pa="ngNavigationCancelingError";function bi(n,t){let{redirectTo:e,navigationBehaviorOptions:i}=xt(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,o=ma(!1,he.Redirect);return o.url=e,o.navigationBehaviorOptions=i,o}function ma(n,t){let e=new Error(`NavigationCancelingError: ${n||""}`);return e[pa]=!0,e.cancellationCode=t,e}function kl(n){return ga(n)&&xt(n.url)}function ga(n){return!!n&&n[pa]}var Tl=(n,t,e,i)=>N(o=>(new To(t,o.targetRouterState,o.currentRouterState,e,i).activate(n),o)),To=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(t,e,i,o,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=o,this.inputBindingEnabled=r}activate(t){let e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),Co(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){let o=_t(e);t.children.forEach(r=>{let s=r.value.outlet;this.deactivateRoutes(r,o[s],i),delete o[s]}),Object.values(o).forEach(r=>{this.deactivateRouteAndItsChildren(r,i)})}deactivateRoutes(t,e,i){let o=t.value,r=e?e.value:null;if(o===r)if(o.component){let s=i.getContext(o.outlet);s&&this.deactivateChildRoutes(t,e,s.children)}else this.deactivateChildRoutes(t,e,i);else r&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){let i=e.getContext(t.value.outlet),o=i&&t.value.component?i.children:e,r=_t(t);for(let s of Object.values(r))this.deactivateRouteAndItsChildren(s,o);if(i&&i.outlet){let s=i.outlet.detach(),c=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:c})}}deactivateRouteAndOutlet(t,e){let i=e.getContext(t.value.outlet),o=i&&t.value.component?i.children:e,r=_t(t);for(let s of Object.values(r))this.deactivateRouteAndItsChildren(s,o);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(t,e,i){let o=_t(e);t.children.forEach(r=>{this.activateRoutes(r,o[r.value.outlet],i),this.forwardEvent(new hi(r.value.snapshot))}),t.children.length&&this.forwardEvent(new gi(t.value.snapshot))}activateRoutes(t,e,i){let o=t.value,r=e?e.value:null;if(Co(o),o===r)if(o.component){let s=i.getOrCreateContext(o.outlet);this.activateChildRoutes(t,e,s.children)}else this.activateChildRoutes(t,e,i);else if(o.component){let s=i.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){let c=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),s.children.onOutletReAttached(c.contexts),s.attachRef=c.componentRef,s.route=c.route.value,s.outlet&&s.outlet.attach(c.componentRef,c.route.value),Co(c.route.value),this.activateChildRoutes(t,null,s.children)}else s.attachRef=null,s.route=o,s.outlet&&s.outlet.activateWith(o,s.injector),this.activateChildRoutes(t,null,s.children)}else this.activateChildRoutes(t,null,i)}},xi=class{path;route;constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},bt=class{component;route;constructor(t,e){this.component=t,this.route=e}};function Il(n,t,e){let i=n._root,o=t?t._root:null;return Jt(i,o,e,[i.value])}function Rl(n){let t=n.routeConfig?n.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:n,guards:t}}function St(n,t){let e=Symbol(),i=t.get(n,e);return i===e?typeof n=="function"&&!Rr(n)?n:t.get(n):i}function Jt(n,t,e,i,o={canDeactivateChecks:[],canActivateChecks:[]}){let r=_t(t);return n.children.forEach(s=>{Al(s,r[s.value.outlet],e,i.concat([s.value]),o),delete r[s.value.outlet]}),Object.entries(r).forEach(([s,c])=>nn(c,e.getContext(s),o)),o}function Al(n,t,e,i,o={canDeactivateChecks:[],canActivateChecks:[]}){let r=n.value,s=t?t.value:null,c=e?e.getContext(n.value.outlet):null;if(s&&r.routeConfig===s.routeConfig){let p=Dl(s,r,r.routeConfig.runGuardsAndResolvers);p?o.canActivateChecks.push(new xi(i)):(r.data=s.data,r._resolvedData=s._resolvedData),r.component?Jt(n,t,c?c.children:null,i,o):Jt(n,t,e,i,o),p&&c&&c.outlet&&c.outlet.isActivated&&o.canDeactivateChecks.push(new bt(c.outlet.component,s))}else s&&nn(t,c,o),o.canActivateChecks.push(new xi(i)),r.component?Jt(n,null,c?c.children:null,i,o):Jt(n,null,e,i,o);return o}function Dl(n,t,e){if(typeof e=="function")return e(n,t);switch(e){case"pathParamsChange":return!it(n.url,t.url);case"pathParamsOrQueryParamsChange":return!it(n.url,t.url)||!Le(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!So(n,t)||!Le(n.queryParams,t.queryParams);case"paramsChange":default:return!So(n,t)}}function nn(n,t,e){let i=_t(n),o=n.value;Object.entries(i).forEach(([r,s])=>{o.component?t?nn(s,t.children.getContext(r),e):nn(s,null,e):nn(s,t,e)}),o.component?t&&t.outlet&&t.outlet.isActivated?e.canDeactivateChecks.push(new bt(t.outlet.component,o)):e.canDeactivateChecks.push(new bt(null,o)):e.canDeactivateChecks.push(new bt(null,o))}function hn(n){return typeof n=="function"}function Nl(n){return typeof n=="boolean"}function jl(n){return n&&hn(n.canLoad)}function Ll(n){return n&&hn(n.canActivate)}function Fl(n){return n&&hn(n.canActivateChild)}function zl(n){return n&&hn(n.canDeactivate)}function Ul(n){return n&&hn(n.canMatch)}function fa(n){return n instanceof vr||n?.name==="EmptyError"}var ti=Symbol("INITIAL_VALUE");function Et(){return oe(n=>Gi(n.map(t=>t.pipe(me(1),Tr(ti)))).pipe(N(t=>{for(let e of t)if(e!==!0){if(e===ti)return ti;if(e===!1||$l(e))return e}return!0}),ae(t=>t!==ti),me(1)))}function $l(n){return xt(n)||n instanceof wt}function Vl(n,t){return fe(e=>{let{targetSnapshot:i,currentSnapshot:o,guards:{canActivateChecks:r,canDeactivateChecks:s}}=e;return s.length===0&&r.length===0?D(I(C({},e),{guardsResult:!0})):Hl(s,i,o,n).pipe(fe(c=>c&&Nl(c)?Bl(i,r,n,t):D(c)),N(c=>I(C({},e),{guardsResult:c})))})}function Hl(n,t,e,i){return xe(n).pipe(fe(o=>Yl(o.component,o.route,e,t,i)),Ke(o=>o!==!0,!0))}function Bl(n,t,e,i){return xe(t).pipe(Je(o=>Cr(ql(o.route.parent,i),Wl(o.route,i),Kl(n,o.path,e),Gl(n,o.route,e))),Ke(o=>o!==!0,!0))}function Wl(n,t){return n!==null&&t&&t(new fi(n)),D(!0)}function ql(n,t){return n!==null&&t&&t(new mi(n)),D(!0)}function Gl(n,t,e){let i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||i.length===0)return D(!0);let o=i.map(r=>Nn(()=>{let s=Ot(t)??e,c=St(r,s),p=Ll(c)?c.canActivate(t,n):Se(s,()=>c(t,n));return We(p).pipe(Ke())}));return D(o).pipe(Et())}function Kl(n,t,e){let i=t[t.length-1],r=t.slice(0,t.length-1).reverse().map(s=>Rl(s)).filter(s=>s!==null).map(s=>Nn(()=>{let c=s.guards.map(p=>{let m=Ot(s.node)??e,h=St(p,m),b=Fl(h)?h.canActivateChild(i,n):Se(m,()=>h(i,n));return We(b).pipe(Ke())});return D(c).pipe(Et())}));return D(r).pipe(Et())}function Yl(n,t,e,i,o){let r=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!r||r.length===0)return D(!0);let s=r.map(c=>{let p=Ot(t)??o,m=St(c,p),h=zl(m)?m.canDeactivate(n,t,e,i):Se(p,()=>m(n,t,e,i));return We(h).pipe(Ke())});return D(s).pipe(Et())}function Zl(n,t,e,i){let o=t.canLoad;if(o===void 0||o.length===0)return D(!0);let r=o.map(s=>{let c=St(s,n),p=jl(c)?c.canLoad(t,e):Se(n,()=>c(t,e));return We(p)});return D(r).pipe(Et(),ha(i))}function ha(n){return gr(de(t=>{if(typeof t!="boolean")throw bi(n,t)}),N(t=>t===!0))}function Xl(n,t,e,i){let o=t.canMatch;if(!o||o.length===0)return D(!0);let r=o.map(s=>{let c=St(s,n),p=Ul(c)?c.canMatch(t,e):Se(n,()=>c(t,e));return We(p)});return D(r).pipe(Et(),ha(i))}var un=class{segmentGroup;constructor(t){this.segmentGroup=t||null}},pn=class extends Error{urlTree;constructor(t){super(),this.urlTree=t}};function vt(n){return jt(new un(n))}function Ql(n){return jt(new K(4e3,!1))}function Jl(n){return jt(ma(!1,he.GuardRejected))}var Io=class{urlSerializer;urlTree;constructor(t,e){this.urlSerializer=t,this.urlTree=e}lineralizeSegments(t,e){let i=[],o=e.root;for(;;){if(i=i.concat(o.segments),o.numberOfChildren===0)return D(i);if(o.numberOfChildren>1||!o.children[z])return Ql(`${t.redirectTo}`);o=o.children[z]}}applyRedirectCommands(t,e,i,o,r){return ed(e,o,r).pipe(N(s=>{if(s instanceof ze)throw new pn(s);let c=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),t,i);if(s[0]==="/")throw new pn(c);return c}))}applyRedirectCreateUrlTree(t,e,i,o){let r=this.createSegmentGroup(t,e.root,i,o);return new ze(r,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){let i={};return Object.entries(t).forEach(([o,r])=>{if(typeof r=="string"&&r[0]===":"){let c=r.substring(1);i[o]=e[c]}else i[o]=r}),i}createSegmentGroup(t,e,i,o){let r=this.createSegments(t,e.segments,i,o),s={};return Object.entries(e.children).forEach(([c,p])=>{s[c]=this.createSegmentGroup(t,p,i,o)}),new Y(r,s)}createSegments(t,e,i,o){return e.map(r=>r.path[0]===":"?this.findPosParam(t,r,o):this.findOrReturn(r,i))}findPosParam(t,e,i){let o=i[e.path.substring(1)];if(!o)throw new K(4001,!1);return o}findOrReturn(t,e){let i=0;for(let o of e){if(o.path===t.path)return e.splice(i),o;i++}return t}};function ed(n,t,e){if(typeof n=="string")return D(n);let i=n,{queryParams:o,fragment:r,routeConfig:s,url:c,outlet:p,params:m,data:h,title:b}=t;return We(Se(e,()=>i({params:m,data:h,queryParams:o,fragment:r,routeConfig:s,url:c,outlet:p,title:b})))}var Ro={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function td(n,t,e,i,o){let r=va(n,t,e);return r.matched?(i=Ml(t,i),Xl(i,t,e,o).pipe(N(s=>s===!0?r:C({},Ro)))):D(r)}function va(n,t,e){if(t.path==="**")return nd(e);if(t.path==="")return t.pathMatch==="full"&&(n.hasChildren()||e.length>0)?C({},Ro):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};let o=(t.matcher||qs)(e,n,t);if(!o)return C({},Ro);let r={};Object.entries(o.posParams??{}).forEach(([c,p])=>{r[c]=p.path});let s=o.consumed.length>0?C(C({},r),o.consumed[o.consumed.length-1].parameters):r;return{matched:!0,consumedSegments:o.consumed,remainingSegments:e.slice(o.consumed.length),parameters:s,positionalParamSegments:o.posParams??{}}}function nd(n){return{matched:!0,parameters:n.length>0?Ks(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function Hs(n,t,e,i){return e.length>0&&rd(n,e,i)?{segmentGroup:new Y(t,od(i,new Y(e,n.children))),slicedSegments:[]}:e.length===0&&sd(n,e,i)?{segmentGroup:new Y(n.segments,id(n,e,i,n.children)),slicedSegments:e}:{segmentGroup:new Y(n.segments,n.children),slicedSegments:e}}function id(n,t,e,i){let o={};for(let r of e)if(wi(n,t,r)&&!i[Te(r)]){let s=new Y([],{});o[Te(r)]=s}return C(C({},i),o)}function od(n,t){let e={};e[z]=t;for(let i of n)if(i.path===""&&Te(i)!==z){let o=new Y([],{});e[Te(i)]=o}return e}function rd(n,t,e){return e.some(i=>wi(n,t,i)&&Te(i)!==z)}function sd(n,t,e){return e.some(i=>wi(n,t,i))}function wi(n,t,e){return(n.hasChildren()||t.length>0)&&e.pathMatch==="full"?!1:e.path===""}function ad(n,t,e){return t.length===0&&!n.children[e]}var Ao=class{};function cd(n,t,e,i,o,r,s="emptyOnly"){return new Do(n,t,e,i,o,s,r).recognize()}var ld=31,Do=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(t,e,i,o,r,s,c){this.injector=t,this.configLoader=e,this.rootComponentType=i,this.config=o,this.urlTree=r,this.paramsInheritanceStrategy=s,this.urlSerializer=c,this.applyRedirects=new Io(this.urlSerializer,this.urlTree)}noMatchError(t){return new K(4002,`'${t.segmentGroup}'`)}recognize(){let t=Hs(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(N(({children:e,rootSnapshot:i})=>{let o=new _e(i,e),r=new ln("",o),s=ia(i,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,r.url=this.urlSerializer.serialize(s),{state:r,tree:s}}))}match(t){let e=new ot([],Object.freeze({}),Object.freeze(C({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),z,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,t,z,e).pipe(N(i=>({children:i,rootSnapshot:e})),Ie(i=>{if(i instanceof pn)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof un?this.noMatchError(i):i}))}processSegmentGroup(t,e,i,o,r){return i.segments.length===0&&i.hasChildren()?this.processChildren(t,e,i,r):this.processSegment(t,e,i,i.segments,o,!0,r).pipe(N(s=>s instanceof _e?[s]:[]))}processChildren(t,e,i,o){let r=[];for(let s of Object.keys(i.children))s==="primary"?r.unshift(s):r.push(s);return xe(r).pipe(Je(s=>{let c=i.children[s],p=wl(e,s);return this.processSegmentGroup(t,p,c,s,o)}),ut((s,c)=>(s.push(...c),s)),Ki(null),Er(),fe(s=>{if(s===null)return vt(i);let c=_a(s);return dd(c),D(c)}))}processSegment(t,e,i,o,r,s,c){return xe(e).pipe(Je(p=>this.processSegmentAgainstRoute(p._injector??t,e,p,i,o,r,s,c).pipe(Ie(m=>{if(m instanceof un)return D(null);throw m}))),Ke(p=>!!p),Ie(p=>{if(fa(p))return ad(i,o,r)?D(new Ao):vt(i);throw p}))}processSegmentAgainstRoute(t,e,i,o,r,s,c,p){return Te(i)!==s&&(s===z||!wi(o,r,i))?vt(o):i.redirectTo===void 0?this.matchSegmentAgainstRoute(t,o,i,r,s,p):this.allowRedirects&&c?this.expandSegmentAgainstRouteUsingRedirect(t,o,e,i,r,s,p):vt(o)}expandSegmentAgainstRouteUsingRedirect(t,e,i,o,r,s,c){let{matched:p,parameters:m,consumedSegments:h,positionalParamSegments:b,remainingSegments:k}=va(e,o,r);if(!p)return vt(e);typeof o.redirectTo=="string"&&o.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>ld&&(this.allowRedirects=!1));let H=new ot(r,m,Object.freeze(C({},this.urlTree.queryParams)),this.urlTree.fragment,Bs(o),Te(o),o.component??o._loadedComponent??null,o,Ws(o)),R=Ci(H,c,this.paramsInheritanceStrategy);return H.params=Object.freeze(R.params),H.data=Object.freeze(R.data),this.applyRedirects.applyRedirectCommands(h,o.redirectTo,b,H,t).pipe(oe(re=>this.applyRedirects.lineralizeSegments(o,re)),fe(re=>this.processSegment(t,i,e,re.concat(k),s,!1,c)))}matchSegmentAgainstRoute(t,e,i,o,r,s){let c=td(e,i,o,t,this.urlSerializer);return i.path==="**"&&(e.children={}),c.pipe(oe(p=>p.matched?(t=i._injector??t,this.getChildConfig(t,i,o).pipe(oe(({routes:m})=>{let h=i._loadedInjector??t,{parameters:b,consumedSegments:k,remainingSegments:H}=p,R=new ot(k,b,Object.freeze(C({},this.urlTree.queryParams)),this.urlTree.fragment,Bs(i),Te(i),i.component??i._loadedComponent??null,i,Ws(i)),F=Ci(R,s,this.paramsInheritanceStrategy);R.params=Object.freeze(F.params),R.data=Object.freeze(F.data);let{segmentGroup:re,slicedSegments:te}=Hs(e,k,H,m);if(te.length===0&&re.hasChildren())return this.processChildren(h,m,re,R).pipe(N(Ee=>new _e(R,Ee)));if(m.length===0&&te.length===0)return D(new _e(R,[]));let be=Te(i)===r;return this.processSegment(h,m,re,te,be?z:r,!0,R).pipe(N(Ee=>new _e(R,Ee instanceof _e?[Ee]:[])))}))):vt(e)))}getChildConfig(t,e,i){return e.children?D({routes:e.children,injector:t}):e.loadChildren?e._loadedRoutes!==void 0?D({routes:e._loadedRoutes,injector:e._loadedInjector}):Zl(t,e,i,this.urlSerializer).pipe(fe(o=>o?this.configLoader.loadChildren(t,e).pipe(de(r=>{e._loadedRoutes=r.routes,e._loadedInjector=r.injector})):Jl(e))):D({routes:[],injector:t})}};function dd(n){n.sort((t,e)=>t.value.outlet===z?-1:e.value.outlet===z?1:t.value.outlet.localeCompare(e.value.outlet))}function ud(n){let t=n.value.routeConfig;return t&&t.path===""}function _a(n){let t=[],e=new Set;for(let i of n){if(!ud(i)){t.push(i);continue}let o=t.find(r=>i.value.routeConfig===r.value.routeConfig);o!==void 0?(o.children.push(...i.children),e.add(o)):t.push(i)}for(let i of e){let o=_a(i.children);t.push(new _e(i.value,o))}return t.filter(i=>!e.has(i))}function Bs(n){return n.data||{}}function Ws(n){return n.resolve||{}}function pd(n,t,e,i,o,r){return fe(s=>cd(n,t,e,i,s.extractedUrl,o,r).pipe(N(({state:c,tree:p})=>I(C({},s),{targetSnapshot:c,urlAfterRedirects:p}))))}function md(n,t){return fe(e=>{let{targetSnapshot:i,guards:{canActivateChecks:o}}=e;if(!o.length)return D(e);let r=new Set(o.map(p=>p.route)),s=new Set;for(let p of r)if(!s.has(p))for(let m of Ca(p))s.add(m);let c=0;return xe(s).pipe(Je(p=>r.has(p)?gd(p,i,n,t):(p.data=Ci(p,p.parent,n).resolve,D(void 0))),de(()=>c++),Zi(1),fe(p=>c===s.size?D(e):Pe))})}function Ca(n){let t=n.children.map(e=>Ca(e)).flat();return[n,...t]}function gd(n,t,e,i){let o=n.routeConfig,r=n._resolve;return o?.title!==void 0&&!da(o)&&(r[mn]=o.title),Nn(()=>(n.data=Ci(n,n.parent,e).resolve,fd(r,n,t,i).pipe(N(s=>(n._resolvedData=s,n.data=C(C({},n.data),s),null)))))}function fd(n,t,e,i){let o=yo(n);if(o.length===0)return D({});let r={};return xe(o).pipe(fe(s=>hd(n[s],t,e,i).pipe(Ke(),de(c=>{if(c instanceof wt)throw bi(new st,c);r[s]=c}))),Zi(1),N(()=>r),Ie(s=>fa(s)?Pe:jt(s)))}function hd(n,t,e,i){let o=Ot(t)??i,r=St(n,o),s=r.resolve?r.resolve(t,e):Se(o,()=>r(t,e));return We(s)}function bo(n){return oe(t=>{let e=n(t);return e?xe(e).pipe(N(()=>t)):D(t)})}var Fo=(()=>{class n{buildTitle(e){let i,o=e.root;for(;o!==void 0;)i=this.getResolvedTitleForRoute(o)??i,o=o.children.find(r=>r.outlet===z);return i}getResolvedTitleForRoute(e){return e.data[mn]}static \u0275fac=function(i){return new(i||n)};static \u0275prov=L({token:n,factory:()=>_(ba),providedIn:"root"})}return n})(),ba=(()=>{class n extends Fo{title;constructor(e){super(),this.title=e}updateTitle(e){let i=this.buildTitle(e);i!==void 0&&this.title.setTitle(i)}static \u0275fac=function(i){return new(i||n)(P(Fs))};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),vn=new j("",{providedIn:"root",factory:()=>({})}),_n=new j(""),xa=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=_(ss);loadComponent(e,i){if(this.componentLoaders.get(i))return this.componentLoaders.get(i);if(i._loadedComponent)return D(i._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(i);let o=We(Se(e,()=>i.loadComponent())).pipe(N(Ma),oe(wa),de(s=>{this.onLoadEndListener&&this.onLoadEndListener(i),i._loadedComponent=s}),jn(()=>{this.componentLoaders.delete(i)})),r=new qi(o,()=>new ue).pipe(Wi());return this.componentLoaders.set(i,r),r}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return D({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let r=ya(i,this.compiler,e,this.onLoadEndListener).pipe(jn(()=>{this.childrenLoaders.delete(i)})),s=new qi(r,()=>new ue).pipe(Wi());return this.childrenLoaders.set(i,s),s}static \u0275fac=function(i){return new(i||n)};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function ya(n,t,e,i){return We(Se(e,()=>n.loadChildren())).pipe(N(Ma),oe(wa),fe(o=>o instanceof Yr||Array.isArray(o)?D(o):xe(t.compileModuleAsync(o))),N(o=>{i&&i(n);let r,s,c=!1;return Array.isArray(o)?(s=o,c=!0):(r=o.create(e).injector,s=r.get(_n,[],{optional:!0,self:!0}).flat()),{routes:s.map(Lo),injector:r}}))}function vd(n){return n&&typeof n=="object"&&"default"in n}function Ma(n){return vd(n)?n.default:n}function wa(n){return D(n)}var Ei=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275prov=L({token:n,factory:()=>_(_d),providedIn:"root"})}return n})(),_d=(()=>{class n{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,i){return e}static \u0275fac=function(i){return new(i||n)};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ea=new j("");var Oa=new j(""),Pa=(()=>{class n{currentNavigation=w(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=null;events=new ue;transitionAbortWithErrorSubject=new ue;configLoader=_(xa);environmentInjector=_(Ft);destroyRef=_(zt);urlSerializer=_(gn);rootContexts=_(Pt);location=_(Bn);inputBindingEnabled=_(Mi,{optional:!0})!==null;titleStrategy=_(Fo);options=_(vn,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=_(Ei);createViewTransition=_(Ea,{optional:!0});navigationErrorHandler=_(Oa,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>D(void 0);rootComponentType=null;destroyed=!1;constructor(){let e=o=>this.events.next(new ui(o)),i=o=>this.events.next(new pi(o));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=e,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(e){let i=++this.navigationId;Ne(()=>{this.transitions?.next(I(C({},e),{extractedUrl:this.urlHandlingStrategy.extract(e.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:i}))})}setupNavigations(e){return this.transitions=new pe(null),this.transitions.pipe(ae(i=>i!==null),oe(i=>{let o=!1;return D(i).pipe(oe(r=>{if(this.navigationId>i.id)return this.cancelNavigationTransition(i,"",he.SupersededByNewNavigation),Pe;this.currentTransition=i,this.currentNavigation.set({id:r.id,initialUrl:r.rawUrl,extractedUrl:r.extractedUrl,targetBrowserUrl:typeof r.extras.browserUrl=="string"?this.urlSerializer.parse(r.extras.browserUrl):r.extras.browserUrl,trigger:r.source,extras:r.extras,previousNavigation:this.lastSuccessfulNavigation?I(C({},this.lastSuccessfulNavigation),{previousNavigation:null}):null,abort:()=>r.abortController.abort()});let s=!e.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),c=r.extras.onSameUrlNavigation??e.onSameUrlNavigation;if(!s&&c!=="reload")return this.events.next(new Be(r.id,this.urlSerializer.serialize(r.rawUrl),"",rn.IgnoredSameUrlNavigation)),r.resolve(!1),Pe;if(this.urlHandlingStrategy.shouldProcessUrl(r.rawUrl))return D(r).pipe(oe(p=>(this.events.next(new at(p.id,this.urlSerializer.serialize(p.extractedUrl),p.source,p.restoredState)),p.id!==this.navigationId?Pe:Promise.resolve(p))),pd(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,this.paramsInheritanceStrategy),de(p=>{i.targetSnapshot=p.targetSnapshot,i.urlAfterRedirects=p.urlAfterRedirects,this.currentNavigation.update(h=>(h.finalUrl=p.urlAfterRedirects,h));let m=new sn(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(m)}));if(s&&this.urlHandlingStrategy.shouldProcessUrl(r.currentRawUrl)){let{id:p,extractedUrl:m,source:h,restoredState:b,extras:k}=r,H=new at(p,this.urlSerializer.serialize(m),h,b);this.events.next(H);let R=ca(this.rootComponentType).snapshot;return this.currentTransition=i=I(C({},r),{targetSnapshot:R,urlAfterRedirects:m,extras:I(C({},k),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(F=>(F.finalUrl=m,F)),D(i)}else return this.events.next(new Be(r.id,this.urlSerializer.serialize(r.extractedUrl),"",rn.IgnoredByUrlHandlingStrategy)),r.resolve(!1),Pe}),de(r=>{let s=new ai(r.id,this.urlSerializer.serialize(r.extractedUrl),this.urlSerializer.serialize(r.urlAfterRedirects),r.targetSnapshot);this.events.next(s)}),N(r=>(this.currentTransition=i=I(C({},r),{guards:Il(r.targetSnapshot,r.currentSnapshot,this.rootContexts)}),i)),Vl(this.environmentInjector,r=>this.events.next(r)),de(r=>{if(i.guardsResult=r.guardsResult,r.guardsResult&&typeof r.guardsResult!="boolean")throw bi(this.urlSerializer,r.guardsResult);let s=new ci(r.id,this.urlSerializer.serialize(r.extractedUrl),this.urlSerializer.serialize(r.urlAfterRedirects),r.targetSnapshot,!!r.guardsResult);this.events.next(s)}),ae(r=>r.guardsResult?!0:(this.cancelNavigationTransition(r,"",he.GuardRejected),!1)),bo(r=>{if(r.guards.canActivateChecks.length!==0)return D(r).pipe(de(s=>{let c=new li(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(c)}),oe(s=>{let c=!1;return D(s).pipe(md(this.paramsInheritanceStrategy,this.environmentInjector),de({next:()=>c=!0,complete:()=>{c||this.cancelNavigationTransition(s,"",he.NoDataFromResolver)}}))}),de(s=>{let c=new di(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(c)}))}),bo(r=>{let s=c=>{let p=[];if(c.routeConfig?.loadComponent){let m=Ot(c)??this.environmentInjector;p.push(this.configLoader.loadComponent(m,c.routeConfig).pipe(de(h=>{c.component=h}),N(()=>{})))}for(let m of c.children)p.push(...s(m));return p};return Gi(s(r.targetSnapshot.root)).pipe(Ki(null),me(1))}),bo(()=>this.afterPreactivation()),oe(()=>{let{currentSnapshot:r,targetSnapshot:s}=i,c=this.createViewTransition?.(this.environmentInjector,r.root,s.root);return c?xe(c).pipe(N(()=>i)):D(i)}),N(r=>{let s=Ol(e.routeReuseStrategy,r.targetSnapshot,r.currentRouterState);return this.currentTransition=i=I(C({},r),{targetRouterState:s}),this.currentNavigation.update(c=>(c.targetRouterState=s,c)),i}),de(()=>{this.events.next(new an)}),Tl(this.rootContexts,e.routeReuseStrategy,r=>this.events.next(r),this.inputBindingEnabled),me(1),et(new ve(r=>{let s=i.abortController.signal,c=()=>r.next();return s.addEventListener("abort",c),()=>s.removeEventListener("abort",c)}).pipe(ae(()=>!o&&!i.targetRouterState),de(()=>{this.cancelNavigationTransition(i,i.abortController.signal.reason+"",he.Aborted)}))),de({next:r=>{o=!0,this.lastSuccessfulNavigation=Ne(this.currentNavigation),this.events.next(new He(r.id,this.urlSerializer.serialize(r.extractedUrl),this.urlSerializer.serialize(r.urlAfterRedirects))),this.titleStrategy?.updateTitle(r.targetRouterState.snapshot),r.resolve(!0)},complete:()=>{o=!0}}),et(this.transitionAbortWithErrorSubject.pipe(de(r=>{throw r}))),jn(()=>{o||this.cancelNavigationTransition(i,"",he.SupersededByNewNavigation),this.currentTransition?.id===i.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),Ie(r=>{if(this.destroyed)return i.resolve(!1),Pe;if(o=!0,ga(r))this.events.next(new Fe(i.id,this.urlSerializer.serialize(i.extractedUrl),r.message,r.cancellationCode)),kl(r)?this.events.next(new Mt(r.url,r.navigationBehaviorOptions)):i.resolve(!1);else{let s=new yt(i.id,this.urlSerializer.serialize(i.extractedUrl),r,i.targetSnapshot??void 0);try{let c=Se(this.environmentInjector,()=>this.navigationErrorHandler?.(s));if(c instanceof wt){let{message:p,cancellationCode:m}=bi(this.urlSerializer,c);this.events.next(new Fe(i.id,this.urlSerializer.serialize(i.extractedUrl),p,m)),this.events.next(new Mt(c.redirectTo,c.navigationBehaviorOptions))}else throw this.events.next(s),r}catch(c){this.options.resolveNavigationPromiseOnError?i.resolve(!1):i.reject(c)}}return Pe}))}))}cancelNavigationTransition(e,i,o){let r=new Fe(e.id,this.urlSerializer.serialize(e.extractedUrl),i,o);this.events.next(r),e.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let e=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=Ne(this.currentNavigation),o=i?.targetBrowserUrl??i?.extractedUrl;return e.toString()!==o?.toString()&&!i?.extras.skipLocationChange}static \u0275fac=function(i){return new(i||n)};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Cd(n){return n!==tn}var Sa=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275prov=L({token:n,factory:()=>_(bd),providedIn:"root"})}return n})(),yi=class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}},bd=(()=>{class n extends yi{static \u0275fac=(()=>{let e;return function(o){return(e||(e=nt(n)))(o||n)}})();static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ka=(()=>{class n{urlSerializer=_(gn);options=_(vn,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=_(Bn);urlHandlingStrategy=_(Ei);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new ze;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:e,initialUrl:i,targetBrowserUrl:o}){let r=e!==void 0?this.urlHandlingStrategy.merge(e,i):i,s=o??r;return s instanceof ze?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:e,finalUrl:i,initialUrl:o}){i&&e?(this.currentUrlTree=i,this.rawUrlTree=this.urlHandlingStrategy.merge(i,o),this.routerState=e):this.rawUrlTree=o}routerState=ca(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:e}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e??this.rawUrlTree)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=L({token:n,factory:()=>_(xd),providedIn:"root"})}return n})(),xd=(()=>{class n extends ka{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(e){return this.location.subscribe(i=>{i.type==="popstate"&&setTimeout(()=>{e(i.url,i.state,"popstate")})})}handleRouterEvent(e,i){e instanceof at?this.updateStateMemento():e instanceof Be?this.commitTransition(i):e instanceof sn?this.urlUpdateStrategy==="eager"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(i),i)):e instanceof an?(this.commitTransition(i),this.urlUpdateStrategy==="deferred"&&!i.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(i),i)):e instanceof Fe&&e.code!==he.SupersededByNewNavigation&&e.code!==he.Redirect?this.restoreHistory(i):e instanceof yt?this.restoreHistory(i,!0):e instanceof He&&(this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId)}setBrowserUrl(e,{extras:i,id:o}){let{replaceUrl:r,state:s}=i;if(this.location.isCurrentPathEqualTo(e)||r){let c=this.browserPageId,p=C(C({},s),this.generateNgRouterState(o,c));this.location.replaceState(e,"",p)}else{let c=C(C({},s),this.generateNgRouterState(o,this.browserPageId+1));this.location.go(e,"",c)}}restoreHistory(e,i=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,r=this.currentPageId-o;r!==0?this.location.historyGo(r):this.getCurrentUrlTree()===e.finalUrl&&r===0&&(this.resetInternalState(e),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetInternalState(e),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,i){return this.canceledNavigationResolution==="computed"?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}static \u0275fac=(()=>{let e;return function(o){return(e||(e=nt(n)))(o||n)}})();static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function zo(n,t){n.events.pipe(ae(e=>e instanceof He||e instanceof Fe||e instanceof yt||e instanceof Be),N(e=>e instanceof He||e instanceof Be?0:(e instanceof Fe?e.code===he.Redirect||e.code===he.SupersededByNewNavigation:!1)?2:1),ae(e=>e!==2),me(1)).subscribe(()=>{t()})}var yd={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Md={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Oi=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=_(Qr);stateManager=_(ka);options=_(vn,{optional:!0})||{};pendingTasks=_(jr);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=_(Pa);urlSerializer=_(gn);location=_(Bn);urlHandlingStrategy=_(Ei);injector=_(Ft);_events=new ue;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=_(Sa);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=_(_n,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!_(Mi,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:e=>{this.console.warn(e)}}),this.subscribeToNavigationEvents()}eventsSubscription=new mr;subscribeToNavigationEvents(){let e=this.navigationTransitions.events.subscribe(i=>{try{let o=this.navigationTransitions.currentTransition,r=Ne(this.navigationTransitions.currentNavigation);if(o!==null&&r!==null){if(this.stateManager.handleRouterEvent(i,r),i instanceof Fe&&i.code!==he.Redirect&&i.code!==he.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof He)this.navigated=!0;else if(i instanceof Mt){let s=i.navigationBehaviorOptions,c=this.urlHandlingStrategy.merge(i.url,o.currentRawUrl),p=C({browserUrl:o.extras.browserUrl,info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:o.extras.replaceUrl||this.urlUpdateStrategy==="eager"||Cd(o.source)},s);this.scheduleNavigation(c,tn,null,p,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}yl(i)&&this._events.next(i)}catch(o){this.navigationTransitions.transitionAbortWithErrorSubject.next(o)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),tn,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((e,i,o)=>{this.navigateToSyncWithBrowser(e,o,i)})}navigateToSyncWithBrowser(e,i,o){let r={replaceUrl:!0},s=o?.navigationId?o:null;if(o){let p=C({},o);delete p.navigationId,delete p.\u0275routerPageId,Object.keys(p).length!==0&&(r.state=p)}let c=this.parseUrl(e);this.scheduleNavigation(c,i,s,r).catch(p=>{this.disposed||this.injector.get(Qi)(p)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return Ne(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(Lo),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,i={}){let{relativeTo:o,queryParams:r,fragment:s,queryParamsHandling:c,preserveFragment:p}=i,m=p?this.currentUrlTree.fragment:s,h=null;switch(c??this.options.defaultQueryParamsHandling){case"merge":h=C(C({},this.currentUrlTree.queryParams),r);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=r||null}h!==null&&(h=this.removeEmptyProps(h));let b;try{let k=o?o.snapshot:this.routerState.snapshot.root;b=oa(k)}catch{(typeof e[0]!="string"||e[0][0]!=="/")&&(e=[]),b=this.currentUrlTree.root}return ra(b,e,h,m??null)}navigateByUrl(e,i={skipLocationChange:!1}){let o=xt(e)?e:this.parseUrl(e),r=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(r,tn,null,i)}navigate(e,i={skipLocationChange:!1}){return wd(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){try{return this.urlSerializer.parse(e)}catch{return this.urlSerializer.parse("/")}}isActive(e,i){let o;if(i===!0?o=C({},yd):i===!1?o=C({},Md):o=i,xt(e))return zs(this.currentUrlTree,e,o);let r=this.parseUrl(e);return zs(this.currentUrlTree,r,o)}removeEmptyProps(e){return Object.entries(e).reduce((i,[o,r])=>(r!=null&&(i[o]=r),i),{})}scheduleNavigation(e,i,o,r,s){if(this.disposed)return Promise.resolve(!1);let c,p,m;s?(c=s.resolve,p=s.reject,m=s.promise):m=new Promise((b,k)=>{c=b,p=k});let h=this.pendingTasks.add();return zo(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:r,resolve:c,reject:p,promise:m,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),m.catch(b=>Promise.reject(b))}static \u0275fac=function(i){return new(i||n)};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function wd(n){for(let t=0;t<n.length;t++)if(n[t]==null)throw new K(4008,!1)}var Od=new j("");function Uo(n,...t){return Re([{provide:_n,multi:!0,useValue:n},[],{provide:Qe,useFactory:Pd,deps:[Oi]},{provide:es,multi:!0,useFactory:Sd},t.map(e=>e.\u0275providers)])}function Pd(n){return n.routerState.root}function Sd(){let n=_(ye);return t=>{let e=n.get(Vt);if(t!==e.components[0])return;let i=n.get(Oi),o=n.get(kd);n.get(Td)===1&&i.initialNavigation(),n.get(Id,null,{optional:!0})?.setUpPreloading(),n.get(Od,null,{optional:!0})?.init(),i.resetRootComponentType(e.componentTypes[0]),o.closed||(o.next(),o.complete(),o.unsubscribe())}}var kd=new j("",{factory:()=>new ue}),Td=new j("",{providedIn:"root",factory:()=>1});var Id=new j("");function Pi(n,t){let i=!t?.manualCleanup?t?.injector?.get(zt)??_(zt):null,o=Ad(t?.equal),r;t?.requireSync?r=w({kind:0},{equal:o}):r=w({kind:1,value:t?.initialValue},{equal:o});let s,c=n.subscribe({next:p=>r.set({kind:1,value:p}),error:p=>{r.set({kind:2,error:p}),s?.()},complete:()=>{s?.()}});if(t?.requireSync&&r().kind===0)throw new K(601,!1);return s=i?.onDestroy(c.unsubscribe.bind(c)),G(()=>{let p=r();switch(p.kind){case 1:return p.value;case 2:throw p.error;case 0:throw new K(601,!1)}},{equal:t?.equal})}function Ad(n=Object.is){return(t,e)=>t.kind===1&&e.kind===1&&n(t.value,e.value)}var Ho={};function $a(n,t){if(Ho[n]=(Ho[n]||0)+1,typeof t=="function")return $o(n,(...i)=>I(C({},t(...i)),{type:n}));switch(t?t._as:"empty"){case"empty":return $o(n,()=>({type:n}));case"props":return $o(n,i=>I(C({},i),{type:n}));default:throw new Error("Unexpected config.")}}function $o(n,t){return Object.defineProperty(t,"type",{value:n,writable:!1})}function Dd(n,t){if(n==null)throw new Error(`${t} must be defined.`)}var xn="@ngrx/store/init",Ue=(()=>{let t=class t extends pe{constructor(){super({type:xn})}next(i){if(typeof i=="function")throw new TypeError(`
        Dispatch expected an object, instead it received a function.
        If you're using the createAction function, make sure to invoke the function
        before dispatching the action. For example, someAction should be someAction().`);if(typeof i>"u")throw new TypeError("Actions must be objects");if(typeof i.type>"u")throw new TypeError("Actions must have a type property");super.next(i)}complete(){}ngOnDestroy(){super.complete()}};t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=L({token:t,factory:t.\u0275fac});let n=t;return n})(),Nd=[Ue],Va=new j("@ngrx/store Internal Root Guard"),Ta=new j("@ngrx/store Internal Initial State"),yn=new j("@ngrx/store Initial State"),Ha=new j("@ngrx/store Reducer Factory"),Ia=new j("@ngrx/store Internal Reducer Factory Provider"),Ba=new j("@ngrx/store Initial Reducers"),Vo=new j("@ngrx/store Internal Initial Reducers");var Ra=new j("@ngrx/store Internal Store Reducers");var jd=new j("@ngrx/store Internal Store Features");var Ld=new j("@ngrx/store Feature Reducers"),Aa=new j("@ngrx/store User Provided Meta Reducers"),Si=new j("@ngrx/store Meta Reducers"),Da=new j("@ngrx/store Internal Resolved Meta Reducers"),Na=new j("@ngrx/store User Runtime Checks Config"),ja=new j("@ngrx/store Internal User Runtime Checks Config"),Cn=new j("@ngrx/store Internal Runtime Checks"),Go=new j("@ngrx/store Check if Action types are unique"),bn=new j("@ngrx/store Root Store Provider"),ki=new j("@ngrx/store Feature State Provider");function Fd(n,t={}){let e=Object.keys(n),i={};for(let r=0;r<e.length;r++){let s=e[r];typeof n[s]=="function"&&(i[s]=n[s])}let o=Object.keys(i);return function(s,c){s=s===void 0?t:s;let p=!1,m={};for(let h=0;h<o.length;h++){let b=o[h],k=i[b],H=s[b],R=k(H,c);m[b]=R,p=p||R!==H}return p?m:s}}function zd(n,t){return Object.keys(n).filter(e=>e!==t).reduce((e,i)=>Object.assign(e,{[i]:n[i]}),{})}function Wa(...n){return function(t){if(n.length===0)return t;let e=n[n.length-1];return n.slice(0,-1).reduceRight((o,r)=>r(o),e(t))}}function qa(n,t){return Array.isArray(t)&&t.length>0&&(n=Wa.apply(null,[...t,n])),(e,i)=>{let o=n(e);return(r,s)=>(r=r===void 0?i:r,o(r,s))}}function Ud(n){let t=Array.isArray(n)&&n.length>0?Wa(...n):e=>e;return(e,i)=>(e=t(e),(o,r)=>(o=o===void 0?i:o,e(o,r)))}var ct=class extends ve{},kt=class extends Ue{},Ii="@ngrx/store/update-reducers",Ti=(()=>{let t=class t extends pe{get currentReducers(){return this.reducers}constructor(i,o,r,s){super(s(r,o)),this.dispatcher=i,this.initialState=o,this.reducers=r,this.reducerFactory=s}addFeature(i){this.addFeatures([i])}addFeatures(i){let o=i.reduce((r,{reducers:s,reducerFactory:c,metaReducers:p,initialState:m,key:h})=>{let b=typeof s=="function"?Ud(p)(s,m):qa(c,p)(s,m);return r[h]=b,r},{});this.addReducers(o)}removeFeature(i){this.removeFeatures([i])}removeFeatures(i){this.removeReducers(i.map(o=>o.key))}addReducer(i,o){this.addReducers({[i]:o})}addReducers(i){this.reducers=C(C({},this.reducers),i),this.updateReducers(Object.keys(i))}removeReducer(i){this.removeReducers([i])}removeReducers(i){i.forEach(o=>{this.reducers=zd(this.reducers,o)}),this.updateReducers(i)}updateReducers(i){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:Ii,features:i})}ngOnDestroy(){this.complete()}};t.\u0275fac=function(o){return new(o||t)(P(kt),P(yn),P(Ba),P(Ha))},t.\u0275prov=L({token:t,factory:t.\u0275fac});let n=t;return n})(),$d=[Ti,{provide:ct,useExisting:Ti},{provide:kt,useExisting:Ue}],It=(()=>{let t=class t extends ue{ngOnDestroy(){this.complete()}};t.\u0275fac=(()=>{let i;return function(r){return(i||(i=nt(t)))(r||t)}})(),t.\u0275prov=L({token:t,factory:t.\u0275fac});let n=t;return n})(),Vd=[It],Tt=class extends ve{},La=(()=>{let t=class t extends pe{constructor(i,o,r,s){super(s);let p=i.pipe(Dn(An)).pipe(Ln(o)),m={state:s},h=p.pipe(ut(Hd,m));this.stateSubscription=h.subscribe(({state:b,action:k})=>{this.next(b),r.next(k)}),this.state=Pi(this,{manualCleanup:!0,requireSync:!0})}ngOnDestroy(){this.stateSubscription.unsubscribe(),this.complete()}};t.INIT=xn,t.\u0275fac=function(o){return new(o||t)(P(Ue),P(ct),P(It),P(yn))},t.\u0275prov=L({token:t,factory:t.\u0275fac});let n=t;return n})();function Hd(n={state:void 0},[t,e]){let{state:i}=n;return{state:e(i,t),action:t}}var Bd=[La,{provide:Tt,useExisting:La}],lt=(()=>{let t=class t extends ve{constructor(i,o,r,s){super(),this.actionsObserver=o,this.reducerManager=r,this.injector=s,this.source=i,this.state=i.state}select(i,...o){return qd.call(null,i,...o)(this)}selectSignal(i,o){return G(()=>i(this.state()),o)}lift(i){let o=new t(this,this.actionsObserver,this.reducerManager);return o.operator=i,o}dispatch(i,o){if(typeof i=="function")return this.processDispatchFn(i,o);this.actionsObserver.next(i)}next(i){this.actionsObserver.next(i)}error(i){this.actionsObserver.error(i)}complete(){this.actionsObserver.complete()}addReducer(i,o){this.reducerManager.addReducer(i,o)}removeReducer(i){this.reducerManager.removeReducer(i)}processDispatchFn(i,o){Dd(this.injector,"Store Injector");let r=o?.injector??Gd()??this.injector;return Ve(()=>{let s=i();Ne(()=>this.dispatch(s))},{injector:r})}};t.\u0275fac=function(o){return new(o||t)(P(Tt),P(Ue),P(Ti),P(ye))},t.\u0275prov=L({token:t,factory:t.\u0275fac});let n=t;return n})(),Wd=[lt];function qd(n,t,...e){return function(o){let r;if(typeof n=="string"){let s=[t,...e].filter(Boolean);r=o.pipe(Pr(n,...s))}else if(typeof n=="function")r=o.pipe(N(s=>n(s,t)));else throw new TypeError(`Unexpected type '${typeof n}' in select operator, expected 'string' or 'function'`);return r.pipe(Mr())}}function Gd(){try{return _(ye)}catch{return}}var Ko="https://ngrx.io/guide/store/configuration/runtime-checks";function Fa(n){return n===void 0}function za(n){return n===null}function Ga(n){return Array.isArray(n)}function Kd(n){return typeof n=="string"}function Yd(n){return typeof n=="boolean"}function Zd(n){return typeof n=="number"}function Ka(n){return typeof n=="object"&&n!==null}function Xd(n){return Ka(n)&&!Ga(n)}function Qd(n){if(!Xd(n))return!1;let t=Object.getPrototypeOf(n);return t===Object.prototype||t===null}function Bo(n){return typeof n=="function"}function Jd(n){return Bo(n)&&n.hasOwnProperty("\u0275cmp")}function eu(n,t){return Object.prototype.hasOwnProperty.call(n,t)}function tu(n){return n instanceof j?_(n):n}function Ya(n){return typeof n=="function"?n():n}function nu(n,t){return n.concat(t)}function iu(){if(_(lt,{optional:!0,skipSelf:!0}))throw new TypeError("The root Store has been provided more than once. Feature modules should provide feature states instead.");return"guarded"}function ou(n,t){return function(e,i){let o=t.action(i)?Wo(i):i,r=n(e,o);return t.state()?Wo(r):r}}function Wo(n){Object.freeze(n);let t=Bo(n);return Object.getOwnPropertyNames(n).forEach(e=>{if(!e.startsWith("\u0275")&&eu(n,e)&&(!t||e!=="caller"&&e!=="callee"&&e!=="arguments")){let i=n[e];(Ka(i)||Bo(i))&&!Object.isFrozen(i)&&Wo(i)}}),n}function ru(n,t){return function(e,i){if(t.action(i)){let r=qo(i);Ua(r,"action")}let o=n(e,i);if(t.state()){let r=qo(o);Ua(r,"state")}return o}}function qo(n,t=[]){return(Fa(n)||za(n))&&t.length===0?{path:["root"],value:n}:Object.keys(n).reduce((i,o)=>{if(i)return i;let r=n[o];return Jd(r)?i:Fa(r)||za(r)||Zd(r)||Yd(r)||Kd(r)||Ga(r)?!1:Qd(r)?qo(r,[...t,o]):{path:[...t,o],value:r}},!1)}function Ua(n,t){if(n===!1)return;let e=n.path.join("."),i=new Error(`Detected unserializable ${t} at "${e}". ${Ko}#strict${t}serializability`);throw i.value=n.value,i.unserializablePath=e,i}function su(n,t){return function(e,i){if(t.action(i)&&!ke.isInAngularZone())throw new Error(`Action '${i.type}' running outside NgZone. ${Ko}#strictactionwithinngzone`);return n(e,i)}}function au(n){return Bt()?C({strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!0,strictActionImmutability:!0,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1},n):{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1}}function cu({strictActionSerializability:n,strictStateSerializability:t}){return e=>n||t?ru(e,{action:i=>n&&!Yo(i),state:()=>t}):e}function lu({strictActionImmutability:n,strictStateImmutability:t}){return e=>n||t?ou(e,{action:i=>n&&!Yo(i),state:()=>t}):e}function Yo(n){return n.type.startsWith("@ngrx")}function du({strictActionWithinNgZone:n}){return t=>n?su(t,{action:e=>n&&!Yo(e)}):t}function uu(n){return[{provide:ja,useValue:n},{provide:Na,useFactory:mu,deps:[ja]},{provide:Cn,deps:[Na],useFactory:au},{provide:Si,multi:!0,deps:[Cn],useFactory:lu},{provide:Si,multi:!0,deps:[Cn],useFactory:cu},{provide:Si,multi:!0,deps:[Cn],useFactory:du}]}function pu(){return[{provide:Go,multi:!0,deps:[Cn],useFactory:gu}]}function mu(n){return n}function gu(n){if(!n.strictActionTypeUniqueness)return;let t=Object.entries(Ho).filter(([,e])=>e>1).map(([e])=>e);if(t.length)throw new Error(`Action types are registered more than once, ${t.map(e=>`"${e}"`).join(", ")}. ${Ko}#strictactiontypeuniqueness`)}function fu(n={},t={}){return[{provide:Va,useFactory:iu},{provide:Ta,useValue:t.initialState},{provide:yn,useFactory:Ya,deps:[Ta]},{provide:Vo,useValue:n},{provide:Ra,useExisting:n instanceof j?n:Vo},{provide:Ba,deps:[Vo,[new Lr(Ra)]],useFactory:tu},{provide:Aa,useValue:t.metaReducers?t.metaReducers:[]},{provide:Da,deps:[Si,Aa],useFactory:nu},{provide:Ia,useValue:t.reducerFactory?t.reducerFactory:Fd},{provide:Ha,deps:[Ia,Da],useFactory:qa},Nd,$d,Vd,Bd,Wd,uu(t.runtimeChecks),pu()]}function hu(){_(Ue),_(ct),_(It),_(lt),_(Va,{optional:!0}),_(Go,{optional:!0})}var vu=[{provide:bn,useFactory:hu},Lt(()=>_(bn))];function Za(n,t){return Re([...fu(n,t),vu])}function _u(){_(bn);let n=_(jd),t=_(Ld),e=_(Ti);_(Go,{optional:!0});let i=n.map((o,r)=>{let c=t.shift()[r];return I(C({},o),{reducers:c,initialState:Ya(o.initialState)})});e.addFeatures(i)}var hh=[{provide:ki,useFactory:_u},Lt(()=>_(ki))];var Zo="__@ngrx/effects_create__";function Cu(n){return Object.getOwnPropertyNames(n).filter(i=>n[i]&&n[i].hasOwnProperty(Zo)?n[i][Zo].hasOwnProperty("dispatch"):!1).map(i=>{let o=n[i][Zo];return C({propertyName:i},o)})}function bu(n){return Cu(n)}function Qa(n){return Object.getPrototypeOf(n)}function xu(n){return!!n.constructor&&n.constructor.name!=="Object"&&n.constructor.name!=="Function"}function Ja(n){return typeof n=="function"}function yu(n){return n.filter(Ja)}function Mu(n,t,e){let i=Qa(n),r=!!i&&i.constructor.name!=="Object"?i.constructor.name:null,s=bu(n).map(({propertyName:c,dispatch:p,useEffectsErrorHandler:m})=>{let h=typeof n[c]=="function"?n[c]():n[c],b=m?e(h,t):h;return p===!1?b.pipe(xr()):b.pipe(Or()).pipe(N(H=>({effect:n[c],notification:H,propertyName:c,sourceName:r,sourceInstance:n})))});return dt(...s)}var wu=10;function ec(n,t,e=wu){return n.pipe(Ie(i=>(t&&t.handleError(i),e<=1?n:ec(n,t,e-1))))}var Eu=new j("@ngrx/effects Effects Error Handler",{providedIn:"root",factory:()=>ec}),Ou="@ngrx/effects/init",Pu=$a(Ou);function Su(n,t){if(n.notification.kind==="N"){let e=n.notification.value;!ku(e)&&t.handleError(new Error(`Effect ${Tu(n)} dispatched an invalid action: ${Iu(e)}`))}}function ku(n){return typeof n!="function"&&n&&n.type&&typeof n.type=="string"}function Tu({propertyName:n,sourceInstance:t,sourceName:e}){let i=typeof t[n]=="function";return!!e?`"${e}.${String(n)}${i?"()":""}"`:`"${String(n)}()"`}function Iu(n){try{return JSON.stringify(n)}catch{return n}}var Ru="ngrxOnIdentifyEffects";function Au(n){return Xo(n,Ru)}var Du="ngrxOnRunEffects";function Nu(n){return Xo(n,Du)}var ju="ngrxOnInitEffects";function Lu(n){return Xo(n,ju)}function Xo(n,t){return n&&t in n&&typeof n[t]=="function"}var tc=(()=>{let t=class t extends ue{constructor(i,o){super(),this.errorHandler=i,this.effectsErrorHandler=o}addEffects(i){this.next(i)}toActions(){return this.pipe(Yi(i=>xu(i)?Qa(i):i),fe(i=>i.pipe(Yi(Fu))),fe(i=>{let o=i.pipe(wr(s=>zu(this.errorHandler,this.effectsErrorHandler)(s)),N(s=>(Su(s,this.errorHandler),s.notification)),ae(s=>s.kind==="N"&&s.value!=null),yr()),r=i.pipe(me(1),ae(Lu),N(s=>s.ngrxOnInitEffects()));return dt(o,r)}))}};t.\u0275fac=function(o){return new(o||t)(P(tt),P(Eu))},t.\u0275prov=L({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();function Fu(n){return Au(n)?n.ngrxOnIdentifyEffects():""}function zu(n,t){return e=>{let i=Mu(e,n,t);return Nu(e)?e.ngrxOnRunEffects(i):i}}var Uu=(()=>{let t=class t{get isStarted(){return!!this.effectsSubscription}constructor(i,o){this.effectSources=i,this.store=o,this.effectsSubscription=null}start(){this.effectsSubscription||(this.effectsSubscription=this.effectSources.toActions().subscribe(this.store))}ngOnDestroy(){this.effectsSubscription&&(this.effectsSubscription.unsubscribe(),this.effectsSubscription=null)}};t.\u0275fac=function(o){return new(o||t)(P(tc),P(lt))},t.\u0275prov=L({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();function nc(...n){let t=n.flat(),e=yu(t);return Re([e,Lt(()=>{_(bn),_(ki,{optional:!0});let i=_(Uu),o=_(tc),r=!i.isStarted;r&&i.start();for(let s of t){let c=Ja(s)?_(s):s;o.addEffects(c)}r&&_(lt).dispatch(Pu())})])}var wn="PERFORM_ACTION",$u="REFRESH",cc="RESET",lc="ROLLBACK",dc="COMMIT",uc="SWEEP",pc="TOGGLE_ACTION",Vu="SET_ACTIONS_ACTIVE",mc="JUMP_TO_STATE",gc="JUMP_TO_ACTION",dr="IMPORT_STATE",fc="LOCK_CHANGES",hc="PAUSE_RECORDING",Rt=class{constructor(t,e){if(this.action=t,this.timestamp=e,this.type=wn,typeof t.type>"u")throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?')}},Qo=class{constructor(){this.type=$u}},Jo=class{constructor(t){this.timestamp=t,this.type=cc}},er=class{constructor(t){this.timestamp=t,this.type=lc}},tr=class{constructor(t){this.timestamp=t,this.type=dc}},nr=class{constructor(){this.type=uc}},ir=class{constructor(t){this.id=t,this.type=pc}};var or=class{constructor(t){this.index=t,this.type=mc}},rr=class{constructor(t){this.actionId=t,this.type=gc}},sr=class{constructor(t){this.nextLiftedState=t,this.type=dr}},ar=class{constructor(t){this.status=t,this.type=fc}},cr=class{constructor(t){this.status=t,this.type=hc}};var Ni=new j("@ngrx/store-devtools Options"),ic=new j("@ngrx/store-devtools Initial Config");function vc(){return null}var Hu="NgRx Store DevTools";function Bu(n){let t={maxAge:!1,monitor:vc,actionSanitizer:void 0,stateSanitizer:void 0,name:Hu,serialize:!1,logOnly:!1,autoPause:!1,trace:!1,traceLimit:75,features:{pause:!0,lock:!0,persist:!0,export:!0,import:"custom",jump:!0,skip:!0,reorder:!0,dispatch:!0,test:!0},connectInZone:!1},e=typeof n=="function"?n():n,i=e.logOnly?{pause:!0,export:!0,test:!0}:!1,o=e.features||i||t.features;o.import===!0&&(o.import="custom");let r=Object.assign({},t,{features:o},e);if(r.maxAge&&r.maxAge<2)throw new Error(`Devtools 'maxAge' cannot be less than 2, got ${r.maxAge}`);return r}function oc(n,t){return n.filter(e=>t.indexOf(e)<0)}function _c(n){let{computedStates:t,currentStateIndex:e}=n;if(e>=t.length){let{state:o}=t[t.length-1];return o}let{state:i}=t[e];return i}function Mn(n){return new Rt(n,+Date.now())}function Wu(n,t){return Object.keys(t).reduce((e,i)=>{let o=Number(i);return e[o]=Cc(n,t[o],o),e},{})}function Cc(n,t,e){return I(C({},t),{action:n(t.action,e)})}function qu(n,t){return t.map((e,i)=>({state:bc(n,e.state,i),error:e.error}))}function bc(n,t,e){return n(t,e)}function xc(n){return n.predicate||n.actionsSafelist||n.actionsBlocklist}function Gu(n,t,e,i){let o=[],r={},s=[];return n.stagedActionIds.forEach((c,p)=>{let m=n.actionsById[c];m&&(p&&ur(n.computedStates[p],m,t,e,i)||(r[c]=m,o.push(c),s.push(n.computedStates[p])))}),I(C({},n),{stagedActionIds:o,actionsById:r,computedStates:s})}function ur(n,t,e,i,o){let r=e&&!e(n,t.action),s=i&&!t.action.type.match(i.map(p=>rc(p)).join("|")),c=o&&t.action.type.match(o.map(p=>rc(p)).join("|"));return r||s||c}function rc(n){return n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function yc(n){return{ngZone:n?_(ke):null,connectInZone:n}}var ji=(()=>{let t=class t extends Ue{};t.\u0275fac=(()=>{let i;return function(r){return(i||(i=nt(t)))(r||t)}})(),t.\u0275prov=L({token:t,factory:t.\u0275fac});let n=t;return n})(),Ri={START:"START",DISPATCH:"DISPATCH",STOP:"STOP",ACTION:"ACTION"},lr=new j("@ngrx/store-devtools Redux Devtools Extension"),Mc=(()=>{let t=class t{constructor(i,o,r){this.config=o,this.dispatcher=r,this.zoneConfig=yc(this.config.connectInZone),this.devtoolsExtension=i,this.createActionStreams()}notify(i,o){if(this.devtoolsExtension)if(i.type===wn){if(o.isLocked||o.isPaused)return;let r=_c(o);if(xc(this.config)&&ur(r,i,this.config.predicate,this.config.actionsSafelist,this.config.actionsBlocklist))return;let s=this.config.stateSanitizer?bc(this.config.stateSanitizer,r,o.currentStateIndex):r,c=this.config.actionSanitizer?Cc(this.config.actionSanitizer,i,o.nextActionId):i;this.sendToReduxDevtools(()=>this.extensionConnection.send(c,s))}else{let r=I(C({},o),{stagedActionIds:o.stagedActionIds,actionsById:this.config.actionSanitizer?Wu(this.config.actionSanitizer,o.actionsById):o.actionsById,computedStates:this.config.stateSanitizer?qu(this.config.stateSanitizer,o.computedStates):o.computedStates});this.sendToReduxDevtools(()=>this.devtoolsExtension.send(null,r,this.getExtensionConfig(this.config)))}}createChangesObservable(){return this.devtoolsExtension?new ve(i=>{let o=this.zoneConfig.connectInZone?this.zoneConfig.ngZone.runOutsideAngular(()=>this.devtoolsExtension.connect(this.getExtensionConfig(this.config))):this.devtoolsExtension.connect(this.getExtensionConfig(this.config));return this.extensionConnection=o,o.init(),o.subscribe(r=>i.next(r)),o.unsubscribe}):Pe}createActionStreams(){let i=this.createChangesObservable().pipe(Sr()),o=i.pipe(ae(h=>h.type===Ri.START)),r=i.pipe(ae(h=>h.type===Ri.STOP)),s=i.pipe(ae(h=>h.type===Ri.DISPATCH),N(h=>this.unwrapAction(h.payload)),Je(h=>h.type===dr?this.dispatcher.pipe(ae(b=>b.type===Ii),_r(1e3),br(1e3),N(()=>h),Ie(()=>D(h)),me(1)):D(h))),p=i.pipe(ae(h=>h.type===Ri.ACTION),N(h=>this.unwrapAction(h.payload))).pipe(et(r)),m=s.pipe(et(r));this.start$=o.pipe(et(r)),this.actions$=this.start$.pipe(oe(()=>p)),this.liftedActions$=this.start$.pipe(oe(()=>m))}unwrapAction(i){return typeof i=="string"?(0,eval)(`(${i})`):i}getExtensionConfig(i){let o={name:i.name,features:i.features,serialize:i.serialize,autoPause:i.autoPause??!1,trace:i.trace??!1,traceLimit:i.traceLimit??75};return i.maxAge!==!1&&(o.maxAge=i.maxAge),o}sendToReduxDevtools(i){try{i()}catch(o){console.warn("@ngrx/store-devtools: something went wrong inside the redux devtools",o)}}};t.\u0275fac=function(o){return new(o||t)(P(lr),P(Ni),P(ji))},t.\u0275prov=L({token:t,factory:t.\u0275fac});let n=t;return n})(),Di={type:xn},Ku="@ngrx/store-devtools/recompute",Yu={type:Ku};function wc(n,t,e,i,o){if(i)return{state:e,error:"Interrupted by an error up the chain"};let r=e,s;try{r=n(e,t)}catch(c){s=c.toString(),o.handleError(c)}return{state:r,error:s}}function Ai(n,t,e,i,o,r,s,c,p){if(t>=n.length&&n.length===r.length)return n;let m=n.slice(0,t),h=r.length-(p?1:0);for(let b=t;b<h;b++){let k=r[b],H=o[k].action,R=m[b-1],F=R?R.state:i,re=R?R.error:void 0,be=s.indexOf(k)>-1?R:wc(e,H,F,re,c);m.push(be)}return p&&m.push(n[n.length-1]),m}function Zu(n,t){return{monitorState:t(void 0,{}),nextActionId:1,actionsById:{0:Mn(Di)},stagedActionIds:[0],skippedActionIds:[],committedState:n,currentStateIndex:0,computedStates:[],isLocked:!1,isPaused:!1}}function Xu(n,t,e,i,o={}){return r=>(s,c)=>{let{monitorState:p,actionsById:m,nextActionId:h,stagedActionIds:b,skippedActionIds:k,committedState:H,currentStateIndex:R,computedStates:F,isLocked:re,isPaused:te}=s||t;s||(m=Object.create(m));function be(se){let J=se,qe=b.slice(1,J+1);for(let Oe=0;Oe<qe.length;Oe++)if(F[Oe+1].error){J=Oe,qe=b.slice(1,J+1);break}else delete m[qe[Oe]];k=k.filter(Oe=>qe.indexOf(Oe)===-1),b=[0,...b.slice(J+1)],H=F[J].state,F=F.slice(J),R=R>J?R-J:0}function Ee(){m={0:Mn(Di)},h=1,b=[0],k=[],H=F[R].state,R=0,F=[]}let Z=0;switch(c.type){case fc:{re=c.status,Z=1/0;break}case hc:{te=c.status,te?(b=[...b,h],m[h]=new Rt({type:"@ngrx/devtools/pause"},+Date.now()),h++,Z=b.length-1,F=F.concat(F[F.length-1]),R===b.length-2&&R++,Z=1/0):Ee();break}case cc:{m={0:Mn(Di)},h=1,b=[0],k=[],H=n,R=0,F=[];break}case dc:{Ee();break}case lc:{m={0:Mn(Di)},h=1,b=[0],k=[],R=0,F=[];break}case pc:{let{id:se}=c;k.indexOf(se)===-1?k=[se,...k]:k=k.filter(qe=>qe!==se),Z=b.indexOf(se);break}case Vu:{let{start:se,end:J,active:qe}=c,Oe=[];for(let Bi=se;Bi<J;Bi++)Oe.push(Bi);qe?k=oc(k,Oe):k=[...k,...Oe],Z=b.indexOf(se);break}case mc:{R=c.index,Z=1/0;break}case gc:{let se=b.indexOf(c.actionId);se!==-1&&(R=se),Z=1/0;break}case uc:{b=oc(b,k),k=[],R=Math.min(R,b.length-1);break}case wn:{if(re)return s||t;if(te||s&&ur(s.computedStates[R],c,o.predicate,o.actionsSafelist,o.actionsBlocklist)){let J=F[F.length-1];F=[...F.slice(0,-1),wc(r,c.action,J.state,J.error,e)],Z=1/0;break}o.maxAge&&b.length===o.maxAge&&be(1),R===b.length-1&&R++;let se=h++;m[se]=c,b=[...b,se],Z=b.length-1;break}case dr:{({monitorState:p,actionsById:m,nextActionId:h,stagedActionIds:b,skippedActionIds:k,committedState:H,currentStateIndex:R,computedStates:F,isLocked:re,isPaused:te}=c.nextLiftedState);break}case xn:{Z=0,o.maxAge&&b.length>o.maxAge&&(F=Ai(F,Z,r,H,m,b,k,e,te),be(b.length-o.maxAge),Z=1/0);break}case Ii:{if(F.filter(J=>J.error).length>0)Z=0,o.maxAge&&b.length>o.maxAge&&(F=Ai(F,Z,r,H,m,b,k,e,te),be(b.length-o.maxAge),Z=1/0);else{if(!te&&!re){R===b.length-1&&R++;let J=h++;m[J]=new Rt(c,+Date.now()),b=[...b,J],Z=b.length-1,F=Ai(F,Z,r,H,m,b,k,e,te)}F=F.map(J=>I(C({},J),{state:r(J.state,Yu)})),R=b.length-1,o.maxAge&&b.length>o.maxAge&&be(b.length-o.maxAge),Z=1/0}break}default:{Z=1/0;break}}return F=Ai(F,Z,r,H,m,b,k,e,te),p=i(p,c),{monitorState:p,actionsById:m,nextActionId:h,stagedActionIds:b,skippedActionIds:k,committedState:H,currentStateIndex:R,computedStates:F,isLocked:re,isPaused:te}}}var sc=(()=>{let t=class t{constructor(i,o,r,s,c,p,m,h){let b=Zu(m,h.monitor),k=Xu(m,b,p,h.monitor,h),H=dt(dt(o.asObservable().pipe(kr(1)),s.actions$).pipe(N(Mn)),i,s.liftedActions$).pipe(Dn(An)),R=r.pipe(N(k)),F=yc(h.connectInZone),re=new fr(1);this.liftedStateSubscription=H.pipe(Ln(R),ac(F),ut(({state:Ee},[Z,se])=>{let J=se(Ee,Z);return Z.type!==wn&&xc(h)&&(J=Gu(J,h.predicate,h.actionsSafelist,h.actionsBlocklist)),s.notify(Z,J),{state:J,action:Z}},{state:b,action:null})).subscribe(({state:Ee,action:Z})=>{if(re.next(Ee),Z.type===wn){let se=Z.action;c.next(se)}}),this.extensionStartSubscription=s.start$.pipe(ac(F)).subscribe(()=>{this.refresh()});let te=re.asObservable(),be=te.pipe(N(_c));Object.defineProperty(be,"state",{value:Pi(be,{manualCleanup:!0,requireSync:!0})}),this.dispatcher=i,this.liftedState=te,this.state=be}ngOnDestroy(){this.liftedStateSubscription.unsubscribe(),this.extensionStartSubscription.unsubscribe()}dispatch(i){this.dispatcher.next(i)}next(i){this.dispatcher.next(i)}error(i){}complete(){}performAction(i){this.dispatch(new Rt(i,+Date.now()))}refresh(){this.dispatch(new Qo)}reset(){this.dispatch(new Jo(+Date.now()))}rollback(){this.dispatch(new er(+Date.now()))}commit(){this.dispatch(new tr(+Date.now()))}sweep(){this.dispatch(new nr)}toggleAction(i){this.dispatch(new ir(i))}jumpToAction(i){this.dispatch(new rr(i))}jumpToState(i){this.dispatch(new or(i))}importState(i){this.dispatch(new sr(i))}lockChanges(i){this.dispatch(new ar(i))}pauseRecording(i){this.dispatch(new cr(i))}};t.\u0275fac=function(o){return new(o||t)(P(ji),P(Ue),P(ct),P(Mc),P(It),P(tt),P(yn),P(Ni))},t.\u0275prov=L({token:t,factory:t.\u0275fac});let n=t;return n})();function ac({ngZone:n,connectInZone:t}){return e=>t?new ve(i=>e.subscribe({next:o=>n.run(()=>i.next(o)),error:o=>n.run(()=>i.error(o)),complete:()=>n.run(()=>i.complete())})):e}var Qu=new j("@ngrx/store-devtools Is Devtools Extension or Monitor Present");function Ju(n,t){return!!n||t.monitor!==vc}function ep(){let n="__REDUX_DEVTOOLS_EXTENSION__";return typeof window=="object"&&typeof window[n]<"u"?window[n]:null}function tp(n){return n.state}function Ec(n={}){return Re([Mc,ji,sc,{provide:ic,useValue:n},{provide:Qu,deps:[lr,Ni],useFactory:Ju},{provide:lr,useFactory:ep},{provide:Ni,deps:[ic],useFactory:Bu},{provide:Tt,deps:[sc],useFactory:tp},{provide:kt,useExisting:ji}])}var pr="Service workers are disabled or not supported by this browser",At=class{serviceWorker;worker;registration;events;constructor(t,e){if(this.serviceWorker=t,!t)this.worker=this.events=this.registration=new ve(i=>i.error(new K(5601,!1)));else{let i=null,o=new ue;this.worker=new ve(m=>(i!==null&&m.next(i),o.subscribe(h=>m.next(h))));let r=()=>{let{controller:m}=t;m!==null&&(i=m,o.next(i))};t.addEventListener("controllerchange",r),r(),this.registration=this.worker.pipe(oe(()=>t.getRegistration().then(m=>{if(!m)throw new K(5601,!1);return m})));let s=new ue;this.events=s.asObservable();let c=m=>{let{data:h}=m;h?.type&&s.next(h)};t.addEventListener("message",c),e?.get(Vt,null,{optional:!0})?.onDestroy(()=>{t.removeEventListener("controllerchange",r),t.removeEventListener("message",c)})}}postMessage(t,e){return new Promise(i=>{this.worker.pipe(me(1)).subscribe(o=>{o.postMessage(C({action:t},e)),i()})})}postMessageWithOperation(t,e,i){let o=this.waitForOperationCompleted(i),r=this.postMessage(t,e);return Promise.all([r,o]).then(([,s])=>s)}generateNonce(){return Math.round(Math.random()*1e7)}eventsOfType(t){let e;return typeof t=="string"?e=i=>i.type===t:e=i=>t.includes(i.type),this.events.pipe(ae(e))}nextEventOfType(t){return this.eventsOfType(t).pipe(me(1))}waitForOperationCompleted(t){return new Promise((e,i)=>{this.eventsOfType("OPERATION_COMPLETED").pipe(ae(o=>o.nonce===t),me(1),N(o=>{if(o.result!==void 0)return o.result;throw new Error(o.error)})).subscribe({next:e,error:i})})}get isEnabled(){return!!this.serviceWorker}},np=(()=>{class n{sw;messages;notificationClicks;notificationCloses;pushSubscriptionChanges;subscription;get isEnabled(){return this.sw.isEnabled}pushManager=null;subscriptionChanges=new ue;constructor(e){if(this.sw=e,!e.isEnabled){this.messages=Ge,this.notificationClicks=Ge,this.notificationCloses=Ge,this.pushSubscriptionChanges=Ge,this.subscription=Ge;return}this.messages=this.sw.eventsOfType("PUSH").pipe(N(o=>o.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(N(o=>o.data)),this.notificationCloses=this.sw.eventsOfType("NOTIFICATION_CLOSE").pipe(N(o=>o.data)),this.pushSubscriptionChanges=this.sw.eventsOfType("PUSH_SUBSCRIPTION_CHANGE").pipe(N(o=>o.data)),this.pushManager=this.sw.registration.pipe(N(o=>o.pushManager));let i=this.pushManager.pipe(oe(o=>o.getSubscription()));this.subscription=new ve(o=>{let r=i.subscribe(o),s=this.subscriptionChanges.subscribe(o);return()=>{r.unsubscribe(),s.unsubscribe()}})}requestSubscription(e){if(!this.sw.isEnabled||this.pushManager===null)return Promise.reject(new Error(pr));let i={userVisibleOnly:!0},o=this.decodeBase64(e.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),r=new Uint8Array(new ArrayBuffer(o.length));for(let s=0;s<o.length;s++)r[s]=o.charCodeAt(s);return i.applicationServerKey=r,new Promise((s,c)=>{this.pushManager.pipe(oe(p=>p.subscribe(i)),me(1)).subscribe({next:p=>{this.subscriptionChanges.next(p),s(p)},error:c})})}unsubscribe(){if(!this.sw.isEnabled)return Promise.reject(new Error(pr));let e=i=>{if(i===null)throw new K(5602,!1);return i.unsubscribe().then(o=>{if(!o)throw new K(5603,!1);this.subscriptionChanges.next(null)})};return new Promise((i,o)=>{this.subscription.pipe(me(1),oe(e)).subscribe({next:i,error:o})})}decodeBase64(e){return atob(e)}static \u0275fac=function(i){return new(i||n)(P(At))};static \u0275prov=L({token:n,factory:n.\u0275fac})}return n})(),ip=(()=>{class n{sw;versionUpdates;unrecoverable;get isEnabled(){return this.sw.isEnabled}ongoingCheckForUpdate=null;constructor(e){if(this.sw=e,!e.isEnabled){this.versionUpdates=Ge,this.unrecoverable=Ge;return}this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED","VERSION_FAILED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(pr));if(this.ongoingCheckForUpdate)return this.ongoingCheckForUpdate;let e=this.sw.generateNonce();return this.ongoingCheckForUpdate=this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:e},e).finally(()=>{this.ongoingCheckForUpdate=null}),this.ongoingCheckForUpdate}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new K(5601,!1));let e=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:e},e)}static \u0275fac=function(i){return new(i||n)(P(At))};static \u0275prov=L({token:n,factory:n.\u0275fac})}return n})();var Pc=new j("");function op(){let n=_(En);if(!("serviceWorker"in navigator&&n.enabled!==!1))return;let t=_(Pc),e=_(ke),i=_(Vt);e.runOutsideAngular(()=>{let o=navigator.serviceWorker,r=()=>o.controller?.postMessage({action:"INITIALIZE"});o.addEventListener("controllerchange",r),i.onDestroy(()=>{o.removeEventListener("controllerchange",r)})}),e.runOutsideAngular(()=>{let o,{registrationStrategy:r}=n;if(typeof r=="function")o=new Promise(s=>r().subscribe(()=>s()));else{let[s,...c]=(r||"registerWhenStable:30000").split(":");switch(s){case"registerImmediately":o=Promise.resolve();break;case"registerWithDelay":o=Oc(+c[0]||0);break;case"registerWhenStable":o=Promise.race([i.whenStable(),Oc(+c[0])]);break;default:throw new K(5600,!1)}}o.then(()=>{i.destroyed||navigator.serviceWorker.register(t,{scope:n.scope,updateViaCache:n.updateViaCache,type:n.type}).catch(s=>console.error(Ir(5604,!1)))})})}function Oc(n){return new Promise(t=>setTimeout(t,n))}function rp(n,t){return new At(n.enabled!==!1?navigator.serviceWorker:void 0,t)}var En=class{enabled;updateViaCache;type;scope;registrationStrategy};function Sc(n,t={}){return Re([np,ip,{provide:Pc,useValue:n},{provide:En,useValue:t},{provide:At,useFactory:rp,deps:[En,ye]},io(op)])}var kc=[];var Tc={providers:[Nr(),as({eventCoalescing:!0}),Uo(kc),Za(),nc(),Ec({maxAge:25,logOnly:!Bt()}),Sc("ngsw-worker.js",{enabled:!Bt(),registrationStrategy:"registerWhenStable:30000"})]};var sp=(n,t)=>t.id;function ap(n,t){if(n&1){let e=U();f(0,"div",4),A("dblclick",function(){let o=E(e).$implicit,r=g();return O(r.onIconClick(o))}),f(1,"div",5),$(2,"app-icon",6),v(),f(3,"div",7),l(4),v()()}if(n&2){let e=t.$implicit;ce("left",e.x,"px")("top",e.y,"px"),Q("appTooltip",e.name)("tooltipPosition","bottom"),a(2),Q("name",e.icon),a(2),x(e.name)}}function cp(n,t){if(n&1){let e=U();f(0,"div",8),A("click",function(o){return E(e),O(o.stopPropagation())})("keydown",function(o){E(e);let r=g();return O(r.onContextMenuKeyDown(o))}),f(1,"div",9),A("click",function(){E(e);let o=g();return O(o.newFolder())}),f(2,"span",10),$(3,"app-icon",11),v(),l(4," New Folder "),v(),f(5,"div",9),A("click",function(){E(e);let o=g();return O(o.newFile())}),f(6,"span",10),$(7,"app-icon",12),v(),l(8," New File "),v(),$(9,"div",13),f(10,"div",9),A("click",function(){E(e);let o=g();return O(o.refreshDesktop())}),f(11,"span",10),$(12,"app-icon",14),v(),l(13," Refresh "),v(),$(14,"div",13),f(15,"div",9),A("click",function(){E(e);let o=g();return O(o.openTerminal())}),f(16,"span",10),$(17,"app-icon",15),v(),l(18," Open Terminal "),v(),$(19,"div",13),f(20,"div",9),A("click",function(){E(e);let o=g();return O(o.openDisplaySettings())}),f(21,"span",10),$(22,"app-icon",16),v(),l(23," Display Settings "),v()()}if(n&2){let e=g();ce("left",e.contextMenuX(),"px")("top",e.contextMenuY(),"px"),q("aria-label","Desktop context menu")}}var On=class n{fs=_(mt);wallpaperService=_(vs);icons=w([]);wallpaper=this.wallpaperService.getWallpaper();contextMenuVisible=w(!1);contextMenuX=w(0);contextMenuY=w(0);windowManager;folderCounter=0;fileCounter=0;constructor(){Ve(()=>{this.contextMenuVisible()&&setTimeout(()=>this.focusFirstMenuItem(),0)})}focusFirstMenuItem(){document.querySelector('.context-menu .menu-item[role="menuitem"]')?.focus()}onContextMenuKeyDown(t){let e=Array.from(document.querySelectorAll('.context-menu .menu-item[role="menuitem"]')),i=e.findIndex(o=>o===document.activeElement);switch(t.key){case"ArrowDown":t.preventDefault();let o=(i+1)%e.length;e[o]?.focus();break;case"ArrowUp":t.preventDefault();let r=(i-1+e.length)%e.length;e[r]?.focus();break;case"Enter":case" ":t.preventDefault(),document.activeElement?.click();break;case"Escape":t.preventDefault(),this.contextMenuVisible.set(!1);break}}addIcon(t,e,i,o,r){let s=crypto.randomUUID();if(o!==void 0&&r!==void 0)return this.icons.update(te=>[...te,{id:s,name:t,icon:e,x:o,y:r,action:i}]),s;let c=100,p=100,m=20,h=typeof window<"u"?window.innerHeight:1080,b=Math.floor((h-48-m*2)/c),k=this.icons().length,H=Math.floor(k/b),R=k%b,F=m+H*p,re=m+R*c;return this.icons.update(te=>[...te,{id:s,name:t,icon:e,x:F,y:re,action:i}]),s}removeIcon(t){this.icons.update(e=>e.filter(i=>i.id!==t))}moveIcon(t,e,i){this.icons.update(o=>o.map(r=>r.id===t?I(C({},r),{x:e,y:i}):r))}clearIcons(){this.icons.set([])}onIconClick(t){t.action()}onContextMenu(t){t.preventDefault(),this.contextMenuX.set(t.clientX),this.contextMenuY.set(t.clientY),this.contextMenuVisible.set(!0)}onDesktopClick(){this.contextMenuVisible.set(!1)}setWindowManager(t){this.windowManager=t}openDisplaySettings(){return ie(this,null,function*(){if(this.contextMenuVisible.set(!1),this.windowManager){let{Settings:t}=yield import("./chunk-YYCSZ2Z6.js");this.windowManager.openWindow("Settings - Display",t,800,600,"settings")}})}refreshDesktop(){this.contextMenuVisible.set(!1);let t=this.icons();this.icons.set([]),setTimeout(()=>{this.icons.set(t)},0)}newFolder(){return ie(this,null,function*(){this.contextMenuVisible.set(!1),this.folderCounter++;let t=`New Folder ${this.folderCounter}`,e=`/home/${this.fs.getCurrentUser()}/Desktop`;this.fs.createDirectory(`${e}/${t}`),this.addIcon(t,"folder",()=>ie(this,null,function*(){if(this.windowManager){let{FileManager:i}=yield import("./chunk-QPCMO55B.js");this.windowManager.openWindow(`File Manager - ${t}`,i,700,500,"folder")}}))})}newFile(){return ie(this,null,function*(){this.contextMenuVisible.set(!1),this.fileCounter++;let t=`NewFile${this.fileCounter}.txt`,i=`${`/home/${this.fs.getCurrentUser()}/Desktop`}/${t}`;if(this.fs.writeFile(i,""),this.windowManager){let{TextEditor:o}=yield import("./chunk-M3U6K6CR.js");this.windowManager.openWindow("Text Editor",o,700,500,"file")}})}openTerminal(){return ie(this,null,function*(){if(this.contextMenuVisible.set(!1),this.windowManager){let{Terminal:t}=yield import("./chunk-B2B4QUPE.js");this.windowManager.openWindow("Terminal",t,800,600,"terminal")}})}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=X({type:n,selectors:[["app-desktop"]],decls:5,vars:3,consts:[[1,"desktop",3,"contextmenu","click"],[1,"desktop-icons"],[1,"desktop-icon",3,"left","top","appTooltip","tooltipPosition"],["role","menu",1,"context-menu",3,"left","top"],[1,"desktop-icon",3,"dblclick","appTooltip","tooltipPosition"],[1,"icon-image"],["size","large",3,"name"],[1,"icon-label"],["role","menu",1,"context-menu",3,"click","keydown"],["role","menuitem","tabindex","0",1,"menu-item",3,"click"],[1,"menu-icon"],["name","folder","size","small"],["name","file","size","small"],[1,"menu-divider"],["name","refresh","size","small"],["name","terminal","size","small"],["name","settings","size","small"]],template:function(e,i){e&1&&(f(0,"div",0),A("contextmenu",function(r){return i.onContextMenu(r)})("click",function(){return i.onDesktopClick()}),f(1,"div",1),B(2,ap,5,8,"div",2,sp),v(),y(4,cp,24,5,"div",3),v()),e&2&&(ce("background",i.wallpaper()),a(2),W(i.icons()),a(2),M(i.contextMenuVisible()?4:-1))},dependencies:[ee,Ze,gt],styles:[".desktop[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:calc(100% - 48px);background-size:cover;background-position:center;background-repeat:no-repeat;overflow:hidden}.desktop-icons[_ngcontent-%COMP%]{position:relative;width:100%;height:100%}.desktop-icon[_ngcontent-%COMP%]{position:absolute;width:80px;display:flex;flex-direction:column;align-items:center;gap:8px;padding:8px;cursor:pointer;-webkit-user-select:none;user-select:none;border-radius:var(--border-radius);transition:background-color var(--transition-speed)}.desktop-icon[_ngcontent-%COMP%]:hover{background-color:var(--hover-bg)}.icon-image[_ngcontent-%COMP%]{font-size:48px;width:64px;height:64px;display:flex;align-items:center;justify-content:center;border:3px solid var(--border-color);border-radius:12px}.icon-label[_ngcontent-%COMP%]{font-size:12px;text-align:center;word-wrap:break-word;max-width:80px;text-shadow:0 1px 2px var(--shadow)}.context-menu[_ngcontent-%COMP%]{position:fixed;background-color:var(--bg-secondary);border:1px solid var(--border-color);border-radius:var(--border-radius);box-shadow:0 4px 16px var(--shadow);padding:4px 0;min-width:200px;z-index:10000}.menu-item[_ngcontent-%COMP%]{padding:8px 16px;cursor:pointer;transition:background-color var(--transition-speed);display:flex;align-items:center;gap:12px}.menu-item[_ngcontent-%COMP%]:hover:not(.disabled){background-color:var(--hover-bg)}.menu-item.disabled[_ngcontent-%COMP%]{opacity:.5;cursor:not-allowed}.menu-icon[_ngcontent-%COMP%]{font-size:16px;width:20px;display:flex;align-items:center;justify-content:center}.menu-divider[_ngcontent-%COMP%]{height:1px;background-color:var(--border-color);margin:4px 0}"]})};var lp=(n,t)=>t.id,dp=(n,t)=>t.name;function up(n,t){if(n&1){let e=U();f(0,"button",21),A("click",function(){let o=E(e).$implicit,r=g();return O(r.onAppClick(o))}),f(1,"span",22),$(2,"app-icon",23),v(),f(3,"span",24),l(4),v()()}if(n&2){let e=t.$implicit;V("active",e.active)("minimized",e.minimized),Q("appTooltip",e.name)("tooltipPosition","top"),q("aria-label",e.name+(e.active?" (active)":"")+(e.minimized?" (minimized)":""))("aria-current",e.active?"true":null),a(2),Q("name",e.icon),a(2),x(e.name)}}function pp(n,t){n&1&&$(0,"span",14)}function mp(n,t){if(n&1&&(f(0,"span",17),l(1),v()),n&2){let e=g();a(),x(e.notificationCount())}}function gp(n,t){if(n&1&&(f(0,"kbd",34),l(1),v()),n&2){let e=g().$implicit;a(),x(e.shortcut)}}function fp(n,t){if(n&1){let e=U();f(0,"li")(1,"button",30),A("click",function(){let o=E(e).$implicit,r=g(2);return O(r.onLauncherAppClick(o))}),f(2,"span",31),$(3,"app-icon",23),v(),f(4,"span",33),l(5),v(),y(6,gp,2,1,"kbd",34),v()()}if(n&2){let e=t.$implicit;a(3),Q("name",e.icon),a(2),x(e.name),a(),M(e.shortcut?6:-1)}}function hp(n,t){n&1&&$(0,"li",29)}function vp(n,t){if(n&1){let e=U();f(0,"div",25),A("click",function(){E(e);let o=g();return O(o.closeAppMenu())}),f(1,"nav",26),A("click",function(o){return E(e),O(o.stopPropagation())})("keydown",function(o){E(e);let r=g();return O(r.onAppMenuKeyDown(o))}),f(2,"h2",27),l(3,"Applications"),v(),f(4,"ul",28),B(5,fp,7,3,"li",null,dp),y(7,hp,1,0,"li",29),f(8,"li")(9,"button",30),A("click",function(){E(e);let o=g();return O(o.onLogout())}),f(10,"span",31),$(11,"app-icon",32),v(),f(12,"span",33),l(13,"Logout"),v()()()()()()}if(n&2){let e=g();a(5),W(e.launcherApps()),a(2),M(e.launcherApps().length>0?7:-1)}}var Pn=class n{dialogService=_(qn);username=je("");apps=w([]);launcherApps=w([]);showAppMenu=w(!1);currentTime=w("");notificationCount=w(0);networkActive=w(!1);logout=Ye();appClick=Ye();appRestore=Ye();constructor(){this.updateTime(),setInterval(()=>this.updateTime(),1e3),Ve(()=>{this.showAppMenu()&&setTimeout(()=>this.focusFirstAppMenuItem(),0)})}focusFirstAppMenuItem(){document.querySelector('.app-menu .menu-item[role="menuitem"]')?.focus()}onAppMenuKeyDown(t){let e=Array.from(document.querySelectorAll('.app-menu .menu-item[role="menuitem"]')),i=e.findIndex(o=>o===document.activeElement);switch(t.key){case"ArrowDown":t.preventDefault();let o=(i+1)%e.length;e[o]?.focus();break;case"ArrowUp":t.preventDefault();let r=(i-1+e.length)%e.length;e[r]?.focus();break;case"Enter":case" ":t.preventDefault(),document.activeElement?.click();break;case"Escape":t.preventDefault(),this.closeAppMenu();break}}updateTime(){let t=new Date;this.currentTime.set(t.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}))}addApp(t,e,i){this.apps.update(o=>[...o,{id:i,name:t,icon:e,active:!1,minimized:!1}])}removeApp(t){this.apps.update(e=>e.filter(i=>i.id!==t))}setAppActive(t,e){this.apps.update(i=>i.map(o=>I(C({},o),{active:o.id===t?e:!1})))}setAppMinimized(t,e){this.apps.update(i=>i.map(o=>o.id===t?I(C({},o),{minimized:e,active:!e}):o))}registerLauncherApp(t,e,i,o){this.launcherApps.update(r=>[...r,{name:t,icon:e,action:i,shortcut:o}])}clearLauncherApps(){this.launcherApps.set([])}setNotificationCount(t){this.notificationCount.set(t)}setNetworkActive(t){this.networkActive.set(t)}onAppClick(t){t.minimized?this.appRestore.emit(t.id):t.active?this.setAppMinimized(t.id,!0):this.appClick.emit(t.id)}onLauncherAppClick(t){this.closeAppMenu(),t.action()}toggleAppMenu(){this.showAppMenu.update(t=>!t)}closeAppMenu(){this.showAppMenu.set(!1)}onLogout(){return ie(this,null,function*(){this.closeAppMenu(),(yield this.dialogService.confirm({title:"Logout",message:"Are you sure you want to logout? Any unsaved progress will be lost.",confirmText:"Logout",cancelText:"Cancel",showDontAskAgain:!0,preferenceKey:"logout"})).confirmed&&this.logout.emit()})}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=X({type:n,selectors:[["app-taskbar"]],inputs:{username:[1,"username"]},outputs:{logout:"logout",appClick:"appClick",appRestore:"appRestore"},decls:25,vars:23,consts:[["role","navigation","aria-label","Taskbar",1,"taskbar"],[1,"taskbar-left"],["type","button","aria-label","Open applications menu",1,"app-menu-btn",3,"click","appTooltip","tooltipPosition"],["aria-hidden","true",1,"icon"],["name","menu","size","small"],[1,"label"],["role","list","aria-label","Running applications",1,"taskbar-apps"],["type","button","role","listitem",1,"taskbar-app",3,"active","minimized","appTooltip","tooltipPosition"],[1,"taskbar-right"],["role","group","aria-label","System tray",1,"system-tray"],["type","button","aria-label","Volume control",1,"tray-item",3,"appTooltip","tooltipPosition"],["name","volume","size","small"],["type","button",1,"tray-item","network",3,"appTooltip","tooltipPosition"],["name","network","size","small"],["aria-hidden","true",1,"activity-indicator"],["type","button",1,"tray-item","notifications",3,"appTooltip","tooltipPosition"],["name","bell","size","small"],["aria-hidden","true",1,"notification-badge"],["role","status","aria-label","Current user",1,"user-info",3,"appTooltip","tooltipPosition"],["aria-label","Current time",1,"clock",3,"appTooltip","tooltipPosition"],["role","presentation",1,"app-menu"],["type","button","role","listitem",1,"taskbar-app",3,"click","appTooltip","tooltipPosition"],["aria-hidden","true",1,"app-icon"],["size","small",3,"name"],[1,"app-name"],["role","presentation",1,"app-menu",3,"click"],["role","menu","aria-label","Applications menu",1,"menu-content",3,"click","keydown"],[1,"menu-header"],[1,"menu-items"],["role","separator",1,"menu-divider"],["type","button","role","menuitem","tabindex","0",1,"menu-item",3,"click"],["aria-hidden","true",1,"menu-icon"],["name","log-out","size","small"],[1,"menu-label"],[1,"menu-shortcut"]],template:function(e,i){e&1&&(f(0,"nav",0)(1,"div",1)(2,"button",2),A("click",function(){return i.toggleAppMenu()}),f(3,"span",3),$(4,"app-icon",4),v(),f(5,"span",5),l(6,"Apps"),v()(),f(7,"div",6),B(8,up,5,10,"button",7,lp),v()(),f(10,"div",8)(11,"div",9)(12,"button",10),$(13,"app-icon",11),v(),f(14,"button",12),$(15,"app-icon",13),y(16,pp,1,0,"span",14),v(),f(17,"button",15),$(18,"app-icon",16),y(19,mp,2,1,"span",17),v()(),f(20,"div",18),l(21),v(),f(22,"time",19),l(23),v()(),y(24,vp,14,1,"div",20),v()),e&2&&(a(2),Q("appTooltip","Applications Menu")("tooltipPosition","top"),q("aria-expanded",i.showAppMenu()),a(6),W(i.apps()),a(4),Q("appTooltip","Volume Control")("tooltipPosition","top"),a(2),V("active",i.networkActive()),Q("appTooltip",i.networkActive()?"Network Active":"Network Idle")("tooltipPosition","top"),q("aria-label",i.networkActive()?"Network Active":"Network Idle"),a(2),M(i.networkActive()?16:-1),a(),Q("appTooltip",i.notificationCount()+" notification"+(i.notificationCount()!==1?"s":""))("tooltipPosition","top"),q("aria-label",i.notificationCount()+" notification"+(i.notificationCount()>1?"s":""))("aria-live","polite"),a(2),M(i.notificationCount()>0?19:-1),a(),Q("appTooltip","Current User: "+i.username())("tooltipPosition","top"),a(),x(i.username()),a(),Q("appTooltip","System Time")("tooltipPosition","top"),a(),x(i.currentTime()),a(),M(i.showAppMenu()?24:-1))},dependencies:[ee,Ze,gt],styles:[".taskbar[_ngcontent-%COMP%]{position:fixed;bottom:0;left:0;width:100%;height:48px;background-color:var(--taskbar-bg);border-top:1px solid var(--border-color);display:flex;justify-content:space-between;align-items:center;padding:0 8px;z-index:9999}.taskbar-left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;flex:1;padding-right:8px;border-right:1px solid var(--border-color)}.app-menu-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:8px 16px;border-radius:var(--border-radius);transition:background-color var(--transition-speed);background:none;border:none;color:inherit;cursor:pointer}.app-menu-btn[_ngcontent-%COMP%]:hover{background-color:var(--hover-bg)}.app-menu-btn[_ngcontent-%COMP%]:focus-visible{outline:2px solid var(--accent-primary);outline-offset:2px}.app-menu-btn[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:20px}.taskbar-apps[_ngcontent-%COMP%]{display:flex;gap:4px;list-style:none;padding:0;margin:0}.taskbar-app[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:8px 12px;border-radius:var(--border-radius);transition:background-color var(--transition-speed);max-width:200px;background:none;border:none;color:inherit;cursor:pointer}.taskbar-app[_ngcontent-%COMP%]:hover{background-color:var(--hover-bg)}.taskbar-app[_ngcontent-%COMP%]:focus-visible{outline:2px solid var(--accent-primary);outline-offset:2px}.taskbar-app.active[_ngcontent-%COMP%]{background-color:var(--active-bg);border-bottom:2px solid var(--accent-primary)}.taskbar-app.minimized[_ngcontent-%COMP%]{opacity:.6}.app-icon[_ngcontent-%COMP%]{font-size:18px}.app-name[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.taskbar-right[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px}.system-tray[_ngcontent-%COMP%]{display:flex;gap:8px;position:relative;padding-right:8px;border-right:1px solid var(--border-color)}.tray-item[_ngcontent-%COMP%]{width:32px;height:32px;display:flex;align-items:center;justify-content:center;border-radius:var(--border-radius);transition:background-color var(--transition-speed);background:none;border:none;color:inherit;cursor:pointer}.tray-item[_ngcontent-%COMP%]:hover{background-color:var(--hover-bg)}.tray-item[_ngcontent-%COMP%]:focus-visible{outline:2px solid var(--accent-primary);outline-offset:2px}.tray-item.notifications[_ngcontent-%COMP%]{position:relative}.tray-item.network[_ngcontent-%COMP%]{position:relative;transition:color var(--transition-speed)}.tray-item.network.active[_ngcontent-%COMP%]{color:var(--accent-success);filter:drop-shadow(0 0 4px var(--accent-success))}.activity-indicator[_ngcontent-%COMP%]{position:absolute;bottom:4px;right:4px;width:6px;height:6px;background-color:var(--accent-success);border-radius:50%;animation:_ngcontent-%COMP%_pulse 1.5s ease-in-out infinite}@keyframes _ngcontent-%COMP%_pulse{0%,to{opacity:1;transform:scale(1)}50%{opacity:.5;transform:scale(1.2)}}.notification-badge[_ngcontent-%COMP%]{position:absolute;top:-4px;right:-4px;background-color:var(--accent-danger);color:#fff;font-size:10px;font-weight:700;min-width:18px;height:18px;border-radius:9px;display:flex;align-items:center;justify-content:center;padding:0 4px;pointer-events:none;border:2px solid var(--taskbar-bg)}.user-info[_ngcontent-%COMP%]{font-size:14px;padding:8px 12px;color:var(--text-secondary)}.clock[_ngcontent-%COMP%]{font-family:var(--font-mono);font-size:14px;padding:8px 12px}.app-menu[_ngcontent-%COMP%]{position:fixed;bottom:48px;left:0;width:100%;height:calc(100% - 48px);background-color:#00000080;z-index:10000}.menu-content[_ngcontent-%COMP%]{position:absolute;bottom:0;left:8px;width:320px;max-height:600px;background-color:var(--bg-secondary);border:1px solid var(--border-color);border-radius:var(--border-radius);box-shadow:0 8px 32px var(--shadow);overflow:hidden}.menu-header[_ngcontent-%COMP%]{padding:16px;font-size:16px;font-weight:600;border-bottom:1px solid var(--border-color);margin:0}.menu-items[_ngcontent-%COMP%]{padding:8px;max-height:500px;overflow-y:auto;list-style:none;margin:0}.menu-items[_ngcontent-%COMP%]   li[role=separator][_ngcontent-%COMP%]{height:1px;background-color:var(--border-color);margin:8px 0;list-style:none}.menu-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:12px;border-radius:var(--border-radius);cursor:pointer;transition:background-color var(--transition-speed);background:none;border:none;color:inherit;width:100%;text-align:left;font-family:inherit;font-size:inherit}.menu-item[_ngcontent-%COMP%]:hover{background-color:var(--hover-bg)}.menu-item[_ngcontent-%COMP%]:focus-visible{outline:2px solid var(--accent-primary);outline-offset:-2px}.menu-icon[_ngcontent-%COMP%]{font-size:24px;width:32px;height:32px;display:flex;align-items:center;justify-content:center}.menu-label[_ngcontent-%COMP%]{font-size:14px;flex:1}.menu-divider[_ngcontent-%COMP%]{height:1px;background-color:var(--border-color);margin:8px 0}kbd.menu-shortcut[_ngcontent-%COMP%]{font-size:12px;color:var(--text-secondary);opacity:.7;font-family:var(--font-mono);background:var(--bg-primary);padding:2px 6px;border-radius:4px;border:1px solid var(--border-color)}"]})};var Cp=(n,t)=>t.id;function bp(n,t){if(n&1&&$(0,"app-icon",5),n&2){let e=g(2).$implicit;Q("name",e.icon)}}function xp(n,t){n&1&&ns(0)}function yp(n,t){if(n&1){let e=U();f(0,"div",2),A("mousedown",function(){E(e);let o=g().$implicit,r=g();return O(r.focusWindow(o.id))}),f(1,"div",3),A("mousedown",function(o){E(e);let r=g().$implicit,s=g();return O(s.onHeaderMouseDown(o,r.id))}),f(2,"span",4),y(3,bp,1,1,"app-icon",5),l(4),v(),f(5,"div",6)(6,"button",7),A("click",function(){E(e);let o=g().$implicit,r=g();return O(r.minimizeWindow(o.id))}),l(7,"_"),v(),f(8,"button",8),A("click",function(){E(e);let o=g().$implicit,r=g();return O(r.maximizeWindow(o.id))}),l(9,"\u25A1"),v(),f(10,"button",9),A("click",function(){E(e);let o=g().$implicit,r=g();return O(r.closeWindow(o.id))}),l(11,"\xD7"),v()()(),f(12,"div",10),Xr(13,xp,1,0,"ng-container",11),v(),f(14,"div",12),A("mousedown",function(o){E(e);let r=g().$implicit,s=g();return O(s.onResizeMouseDown(o,r.id,"se"))}),v(),f(15,"div",13),A("mousedown",function(o){E(e);let r=g().$implicit,s=g();return O(s.onResizeMouseDown(o,r.id,"s"))}),v(),f(16,"div",14),A("mousedown",function(o){E(e);let r=g().$implicit,s=g();return O(s.onResizeMouseDown(o,r.id,"e"))}),v()()}if(n&2){let e=g().$implicit,i=g();ce("left",e.x,"px")("top",e.y,"px")("width",e.width,"px")("height",e.height,"px")("z-index",e.zIndex),a(3),M(e.icon?3:-1),a(),S(" ",e.title," "),a(2),Q("appTooltip","Minimize")("tooltipPosition","bottom"),q("aria-label","Minimize "+e.title),a(2),Q("appTooltip",e.maximized?"Restore":"Maximize")("tooltipPosition","bottom"),q("aria-label","Maximize "+e.title),a(2),Q("appTooltip","Close")("tooltipPosition","bottom"),q("aria-label","Close "+e.title),a(3),Q("ngComponentOutlet",e.component)("ngComponentOutletInjector",i.injector)}}function Mp(n,t){if(n&1&&y(0,yp,17,23,"div",1),n&2){let e=t.$implicit;M(e.minimized?-1:0)}}var Sn=class n{injector=_(ye);windows=w([]);nextZIndex=w(1e3);focusedWindowId=w(null);dragState=null;resizeState=null;openWindow(t,e,i=600,o=400,r){let s=crypto.randomUUID(),c=100+this.windows().length*30%200,p=100+this.windows().length*30%200,m={id:s,title:t,component:e,icon:r,x:c,y:p,width:i,height:o,minimized:!1,maximized:!1,zIndex:this.nextZIndex()};this.windows.update(h=>[...h,m]),this.nextZIndex.update(h=>h+1),this.focusedWindowId.set(s)}closeWindow(t){if(this.windows.update(e=>e.filter(i=>i.id!==t)),this.focusedWindowId()===t){let e=this.windows();this.focusedWindowId.set(e.length>0?e[e.length-1].id:null)}}minimizeWindow(t){this.windows.update(e=>e.map(i=>i.id===t?I(C({},i),{minimized:!0}):i))}maximizeWindow(t){this.windows.update(e=>e.map(i=>i.id!==t?i:I(C({},i),{maximized:!i.maximized,x:i.maximized?i.x:0,y:i.maximized?i.y:0,width:i.maximized?i.width:window.innerWidth,height:i.maximized?i.height:window.innerHeight-48})))}focusWindow(t){this.windows().find(i=>i.id===t)&&(this.windows.update(i=>i.map(o=>o.id===t?I(C({},o),{zIndex:this.nextZIndex(),minimized:!1}):o)),this.nextZIndex.update(i=>i+1),this.focusedWindowId.set(t))}updatePosition(t,e,i){this.windows.update(o=>o.map(r=>r.id===t?I(C({},r),{x:e,y:i}):r))}updateSize(t,e,i){this.windows.update(o=>o.map(r=>r.id===t?I(C({},r),{width:e,height:i}):r))}onHeaderMouseDown(t,e){t.preventDefault();let i=this.windows().find(s=>s.id===e);if(!i||i.maximized)return;this.dragState={id:e,startX:i.x,startY:i.y,startMouseX:t.clientX,startMouseY:t.clientY};let o=s=>{if(!this.dragState)return;let c=s.clientX-this.dragState.startMouseX,p=s.clientY-this.dragState.startMouseY;this.updatePosition(this.dragState.id,this.dragState.startX+c,this.dragState.startY+p)},r=()=>{this.dragState=null,document.removeEventListener("mousemove",o),document.removeEventListener("mouseup",r)};document.addEventListener("mousemove",o),document.addEventListener("mouseup",r)}onResizeMouseDown(t,e,i){t.preventDefault(),t.stopPropagation();let o=this.windows().find(c=>c.id===e);if(!o)return;this.resizeState={id:e,startWidth:o.width,startHeight:o.height,startMouseX:t.clientX,startMouseY:t.clientY,direction:i};let r=c=>{if(!this.resizeState)return;let p=c.clientX-this.resizeState.startMouseX,m=c.clientY-this.resizeState.startMouseY,h=this.resizeState.startWidth,b=this.resizeState.startHeight;this.resizeState.direction.includes("e")&&(h=Math.max(200,this.resizeState.startWidth+p)),this.resizeState.direction.includes("s")&&(b=Math.max(150,this.resizeState.startHeight+m)),this.updateSize(this.resizeState.id,h,b)},s=()=>{this.resizeState=null,document.removeEventListener("mousemove",r),document.removeEventListener("mouseup",s)};document.addEventListener("mousemove",r),document.addEventListener("mouseup",s)}closeFocusedWindow(){let t=this.focusedWindowId();t&&this.closeWindow(t)}maximizeFocusedWindow(){let t=this.focusedWindowId();t&&this.maximizeWindow(t)}minimizeFocusedWindow(){let t=this.focusedWindowId();t&&this.minimizeWindow(t)}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=X({type:n,selectors:[["app-window-manager"]],decls:3,vars:0,consts:[[1,"window-container"],[1,"window",3,"left","top","width","height","z-index"],[1,"window",3,"mousedown"],[1,"window-header",3,"mousedown"],[1,"window-title"],["size","small",3,"name"],[1,"window-controls"],[1,"btn-minimize",3,"click","appTooltip","tooltipPosition"],[1,"btn-maximize",3,"click","appTooltip","tooltipPosition"],[1,"btn-close",3,"click","appTooltip","tooltipPosition"],[1,"window-content","scrollbar"],[4,"ngComponentOutlet","ngComponentOutletInjector"],[1,"resize-handle","resize-se",3,"mousedown"],[1,"resize-handle","resize-s",3,"mousedown"],[1,"resize-handle","resize-e",3,"mousedown"]],template:function(e,i){e&1&&(f(0,"div",0),B(1,Mp,1,1,null,null,Cp),v()),e&2&&(a(),W(i.windows()))},dependencies:[ee,ps,Ze,gt],styles:[".window-container[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;pointer-events:none}.window[_ngcontent-%COMP%]{position:absolute;display:flex;flex-direction:column;background-color:var(--bg-secondary);border:1px solid var(--border-color);border-radius:var(--border-radius);box-shadow:0 4px 16px #0003,0 8px 32px #00000026;overflow:hidden;pointer-events:auto;min-width:200px;min-height:150px;transition:box-shadow .2s ease}.window[_ngcontent-%COMP%]:focus-within{box-shadow:0 8px 24px #0000004d,0 12px 48px #0003}.window-header[_ngcontent-%COMP%]{background:var(--window-header);padding:8px 12px;display:flex;justify-content:space-between;align-items:center;cursor:move;-webkit-user-select:none;user-select:none;border-bottom:1px solid var(--border-color)}.window-title[_ngcontent-%COMP%]{font-weight:500;font-size:14px;flex:1}.window-controls[_ngcontent-%COMP%]{display:flex;gap:8px}.window-controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:24px;height:24px;border-radius:var(--border-radius);display:flex;align-items:center;justify-content:center;font-size:18px;font-weight:700;transition:background-color var(--transition-speed)}.window-controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:var(--hover-bg)}.btn-close[_ngcontent-%COMP%]:hover{background-color:var(--error)}.window-content[_ngcontent-%COMP%]{flex:1;overflow:auto;padding:0;display:flex;flex-direction:column;color:initial}.window-content[_ngcontent-%COMP%]    >*{flex:1;min-height:0;width:100%;height:100%}.resize-handle[_ngcontent-%COMP%]{position:absolute;background:transparent;transition:background-color .2s}.resize-se[_ngcontent-%COMP%]{bottom:0;right:0;width:16px;height:16px;cursor:se-resize}.resize-se[_ngcontent-%COMP%]:hover{background:var(--accent-color);opacity:.3}.resize-s[_ngcontent-%COMP%]{bottom:0;left:0;right:0;height:6px;cursor:s-resize}.resize-s[_ngcontent-%COMP%]:hover{background:var(--accent-color);opacity:.3}.resize-e[_ngcontent-%COMP%]{top:0;right:0;bottom:0;width:6px;cursor:e-resize}.resize-e[_ngcontent-%COMP%]:hover{background:var(--accent-color);opacity:.3}"]})};var Ic=(n,t)=>t.id;function wp(n,t){if(n&1&&(u(0,"span"),l(1),d()),n&2){let e=t.$implicit;a(),is("",e.type,": ",e.title,". ",e.message)}}function Ep(n,t){n&1&&l(0," \u2139\uFE0F ")}function Op(n,t){n&1&&l(0," \u2705 ")}function Pp(n,t){n&1&&l(0," \u26A0\uFE0F ")}function Sp(n,t){n&1&&l(0," \u274C ")}function kp(n,t){if(n&1){let e=U();u(0,"div",3)(1,"div",4)(2,"div",5)(3,"span",6),y(4,Ep,1,0),y(5,Op,1,0),y(6,Pp,1,0),y(7,Sp,1,0),d(),u(8,"span",7),l(9),d(),u(10,"button",8),T("click",function(){let o=E(e).$implicit,r=g();return O(r.onDismiss(o.id))}),l(11,"\xD7"),d()(),u(12,"div",9),l(13),d()()()}if(n&2){let e=t.$implicit;V("info",e.type==="info")("success",e.type==="success")("warning",e.type==="warning")("error",e.type==="error"),a(4),M(e.type==="info"?4:-1),a(),M(e.type==="success"?5:-1),a(),M(e.type==="warning"?6:-1),a(),M(e.type==="error"?7:-1),a(2),x(e.title),a(),q("aria-label","Close notification: "+e.title),a(3),x(e.message)}}var Li=class n{notificationService=_(ht);onDismiss(t){this.notificationService.dismiss(t)}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=X({type:n,selectors:[["app-notification"]],decls:6,vars:0,consts:[["role","region","aria-label","Notifications",1,"notification-container"],["aria-live","polite","aria-atomic","true",1,"sr-only"],["role","status",1,"notification",3,"info","success","warning","error"],["role","status",1,"notification"],[1,"notification-content"],[1,"notification-header"],["aria-hidden","true",1,"notification-icon"],[1,"notification-title"],[1,"btn-close",3,"click"],[1,"notification-message"]],template:function(e,i){e&1&&(u(0,"div",0)(1,"div",1),B(2,wp,2,3,"span",null,Ic),d(),B(4,kp,14,15,"div",2,Ic),d()),e&2&&(a(2),W(i.notificationService.visibleNotifications()),a(2),W(i.notificationService.visibleNotifications()))},dependencies:[ee],styles:[".notification-container[_ngcontent-%COMP%]{position:fixed;top:16px;right:16px;z-index:10001;display:flex;flex-direction:column;gap:8px;pointer-events:none}.notification[_ngcontent-%COMP%]{width:320px;background-color:var(--bg-secondary);border:1px solid var(--border-color);border-radius:var(--border-radius);box-shadow:0 4px 16px var(--shadow);overflow:hidden;animation:_ngcontent-%COMP%_slideIn .3s ease-out;pointer-events:auto}@keyframes _ngcontent-%COMP%_slideIn{0%{transform:translate(100%);opacity:0}to{transform:translate(0);opacity:1}}.notification.info[_ngcontent-%COMP%]{border-left:4px solid var(--info)}.notification.success[_ngcontent-%COMP%]{border-left:4px solid var(--success)}.notification.warning[_ngcontent-%COMP%]{border-left:4px solid var(--warning)}.notification.error[_ngcontent-%COMP%]{border-left:4px solid var(--error)}.notification-content[_ngcontent-%COMP%]{padding:12px}.notification-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;margin-bottom:8px}.notification-icon[_ngcontent-%COMP%]{font-size:20px}.notification-title[_ngcontent-%COMP%]{flex:1;font-weight:600;font-size:14px}.btn-close[_ngcontent-%COMP%]{width:24px;height:24px;border-radius:var(--border-radius);display:flex;align-items:center;justify-content:center;font-size:20px;transition:background-color var(--transition-speed)}.btn-close[_ngcontent-%COMP%]:hover{background-color:var(--hover-bg)}.notification-message[_ngcontent-%COMP%]{font-size:13px;color:var(--text-secondary);line-height:1.4}"]})};function Tp(n,t){if(n&1&&(u(0,"div",14),l(1),d()),n&2){let e=g();a(),S(" ",e.errorMessage()," ")}}var Fi=class n{username=w("");password=w("");errorMessage=w("");showPassword=w(!1);login=Ye();onGuestLogin(){this.login.emit({username:"guest",password:"",isGuest:!0})}onUserLogin(){let t=this.username().trim(),e=this.password().trim();if(!t){this.errorMessage.set("Username is required");return}if(!e){this.errorMessage.set("Password is required");return}this.errorMessage.set(""),this.login.emit({username:t,password:e,isGuest:!1})}togglePasswordVisibility(){this.showPassword.update(t=>!t)}onUsernameChange(t){let e=t.target;this.username.set(e.value),this.errorMessage.set("")}onPasswordChange(t){let e=t.target;this.password.set(e.value),this.errorMessage.set("")}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=X({type:n,selectors:[["app-login"]],outputs:{login:"login"},decls:34,vars:6,consts:[[1,"login-container"],[1,"login-box"],[1,"login-header"],[1,"logo"],[1,"title"],[1,"subtitle"],[1,"login-form"],[1,"form-group"],["for","username"],["id","username","type","text","placeholder","Enter username","autocomplete","username",1,"form-input",3,"input","value"],["for","password"],[1,"password-input-wrapper"],["id","password","placeholder","Enter password","autocomplete","current-password",1,"form-input",3,"input","type","value"],["type","button",1,"toggle-password",3,"click"],[1,"error-message"],[1,"btn","btn-primary",3,"click"],[1,"divider"],[1,"btn","btn-secondary",3,"click"],[1,"login-footer"]],template:function(e,i){e&1&&(u(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),l(4,"\u{1F4BB}"),d(),u(5,"h1",4),l(6,"WebOS"),d(),u(7,"p",5),l(8,"Network Hacking Simulator"),d()(),u(9,"div",6)(10,"div",7)(11,"label",8),l(12,"Username"),d(),u(13,"input",9),T("input",function(r){return i.onUsernameChange(r)}),d()(),u(14,"div",7)(15,"label",10),l(16,"Password"),d(),u(17,"div",11)(18,"input",12),T("input",function(r){return i.onPasswordChange(r)}),d(),u(19,"button",13),T("click",function(){return i.togglePasswordVisibility()}),l(20),d()()(),y(21,Tp,2,1,"div",14),u(22,"button",15),T("click",function(){return i.onUserLogin()}),l(23," Login "),d(),u(24,"div",16)(25,"span"),l(26,"or"),d()(),u(27,"button",17),T("click",function(){return i.onGuestLogin()}),l(28," Continue as Guest "),d()(),u(29,"div",18)(30,"p"),l(31,"Guest mode: Full access without saving progress"),d(),u(32,"p"),l(33,"User account: Save your game progress"),d()()()()),e&2&&(a(13),Ae("value",i.username()),a(5),Ae("type",i.showPassword()?"text":"password")("value",i.password()),a(),q("aria-label",i.showPassword()?"Hide password":"Show password"),a(),S(" ",i.showPassword()?"\u{1F441}\uFE0F":"\u{1F441}\uFE0F\u200D\u{1F5E8}\uFE0F"," "),a(),M(i.errorMessage()?21:-1))},dependencies:[ee,ft],styles:['.login-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;min-height:100vh;background:linear-gradient(135deg,#1a1a2e,#0f0f1e);padding:20px}.login-box[_ngcontent-%COMP%]{background:#141428f2;border:2px solid #00ff00;border-radius:12px;box-shadow:0 0 40px #00ff004d;width:100%;max-width:400px;padding:40px;animation:_ngcontent-%COMP%_fadeIn .5s ease-in-out}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(-20px)}to{opacity:1;transform:translateY(0)}}.login-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:32px}.logo[_ngcontent-%COMP%]{font-size:64px;margin-bottom:16px;filter:drop-shadow(0 0 20px rgba(0,255,0,.5))}.title[_ngcontent-%COMP%]{font-size:32px;color:#0f0;margin:0 0 8px;font-family:Courier New,monospace;text-shadow:0 0 10px rgba(0,255,0,.5)}.subtitle[_ngcontent-%COMP%]{font-size:14px;color:#888;margin:0;font-family:Courier New,monospace}.login-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#0f0;font-size:14px;font-family:Courier New,monospace;font-weight:600}.form-input[_ngcontent-%COMP%]{background:#00000080;border:2px solid #333;border-radius:6px;color:#0f0;font-family:Courier New,monospace;font-size:14px;padding:12px;transition:all .3s ease}.form-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#0f0;box-shadow:0 0 10px #00ff004d}.form-input[_ngcontent-%COMP%]::placeholder{color:#555}.password-input-wrapper[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center}.password-input-wrapper[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{flex:1;padding-right:48px}.toggle-password[_ngcontent-%COMP%]{position:absolute;right:12px;background:none;border:none;color:#888;cursor:pointer;font-size:18px;padding:4px;transition:color .3s ease}.toggle-password[_ngcontent-%COMP%]:hover{color:#0f0}.error-message[_ngcontent-%COMP%]{background:#ff00001a;border:1px solid #ff0000;border-radius:6px;color:red;font-family:Courier New,monospace;font-size:12px;padding:10px;text-align:center}.btn[_ngcontent-%COMP%]{background:none;border:2px solid;border-radius:6px;cursor:pointer;font-family:Courier New,monospace;font-size:16px;font-weight:600;padding:12px 24px;transition:all .3s ease}.btn-primary[_ngcontent-%COMP%]{border-color:#0f0;color:#0f0}.btn-primary[_ngcontent-%COMP%]:hover{background:#0f0;color:#000;box-shadow:0 0 20px #00ff0080}.btn-secondary[_ngcontent-%COMP%]{border-color:#888;color:#888}.btn-secondary[_ngcontent-%COMP%]:hover{border-color:#0f0;color:#0f0;box-shadow:0 0 20px #00ff004d}.divider[_ngcontent-%COMP%]{position:relative;text-align:center;margin:8px 0}.divider[_ngcontent-%COMP%]:before, .divider[_ngcontent-%COMP%]:after{content:"";position:absolute;top:50%;width:40%;height:1px;background:#333}.divider[_ngcontent-%COMP%]:before{left:0}.divider[_ngcontent-%COMP%]:after{right:0}.divider[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#666;font-family:Courier New,monospace;font-size:12px;padding:0 12px;background:#141428f2}.login-footer[_ngcontent-%COMP%]{margin-top:32px;padding-top:20px;border-top:1px solid #333;text-align:center}.login-footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#666;font-family:Courier New,monospace;font-size:11px;margin:8px 0}']})};var Ip=(n,t)=>t.to,Rp=(n,t)=>t.id,Ap=(n,t)=>t.number;function Dp(n,t){if(n&1&&(Xi(),ge(0,"line",10)),n&2){let e=t.$implicit;q("x1",e.sourceX)("y1",e.sourceY)("x2",e.targetX)("y2",e.targetY)("stroke",e.status==="active"?"#00ff00":"#666666")}}function Np(n,t){if(n&1&&(u(0,"div",21),l(1),d()),n&2){let e=g(2).$implicit;a(),S("Security: ",e.securityLevel,"/5")}}function jp(n,t){if(n&1){let e=U();u(0,"div",15),T("click",function(){E(e);let o=g().$implicit,r=g();return O(r.onHostClick(o))}),u(1,"div",16),l(2),d(),u(3,"div",17)(4,"div",18),l(5),d(),u(6,"div",19),l(7),d(),u(8,"div",20),l(9),d(),y(10,Np,2,1,"div",21),d()()}if(n&2){let e=g().$implicit,i=g();ce("left",i.getScaledX(e.coordinates.x),"px")("top",i.getScaledY(e.coordinates.y),"px")("border-color",i.getHostColor(e)),V("current",i.isCurrentHost(e))("player",e.type==="player"),a(2),x(i.getHostIcon(e)),a(3),x(e.hostname),a(2),x(e.ip),a(),ce("color",i.getHostColor(e)),a(),S(" ",i.getHostStatus(e)," "),a(),M(e.securityLevel!==void 0?10:-1)}}function Lp(n,t){if(n&1&&y(0,jp,11,17,"div",14),n&2){let e=t.$implicit;M(e.coordinates?0:-1)}}function Fp(n,t){n&1&&(u(0,"div",12)(1,"div",22),l(2,"\u{1F310}"),d(),u(3,"div",23),l(4,"No hosts discovered"),d(),u(5,"div",24),l(6,"Run 'nmap <subnet>' to scan the network"),d()())}function zp(n,t){if(n&1&&(u(0,"div",30)(1,"span",31),l(2,"Security Level:"),d(),u(3,"span",32),l(4),d()()),n&2){let e=g(2);a(4),S("",e.selectedHost().securityLevel,"/5")}}function Up(n,t){n&1&&(u(0,"span",38),l(1,"\u{1F534} VULNERABLE"),d())}function $p(n,t){if(n&1&&(u(0,"div",35)(1,"span",36),l(2),d(),u(3,"span",37),l(4),d(),y(5,Up,2,0,"span",38),d()),n&2){let e=g().$implicit;a(2),x(e.number),a(2),x(e.service),a(),M(e.vulnerability?5:-1)}}function Vp(n,t){if(n&1&&y(0,$p,6,3,"div",35),n&2){let e=t.$implicit;M(e.status==="open"?0:-1)}}function Hp(n,t){if(n&1&&(u(0,"div",40),l(1),d()),n&2){let e=t.$implicit;a(),S("\u{1F4C4} ",e)}}function Bp(n,t){if(n&1&&(u(0,"div",33)(1,"h4"),l(2,"File System"),d(),u(3,"div",39),B(4,Hp,2,1,"div",40,$e),d()()),n&2){let e=g(2);a(4),W(e.selectedHost().fileSystem.files)}}function Wp(n,t){if(n&1){let e=U();u(0,"div",25),T("click",function(){E(e);let o=g();return O(o.closeDetails())}),u(1,"div",26),T("click",function(o){return E(e),O(o.stopPropagation())}),u(2,"div",27)(3,"h3"),l(4),d(),u(5,"button",28),T("click",function(){E(e);let o=g();return O(o.closeDetails())}),l(6,"\u2715"),d()(),u(7,"div",29)(8,"div",30)(9,"span",31),l(10,"IP Address:"),d(),u(11,"span",32),l(12),d()(),u(13,"div",30)(14,"span",31),l(15,"Type:"),d(),u(16,"span",32),l(17),d()(),u(18,"div",30)(19,"span",31),l(20,"Status:"),d(),u(21,"span",32),l(22),d()(),y(23,zp,5,1,"div",30),u(24,"div",30)(25,"span",31),l(26,"Access Level:"),d(),u(27,"span",32),l(28),d()(),u(29,"div",33)(30,"h4"),l(31,"Open Ports"),d(),u(32,"div",34),B(33,Vp,1,1,null,null,Ap),d()(),y(35,Bp,6,0,"div",33),d()()()}if(n&2){let e=g();a(4),x(e.selectedHost().hostname),a(8),x(e.selectedHost().ip),a(5),x(e.selectedHost().type),a(4),ce("color",e.getHostColor(e.selectedHost())),a(),S(" ",e.getHostStatus(e.selectedHost())," "),a(),M(e.selectedHost().securityLevel!==void 0?23:-1),a(5),x(e.selectedHost().accessLevel),a(5),W(e.selectedHost().ports),a(2),M(e.selectedHost().fileSystem?35:-1)}}var kn=class n{networkService=_(Ps);elementRef=_(zr);resizeObserver;networkState=this.networkService.state$;selectedHost=w(null);containerSize=w({width:800,height:600});hosts=G(()=>{let t=this.networkState();return Object.values(t.hosts).filter(e=>e.isDiscovered)});currentHost=G(()=>this.networkState().currentHost);connections=G(()=>{let t=this.networkState(),e=this.containerSize(),i=e.width/800,o=e.height/600,r=[];for(let s of t.connections){let c=t.hosts[s.from],p=t.hosts[s.to];c?.coordinates&&p?.coordinates&&r.push(I(C({},s),{sourceX:c.coordinates.x*i,sourceY:c.coordinates.y*o,targetX:p.coordinates.x*i,targetY:p.coordinates.y*o}))}return r});AccessLevel=Os;getHostColor(t){return t.type==="player"?"#00ff00":t.accessLevel==="root"?"#ff0000":t.accessLevel==="user"?"#ffaa00":"#666666"}getHostIcon(t){return t.type==="player"?"\u{1F5A5}\uFE0F":t.type==="server"?"\u{1F5C4}\uFE0F":t.type==="workstation"?"\u{1F4BB}":t.type==="router"?"\u{1F4E1}":"\u2753"}getHostStatus(t){return t.type==="player"?"Player":t.accessLevel==="root"?"Compromised (ROOT)":t.accessLevel==="user"?"Compromised (USER)":"Secure"}isCurrentHost(t){return t.ip===this.currentHost()}onHostClick(t){this.selectedHost.set(t)}closeDetails(){this.selectedHost.set(null)}ngOnInit(){let t=this.elementRef.nativeElement.querySelector(".map-canvas");t&&(this.resizeObserver=new ResizeObserver(e=>{for(let i of e){let{width:o,height:r}=i.contentRect;this.containerSize.set({width:o,height:r})}}),this.resizeObserver.observe(t))}ngOnDestroy(){this.resizeObserver?.disconnect()}getScaledX(t){let e=this.containerSize();return t/800*e.width}getScaledY(t){let e=this.containerSize();return t/600*e.height}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=X({type:n,selectors:[["app-network-map"]],decls:30,vars:3,consts:[[1,"network-map"],[1,"map-header"],[1,"legend"],[1,"legend-item"],[1,"legend-color",2,"background","#00ff00"],[1,"legend-color",2,"background","#ff0000"],[1,"legend-color",2,"background","#ffaa00"],[1,"legend-color",2,"background","#666666"],[1,"map-canvas"],[1,"connections-layer"],[1,"connection"],[1,"hosts-layer"],[1,"empty-state"],[1,"host-details-overlay"],[1,"host-node",3,"current","player","left","top","border-color"],[1,"host-node",3,"click"],[1,"host-icon"],[1,"host-info"],[1,"host-name"],[1,"host-ip"],[1,"host-status"],[1,"host-security"],[1,"empty-icon"],[1,"empty-text"],[1,"empty-hint"],[1,"host-details-overlay",3,"click"],[1,"host-details",3,"click"],[1,"details-header"],[1,"close-btn",3,"click"],[1,"details-content"],[1,"detail-row"],[1,"detail-label"],[1,"detail-value"],[1,"detail-section"],[1,"ports-list"],[1,"port-item"],[1,"port-number"],[1,"port-service"],[1,"port-vuln"],[1,"files-list"],[1,"file-item"]],template:function(e,i){e&1&&(u(0,"div",0)(1,"div",1)(2,"h2"),l(3,"Network Map"),d(),u(4,"div",2)(5,"div",3),ge(6,"span",4),u(7,"span"),l(8,"Player"),d()(),u(9,"div",3),ge(10,"span",5),u(11,"span"),l(12,"Compromised (ROOT)"),d()(),u(13,"div",3),ge(14,"span",6),u(15,"span"),l(16,"Compromised (USER)"),d()(),u(17,"div",3),ge(18,"span",7),u(19,"span"),l(20,"Secure"),d()()()(),u(21,"div",8),Xi(),u(22,"svg",9),B(23,Dp,1,5,":svg:line",10,Ip),d(),Dr(),u(25,"div",11),B(26,Lp,1,1,null,null,Rp),d(),y(28,Fp,7,0,"div",12),d(),y(29,Wp,36,9,"div",13),d()),e&2&&(a(22),q("viewBox","0 0 "+i.containerSize().width+" "+i.containerSize().height),a(),W(i.connections()),a(3),W(i.hosts()),a(2),M(i.hosts().length===0?28:-1),a(),M(i.selectedHost()?29:-1))},dependencies:[ee],styles:[".network-map[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;background:#0a0a0a;color:#0f0;font-family:Courier New,monospace;overflow:hidden}.map-header[_ngcontent-%COMP%]{padding:16px;border-bottom:1px solid #00ff00;display:flex;justify-content:space-between;align-items:center}.map-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:18px;color:#0f0}.legend[_ngcontent-%COMP%]{display:flex;gap:16px;font-size:12px}.legend-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px}.legend-color[_ngcontent-%COMP%]{width:12px;height:12px;border-radius:50%;border:1px solid #333}.map-canvas[_ngcontent-%COMP%]{flex:1;position:relative;overflow:auto;background:radial-gradient(circle at 50% 50%,#0d0d0d,#000)}.connections-layer[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none}.connection[_ngcontent-%COMP%]{stroke:#0f0;stroke-width:2;stroke-dasharray:5,5;opacity:.3}.hosts-layer[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;min-height:600px}.host-node[_ngcontent-%COMP%]{position:absolute;display:flex;flex-direction:column;align-items:center;gap:8px;padding:12px;background:#000c;border:2px solid #666666;border-radius:8px;cursor:pointer;transition:all .2s ease;transform:translate(-50%,-50%);min-width:150px}.host-node[_ngcontent-%COMP%]:hover{background:#00ff001a;border-width:3px;transform:translate(-50%,-50%) scale(1.05)}.host-node.current[_ngcontent-%COMP%]{border-width:3px;box-shadow:0 0 20px currentColor;animation:_ngcontent-%COMP%_pulse 2s infinite}@keyframes _ngcontent-%COMP%_pulse{0%,to{box-shadow:0 0 20px currentColor}50%{box-shadow:0 0 30px currentColor}}.host-node.player[_ngcontent-%COMP%]{border-color:#0f0}.host-icon[_ngcontent-%COMP%]{font-size:32px;filter:drop-shadow(0 0 8px currentColor)}.host-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:4px;width:100%}.host-name[_ngcontent-%COMP%]{font-size:14px;font-weight:700;color:#0f0;text-align:center}.host-ip[_ngcontent-%COMP%]{font-size:11px;color:#888;text-align:center}.host-status[_ngcontent-%COMP%]{font-size:10px;text-align:center;margin-top:4px}.host-security[_ngcontent-%COMP%]{font-size:10px;color:#666;text-align:center}.empty-state[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);text-align:center;color:#666}.empty-icon[_ngcontent-%COMP%]{font-size:64px;margin-bottom:16px;opacity:.3}.empty-text[_ngcontent-%COMP%]{font-size:18px;margin-bottom:8px}.empty-hint[_ngcontent-%COMP%]{font-size:12px;color:#444}.host-details-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#000c;display:flex;align-items:center;justify-content:center;z-index:1000}.host-details[_ngcontent-%COMP%]{background:#0a0a0a;border:2px solid #00ff00;border-radius:8px;width:500px;max-width:90%;max-height:80vh;overflow:auto}.details-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:16px;border-bottom:1px solid #00ff00}.details-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;color:#0f0;font-size:18px}.close-btn[_ngcontent-%COMP%]{background:none;border:none;color:#0f0;font-size:24px;cursor:pointer;padding:0;width:32px;height:32px;display:flex;align-items:center;justify-content:center}.close-btn[_ngcontent-%COMP%]:hover{background:#00ff001a;border-radius:4px}.details-content[_ngcontent-%COMP%]{padding:16px}.detail-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:8px 0;border-bottom:1px solid #222}.detail-label[_ngcontent-%COMP%]{color:#888;font-size:12px}.detail-value[_ngcontent-%COMP%]{color:#0f0;font-size:12px;font-weight:700}.detail-section[_ngcontent-%COMP%]{margin-top:16px;padding-top:16px;border-top:1px solid #222}.detail-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 12px;color:#0f0;font-size:14px}.ports-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.port-item[_ngcontent-%COMP%]{display:flex;gap:12px;align-items:center;padding:8px;background:#00ff000d;border-radius:4px}.port-number[_ngcontent-%COMP%]{color:#0f0;font-weight:700;min-width:50px}.port-service[_ngcontent-%COMP%]{color:#888;flex:1}.port-vuln[_ngcontent-%COMP%]{color:red;font-size:10px;font-weight:700}.files-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px}.file-item[_ngcontent-%COMP%]{color:#888;font-size:12px;padding:4px 8px}"]})};function qp(n,t){if(n&1&&(u(0,"div",7)(1,"pre"),l(2),d()()),n&2){let e=g();a(2),x(e.attachment().content)}}function Gp(n,t){if(n&1&&(u(0,"div",8),ge(1,"img",10),d()),n&2){let e=g();a(),Ae("src",e.attachment().content,Vr)("alt",e.attachment().filename)}}function Kp(n,t){if(n&1&&(u(0,"li"),l(1),d()),n&2){let e=t.$implicit;a(),x(e)}}function Yp(n,t){if(n&1&&(u(0,"div",11)(1,"h2"),l(2),d(),u(3,"div",12)(4,"span",13),l(5),d(),u(6,"span",14),l(7),d()()(),u(8,"div",15)(9,"h4"),l(10,"Client"),d(),u(11,"p"),l(12),d()(),u(13,"div",15)(14,"h4"),l(15,"Objectives"),d(),u(16,"ul",16),B(17,Kp,2,1,"li",null,$e),d()()),n&2){let e=t;a(2),x(e.title),a(2),Ht("difficulty-"+e.difficulty.toLowerCase()),a(),S(" ",e.difficulty," "),a(2),S("\u{1F4B0} ",e.reward," credits"),a(5),x(e.client),a(5),W(e.objectives)}}function Zp(n,t){if(n&1&&(u(0,"div",9),y(1,Yp,19,6),d()),n&2){let e,i=g();a(),M((e=i.attachment().missionData)?1:-1,e)}}var zi=class n{fs=_(mt);notification=_(ht);attachment=je.required();close=Ye();isDownloading=w(!1);attachmentType=G(()=>this.attachment().type);isTextFile=G(()=>{let t=this.attachmentType();return t==="text"||t==="unknown"});isImageFile=G(()=>this.attachmentType()==="image");isMissionBriefing=G(()=>this.attachmentType()==="mission");closeViewer(){this.close.emit()}downloadAttachment(){let t=this.attachment();this.isDownloading.set(!0);let e=`/home/user/downloads/${t.filename}`,i=t.content||this.generateMissionBriefingContent();try{this.fs.createDirectory("/home/user/downloads")}catch{}this.fs.writeFile(e,i)?this.notification.success("Download Complete",`Saved to ${e}`):this.notification.error("Download Failed","Unable to save attachment to file system"),this.isDownloading.set(!1)}generateMissionBriefingContent(){let t=this.attachment().missionData;return t?`MISSION BRIEFING
\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501

Title: ${t.title}
Difficulty: ${t.difficulty}
Client: ${t.client}
Reward: ${t.reward} credits

OBJECTIVES:
${t.objectives.map(e=>`\u2022 ${e}`).join(`
`)}

\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501`:""}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=X({type:n,selectors:[["app-attachment-viewer"]],inputs:{attachment:[1,"attachment"]},outputs:{close:"close"},decls:14,vars:6,consts:[[1,"attachment-viewer-overlay",3,"click"],[1,"attachment-viewer-modal",3,"click"],[1,"modal-header"],[1,"modal-actions"],[1,"download-button",3,"click","disabled"],[1,"close-button",3,"click"],[1,"modal-content"],[1,"text-viewer"],[1,"image-viewer"],[1,"mission-viewer"],[3,"src","alt"],[1,"mission-header"],[1,"mission-meta"],[1,"difficulty"],[1,"reward"],[1,"mission-section"],[1,"objectives-list"]],template:function(e,i){e&1&&(u(0,"div",0),T("click",function(){return i.closeViewer()}),u(1,"div",1),T("click",function(r){return r.stopPropagation()}),u(2,"div",2)(3,"h3"),l(4),d(),u(5,"div",3)(6,"button",4),T("click",function(){return i.downloadAttachment()}),l(7),d(),u(8,"button",5),T("click",function(){return i.closeViewer()}),l(9,"\u2715"),d()()(),u(10,"div",6),y(11,qp,3,1,"div",7),y(12,Gp,2,2,"div",8),y(13,Zp,2,1,"div",9),d()()()),e&2&&(a(4),x(i.attachment().filename),a(2),Ae("disabled",i.isDownloading()),a(),S(" ",i.isDownloading()?"\u23F3 Downloading...":"\u2B07 Download"," "),a(4),M(i.isTextFile()?11:-1),a(),M(i.isImageFile()?12:-1),a(),M(i.isMissionBriefing()?13:-1))},dependencies:[ee],styles:['@charset "UTF-8";.attachment-viewer-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#000000b3;display:flex;align-items:center;justify-content:center;z-index:10000;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px)}.attachment-viewer-modal[_ngcontent-%COMP%]{background:var(--window-bg, #2a2a2a);border:1px solid var(--window-border, #555);border-radius:8px;max-width:900px;max-height:80vh;width:90%;display:flex;flex-direction:column;box-shadow:0 8px 32px #0006}.modal-header[_ngcontent-%COMP%]{padding:16px;border-bottom:1px solid var(--window-border, #555);display:flex;align-items:center;justify-content:space-between;background:var(--titlebar-bg, #1e1e1e)}.modal-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:16px;font-weight:500;color:var(--text-color, #fff);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.modal-actions[_ngcontent-%COMP%]{display:flex;gap:8px}.modal-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:6px 12px;border:1px solid var(--button-border, #555);background:var(--button-bg, #3a3a3a);color:var(--text-color, #fff);border-radius:4px;cursor:pointer;font-size:14px;transition:background .2s}.modal-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover:not(:disabled){background:var(--button-hover, #4a4a4a)}.modal-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.modal-actions[_ngcontent-%COMP%]   .download-button[_ngcontent-%COMP%]{background:#2e5090}.modal-actions[_ngcontent-%COMP%]   .download-button[_ngcontent-%COMP%]:hover:not(:disabled){background:#3a60a8}.modal-actions[_ngcontent-%COMP%]   .close-button[_ngcontent-%COMP%]{min-width:32px;padding:6px 8px;font-size:16px;line-height:1}.modal-content[_ngcontent-%COMP%]{padding:16px;overflow:auto;flex:1}.text-viewer[_ngcontent-%COMP%]   pre[_ngcontent-%COMP%]{margin:0;padding:16px;background:var(--code-bg, #1e1e1e);border:1px solid var(--window-border, #555);border-radius:4px;color:var(--text-color, #fff);font-family:Courier New,monospace;font-size:13px;line-height:1.5;white-space:pre-wrap;word-wrap:break-word;overflow-x:auto}.image-viewer[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;min-height:300px}.image-viewer[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:60vh;object-fit:contain;border-radius:4px;box-shadow:0 2px 8px #0000004d}.mission-viewer[_ngcontent-%COMP%]   .mission-header[_ngcontent-%COMP%]{margin-bottom:24px;padding-bottom:16px;border-bottom:2px solid var(--window-border, #555)}.mission-viewer[_ngcontent-%COMP%]   .mission-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0 0 12px;font-size:24px;color:var(--text-color, #fff)}.mission-viewer[_ngcontent-%COMP%]   .mission-meta[_ngcontent-%COMP%]{display:flex;gap:16px;align-items:center}.mission-viewer[_ngcontent-%COMP%]   .mission-meta[_ngcontent-%COMP%]   .difficulty[_ngcontent-%COMP%]{padding:4px 12px;border-radius:4px;font-size:12px;font-weight:600;text-transform:uppercase}.mission-viewer[_ngcontent-%COMP%]   .mission-meta[_ngcontent-%COMP%]   .difficulty.difficulty-easy[_ngcontent-%COMP%]{background:#2e9050;color:#fff}.mission-viewer[_ngcontent-%COMP%]   .mission-meta[_ngcontent-%COMP%]   .difficulty.difficulty-medium[_ngcontent-%COMP%]{background:#907020;color:#fff}.mission-viewer[_ngcontent-%COMP%]   .mission-meta[_ngcontent-%COMP%]   .difficulty.difficulty-hard[_ngcontent-%COMP%]{background:#902e2e;color:#fff}.mission-viewer[_ngcontent-%COMP%]   .mission-meta[_ngcontent-%COMP%]   .reward[_ngcontent-%COMP%]{font-size:16px;font-weight:500;color:gold}.mission-viewer[_ngcontent-%COMP%]   .mission-section[_ngcontent-%COMP%]{margin-bottom:20px}.mission-viewer[_ngcontent-%COMP%]   .mission-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 8px;font-size:14px;text-transform:uppercase;color:var(--text-secondary, #999);font-weight:600}.mission-viewer[_ngcontent-%COMP%]   .mission-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:var(--text-color, #fff);line-height:1.6}.mission-viewer[_ngcontent-%COMP%]   .objectives-list[_ngcontent-%COMP%]{margin:0;padding-left:24px;list-style:none}.mission-viewer[_ngcontent-%COMP%]   .objectives-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{position:relative;color:var(--text-color, #fff);line-height:1.8;padding-left:0}.mission-viewer[_ngcontent-%COMP%]   .objectives-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:before{content:"\\25b8";position:absolute;left:-20px;color:#2e5090;font-size:14px}']})};function Xp(n,t){if(n&1&&(u(0,"div",0)(1,"div",2),ge(2,"div",3),d()()),n&2){let e=g();a(),Ht("spinner-"+e.size())}}function Qp(n,t){if(n&1&&(u(0,"div",2),ge(1,"div",3),d()),n&2){let e=g();Ht("spinner-"+e.size()),V("spinner-inline",e.inline())}}var Ui=class n{size=je("medium");inline=je(!1);overlay=je(!1);static \u0275fac=function(e){return new(e||n)};static \u0275cmp=X({type:n,selectors:[["app-spinner"]],inputs:{size:[1,"size"],inline:[1,"inline"],overlay:[1,"overlay"]},decls:2,vars:1,consts:[[1,"spinner-overlay"],[1,"spinner",3,"class","spinner-inline"],[1,"spinner"],[1,"spinner-circle"]],template:function(e,i){e&1&&y(0,Xp,3,2,"div",0)(1,Qp,2,4,"div",1),e&2&&M(i.overlay()?0:1)},dependencies:[ee],styles:[".spinner-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:#0000004d;display:flex;align-items:center;justify-content:center;z-index:1000;animation:_ngcontent-%COMP%_fadeIn .2s ease-out}.spinner[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center}.spinner.spinner-inline[_ngcontent-%COMP%]{vertical-align:middle}.spinner.spinner-small[_ngcontent-%COMP%]{width:16px;height:16px}.spinner.spinner-medium[_ngcontent-%COMP%]{width:24px;height:24px}.spinner.spinner-large[_ngcontent-%COMP%]{width:32px;height:32px}.spinner-circle[_ngcontent-%COMP%]{width:100%;height:100%;border:2px solid rgba(255,255,255,.2);border-top-color:var(--accent-color, #00ff00);border-radius:50%;animation:_ngcontent-%COMP%_spin .8s linear infinite}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}"]})};var Jp=()=>[1,2,3,4,5],em=(n,t)=>t.id;function tm(n,t){n&1&&$(0,"app-spinner",1),n&2&&Q("overlay",!0)}function nm(n,t){if(n&1&&(f(0,"span",7),l(1),v()),n&2){let e=g();ts("aria-label",os("",e.unreadCount()," unread messages")),a(),x(e.unreadCount())}}function im(n,t){if(n&1){let e=U();f(0,"app-attachment-viewer",20),A("close",function(){E(e);let o=g();return O(o.closeAttachmentViewer())}),v()}if(n&2){let e=g();Q("attachment",e.viewingAttachment())}}function om(n,t){n&1&&(f(0,"article",21)(1,"div",22),$(2,"span",23)(3,"span",24),v(),f(4,"div",25),$(5,"span",26)(6,"span",27),v(),$(7,"div",28),v())}function rm(n,t){n&1&&B(0,om,8,0,"article",21,$e),n&2&&W(rs(0,Jp))}function sm(n,t){if(n&1&&(f(0,"div",35),$(1,"app-icon",36),f(2,"span"),l(3),v()()),n&2){let e=g().$implicit;a(3),De("",e.attachments.length," attachment",e.attachments.length!==1?"s":"")}}function am(n,t){if(n&1){let e=U();f(0,"article",30),A("click",function(){let o=E(e).$implicit,r=g(2);return O(r.selectEmail(o.id))}),f(1,"div",22)(2,"span",31),l(3),v(),f(4,"time",32),l(5),v()(),f(6,"div",25)(7,"span",33),l(8),v(),l(9),v(),f(10,"p",34),l(11),v(),y(12,sm,4,2,"div",35),v()}if(n&2){let e=t.$implicit,i=g(2);V("unread",!e.read)("selected",i.selectedEmailId()===e.id),q("aria-label","Email from "+e.from+" about "+e.subject+(e.read?"":", unread")),a(3),x(e.from),a(),q("datetime",e.timestamp.toISOString()),a(),x(i.formatTimestamp(e.timestamp)),a(2),ce("background",i.getCategoryBadgeColor(e.category)),a(),S(" ",e.category," "),a(),S(" ",e.subject," "),a(2),S("",e.body.substring(0,100),"..."),a(),M(e.attachments&&e.attachments.length>0?12:-1)}}function cm(n,t){if(n&1&&B(0,am,13,14,"article",29,em),n&2){let e=g();W(e.filteredEmails())}}function lm(n,t){if(n&1){let e=U();f(0,"article",18)(1,"header",37)(2,"h2"),l(3,"New Message"),v(),f(4,"div",38)(5,"button",39),A("click",function(){E(e);let o=g();return O(o.sendEmail())}),l(6,"Send"),v(),f(7,"button",10),A("click",function(){E(e);let o=g();return O(o.cancelCompose())}),l(8,"Cancel"),v()()(),f(9,"form",40)(10,"div",41)(11,"label",42),l(12,"To:"),v(),f(13,"input",43),Hn("ngModelChange",function(o){E(e);let r=g();return Vn(r.newEmail().to,o)||(r.newEmail().to=o),O(o)}),v()(),f(14,"div",41)(15,"label",44),l(16,"Subject:"),v(),f(17,"input",45),Hn("ngModelChange",function(o){E(e);let r=g();return Vn(r.newEmail().subject,o)||(r.newEmail().subject=o),O(o)}),v()(),f(18,"div",46)(19,"label",47),l(20,"Body:"),v(),f(21,"textarea",48),Hn("ngModelChange",function(o){E(e);let r=g();return Vn(r.newEmail().body,o)||(r.newEmail().body=o),O(o)}),v()()()()}if(n&2){let e=g();a(13),$n("ngModel",e.newEmail().to),a(4),$n("ngModel",e.newEmail().subject),a(4),$n("ngModel",e.newEmail().body)}}function dm(n,t){n&1&&$(0,"app-spinner",1),n&2&&Q("overlay",!0)}function um(n,t){if(n&1){let e=U();f(0,"button",55),A("click",function(){E(e);let o=g(2);return O(o.acceptMission(o.selectedEmail().missionId))}),l(1),v(),f(2,"button",56),A("click",function(){E(e);let o=g(2);return O(o.rejectMission(o.selectedEmail().missionId))}),l(3),v()}if(n&2){let e=g(2);Q("disabled",e.acceptingMission()||e.rejectingMission()),q("aria-busy",e.acceptingMission()),a(),S(" ",e.acceptingMission()?"Accepting...":"Accept"," "),a(),Q("disabled",e.acceptingMission()||e.rejectingMission()),q("aria-busy",e.rejectingMission()),a(),S(" ",e.rejectingMission()?"Declining...":"Decline"," ")}}function pm(n,t){if(n&1){let e=U();f(0,"button",10),A("click",function(){E(e);let o=g(2);return O(o.replyToEmail())}),l(1,"Reply"),v()}}function mm(n,t){if(n&1){let e=U();f(0,"button",59),A("click",function(){let o=E(e).$implicit,r=g(3);return O(r.openAttachment(o))}),$(1,"app-icon",36),f(2,"span"),l(3),v()()}if(n&2){let e=t.$implicit;q("aria-label","Open attachment: "+e),a(3),x(e)}}function gm(n,t){if(n&1&&(f(0,"div",53)(1,"dt"),l(2,"Attachments:"),v(),f(3,"dd",57),B(4,mm,4,2,"button",58,$e),v()()),n&2){let e=g(2);a(4),W(e.selectedEmail().attachments)}}function fm(n,t){if(n&1){let e=U();f(0,"article",19),y(1,dm,1,1,"app-spinner",1),f(2,"header",49)(3,"div",50)(4,"h2"),l(5),v(),f(6,"span",33),l(7),v()(),f(8,"nav",51),y(9,um,4,6),y(10,pm,2,0,"button"),f(11,"button",10),A("click",function(){E(e);let o=g();return O(o.deleteEmail(o.selectedEmail().id))}),l(12,"Delete"),v()()(),f(13,"dl",52)(14,"div",53)(15,"dt"),l(16,"From:"),v(),f(17,"dd"),l(18),v()(),f(19,"div",53)(20,"dt"),l(21,"Date:"),v(),f(22,"dd")(23,"time"),l(24),v()()(),y(25,gm,6,0,"div",53),v(),f(26,"div",54)(27,"pre"),l(28),v()()()}if(n&2){let e,i=g();a(),M(i.acceptingMission()||i.rejectingMission()?1:-1),a(4),x(i.selectedEmail().subject),a(),ce("background",i.getCategoryBadgeColor(i.selectedEmail().category)),a(),S(" ",i.selectedEmail().category," "),a(2),M(i.selectedEmail().missionId&&((e=i.getMissionDetails(i.selectedEmail().missionId))==null?null:e.status)==="available"?9:-1),a(),M(i.selectedEmail().category!=="contract"?10:-1),a(8),x(i.selectedEmail().from),a(5),q("datetime",i.selectedEmail().timestamp.toISOString()),a(),x(i.selectedEmail().timestamp.toLocaleString()),a(),M(i.selectedEmail().attachments&&i.selectedEmail().attachments.length>0?25:-1),a(3),x(i.selectedEmail().body)}}function hm(n,t){if(n&1){let e=U();f(0,"button",63),A("click",function(){E(e);let o=g(3);return O(o.setFilter("all"))}),l(1,"View All Emails"),v()}}function vm(n,t){if(n&1&&(f(0,"div",60)(1,"div",61),l(2,"\u{1F4ED}"),v(),f(3,"h3"),l(4,"No emails here"),v(),f(5,"p"),l(6),v(),y(7,hm,2,0,"button",62),v()),n&2){let e=g(2);a(6),S("Your ",e.filterCategory()==="all"?"inbox is empty":e.filterCategory()+" folder is empty"),a(),M(e.filterCategory()!=="all"?7:-1)}}function _m(n,t){n&1&&(f(0,"div",60)(1,"div",64),$(2,"app-icon",65),v(),f(3,"p"),l(4,"Select an email to read"),v()())}function Cm(n,t){if(n&1&&y(0,vm,8,2,"div",60)(1,_m,5,0,"div",60),n&2){let e=g();M(e.filteredEmails().length===0?0:1)}}var Tn=class n{missionService=_(Wn);dialogService=_(qn);notificationService=_(ht);emails=w([{id:1,from:"admin@webos.sys",subject:"Welcome to WebOS",body:`Welcome to WebOS! This is your personal email client for managing contracts, missions, and communications.

In sandbox mode, you will receive contract offers and mission briefings here. Check your inbox regularly for new opportunities.

Good luck!`,timestamp:new Date(Date.now()-864e5),read:!1,category:"system"},{id:2,from:"contracts@corp.net",subject:"[CONTRACT] Data Analysis Project",body:`Dear User,

We have a contract available for data analysis work. The project involves analyzing system logs and identifying performance bottlenecks.

Duration: 2 weeks
Payment: 5000 credits
Difficulty: Medium

Please respond if interested.

Best regards,
Corporate Contracts`,timestamp:new Date(Date.now()-432e5),read:!1,attachments:["contract_details.pdf"],category:"contract"},{id:3,from:"missions@agency.gov",subject:"[MISSION] Security Audit Required",body:`CONFIDENTIAL

We need a security audit performed on a critical system. This is a time-sensitive mission.

Objectives:
- Identify security vulnerabilities
- Provide detailed report
- Recommend fixes

Reward: 8000 credits + bonus
Deadline: 72 hours

Accept mission?`,timestamp:new Date(Date.now()-72e5),read:!1,attachments:["mission_brief.txt","system_specs.doc"],category:"mission"}]);selectedEmailId=w(null);composing=w(!1);filterCategory=w("all");viewingAttachment=w(null);acceptingMission=w(!1);rejectingMission=w(!1);requestingContracts=w(!1);loadingEmails=w(!1);newEmail=w({to:"",subject:"",body:""});selectedEmail=G(()=>{let t=this.selectedEmailId();return t?this.emails().find(e=>e.id===t):null});filteredEmails=G(()=>{let t=this.filterCategory();return t==="all"?this.emails():this.emails().filter(e=>e.category===t)});unreadCount=G(()=>this.emails().filter(t=>!t.read).length);selectEmail(t){this.selectedEmailId.set(t),this.emails.update(e=>e.map(i=>i.id===t?I(C({},i),{read:!0}):i))}deleteEmail(t){return ie(this,null,function*(){let e=this.emails().find(o=>o.id===t);!e||!(yield this.dialogService.confirm({title:"Delete Email",message:`Are you sure you want to delete "${e.subject}"? This action cannot be undone.`,confirmText:"Delete",cancelText:"Cancel",showDontAskAgain:!0,preferenceKey:"delete-email"})).confirmed||(this.emails.update(o=>o.filter(r=>r.id!==t)),this.selectedEmailId()===t&&this.selectedEmailId.set(null),this.notificationService.show("Email deleted","success"))})}startCompose(){this.composing.set(!0),this.selectedEmailId.set(null),this.newEmail.set({to:"",subject:"",body:""})}cancelCompose(){this.composing.set(!1),this.newEmail.set({to:"",subject:"",body:""})}sendEmail(){let t=this.newEmail();if(!t.to||!t.subject)return;let e=Math.max(...this.emails().map(i=>i.id),0)+1;this.emails.update(i=>[...i,{id:e,from:"user@webos.sys",subject:t.subject,body:t.body,timestamp:new Date,read:!0,category:"personal"}]),this.composing.set(!1),this.newEmail.set({to:"",subject:"",body:""})}replyToEmail(){let t=this.selectedEmail();t&&(this.startCompose(),this.newEmail.set({to:t.from,subject:`RE: ${t.subject}`,body:`

--- Original Message ---
From: ${t.from}
Date: ${t.timestamp.toLocaleString()}

${t.body}`}))}setFilter(t){this.filterCategory.set(t)}markAllRead(){this.emails.update(t=>t.map(e=>I(C({},e),{read:!0})))}requestNewContracts(){return ie(this,null,function*(){this.requestingContracts.set(!0),yield new Promise(o=>setTimeout(o,800));let t=this.missionService.deliverMissionsToEmail(3),e=Math.max(...this.emails().map(o=>o.id),0)+1,i=t.map(o=>{let r=this.missionToEmail(o);return r.id=e++,r});this.emails.update(o=>[...o,...i]),this.requestingContracts.set(!1)})}acceptMission(t){return ie(this,null,function*(){if(!t)return!1;this.acceptingMission.set(!0),yield new Promise(i=>setTimeout(i,600));let e=this.missionService.acceptMission(t);return e?(this.emails.update(i=>i.map(o=>o.missionId===t?I(C({},o),{subject:o.subject.replace("[NEW CONTRACT]","[ACCEPTED]")}):o)),alert("Mission accepted! Check your active missions in the Task Manager.")):alert("Failed to accept mission. It may have already been accepted or expired."),this.acceptingMission.set(!1),e})}rejectMission(t){return ie(this,null,function*(){!t||!(yield this.dialogService.confirm({title:"Decline Mission",message:"Are you sure you want to decline this contract? You will not be able to accept it again.",confirmText:"Decline",cancelText:"Cancel",showDontAskAgain:!0,preferenceKey:"decline-mission"})).confirmed||(this.rejectingMission.set(!0),yield new Promise(i=>setTimeout(i,400)),this.emails.update(i=>i.map(o=>o.missionId===t?I(C({},o),{subject:o.subject.replace("[NEW CONTRACT]","[DECLINED]")}):o)),this.notificationService.show("Mission declined","info"),this.rejectingMission.set(!1))})}openAttachment(t){let e=this.selectedEmail();if(!e)return;let i=this.parseAttachment(t,e);this.viewingAttachment.set(i)}closeAttachmentViewer(){this.viewingAttachment.set(null)}parseAttachment(t,e){let i=t.split(".").pop()?.toLowerCase();return t.includes("mission_brief")||t.includes("briefing")?{filename:t,type:"mission",missionData:e.missionId?this.extractMissionData(e):void 0}:i==="png"||i==="jpg"||i==="jpeg"||i==="gif"?{filename:t,type:"image",content:`data:image/${i};base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mNk+M9QDwADhgGAWjR9awAAAABJRU5ErkJggg==`}:{filename:t,type:"text",content:this.generateAttachmentContent(t,e)}}extractMissionData(t){let e=t.missionId?this.missionService.getMission(t.missionId):null;if(e)return{title:e.title,objectives:e.objectives.map(p=>p.description),reward:e.reward.credits,difficulty:e.difficulty.charAt(0).toUpperCase()+e.difficulty.slice(1),client:e.clientName||"Unknown"};let i=t.body.match(/OBJECTIVES:\n([\s\S]*?)\n\n/),o=i?i[1].split(`
`).filter(p=>p.trim().startsWith("\u2022")).map(p=>p.replace("\u2022","").trim()):[],r=t.body.match(/Credits: (\d+)/),s=t.body.match(/Difficulty: (\w+)/),c=t.body.match(/Client: ([^\n]+)/);return{title:t.subject.replace(/\[.*?\]\s*/,""),objectives:o,reward:r?parseInt(r[1]):0,difficulty:s?s[1]:"Unknown",client:c?c[1]:t.from}}generateAttachmentContent(t,e){return t.includes("contract")?`CONTRACT DETAILS
\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501

This document contains the full terms and conditions for the contract referenced in the email.

Subject: ${e.subject}
From: ${e.from}
Date: ${e.timestamp.toLocaleString()}

TERMS:
${e.body}

\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501

By accepting this contract, you agree to complete all objectives within the specified timeframe.`:t.includes("spec")?`SYSTEM SPECIFICATIONS
\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501

Target System Information:
- OS: Linux 5.4.0
- Kernel: x86_64
- Open Ports: 21 (FTP), 22 (SSH), 80 (HTTP), 443 (HTTPS)
- Firewall: Active
- IDS: Enabled
- Security Level: High

Network Configuration:
- IP Range: 192.168.1.0/24
- Gateway: 192.168.1.1
- DNS: 8.8.8.8, 8.8.4.4

Known Vulnerabilities:
- CVE-2021-44228 (Log4j)
- Weak FTP credentials
- Unpatched SSH version

\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501`:`${t}
\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501

This is an attachment from the email: "${e.subject}"

Content:
${e.body.substring(0,500)}...

\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501

End of attachment.`}getMissionDetails(t){return this.missionService.getMission(t)}missionToEmail(t){let e=t.objectives.map(o=>`\u2022 ${o.description}`).join(`
`),i=`${t.description}

MISSION DETAILS:
\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501
Title: ${t.title}
Difficulty: ${t.difficulty.toUpperCase()}
Client: ${t.clientName||"Unknown"}
Faction: ${t.clientFaction||"Unknown"}

OBJECTIVES:
${e}

REWARDS:
\u2022 Credits: ${t.reward.credits}
\u2022 Reputation: ${t.reward.reputation||0}

TARGET:
\u2022 Network: ${t.targetNetwork||"N/A"}
${t.stealthRequired?"\u2022 Stealth Required: YES":""}

TIME LIMIT: ${t.timeLimit?this.formatTimeLimit(t.timeLimit):"N/A"}
EXPIRES: ${t.expiresAt?new Date(t.expiresAt).toLocaleString():"N/A"}

\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501

${t.consequences?.success||""}
${t.consequences?.failure||""}

Reply to this email to accept the mission.`;return{id:0,from:`${(t.clientName||"unknown").toLowerCase().replace(/\s+/g,".")}@contracts.net`,subject:`[NEW CONTRACT] ${t.title}`,body:i,timestamp:new Date,read:!1,category:"contract",missionId:t.id}}formatTimeLimit(t){let e=Math.floor(t/6e4),i=Math.floor(e/60);return i>0?`${i}h ${e%60}m`:`${e}m`}formatTimestamp(t){let i=new Date().getTime()-t.getTime(),o=Math.floor(i/36e5),r=Math.floor(o/24);return o<1?"Just now":o<24?`${o}h ago`:r===1?"Yesterday":r<7?`${r}d ago`:t.toLocaleDateString()}getCategoryBadgeColor(t){switch(t){case"contract":return"#2e5090";case"mission":return"#902e2e";case"personal":return"#2e9050";case"system":return"#907020";default:return"#555"}}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=X({type:n,selectors:[["app-email"]],decls:43,vars:25,consts:[[1,"email-client"],[3,"overlay"],["role","navigation","aria-label","Email folders",1,"sidebar"],["aria-label","Compose new email",1,"compose-button",3,"click"],["name","mail","size","small"],["role","menu","aria-label","Email categories",1,"folder-list"],["role","menuitem",1,"folder",3,"click"],[1,"badge",3,"aria-label"],[1,"actions"],[3,"click","disabled"],[3,"click"],[3,"attachment"],["role","region","aria-label","Email messages",1,"email-list"],[1,"list-header"],["id","email-list-heading"],["aria-live","polite",1,"count"],["role","list","aria-labelledby","email-list-heading",1,"list-items"],["role","main","aria-label","Email content",1,"email-viewer"],[1,"compose"],[1,"email-content"],[3,"close","attachment"],["role","listitem","aria-label","Loading email",1,"email-item","skeleton"],[1,"email-header"],[1,"skeleton-line","short"],[1,"skeleton-line","tiny"],[1,"subject"],[1,"skeleton-badge"],[1,"skeleton-line","medium"],[1,"preview","skeleton-line","long"],["role","listitem",1,"email-item",3,"unread","selected"],["role","listitem",1,"email-item",3,"click"],[1,"from"],[1,"timestamp"],["role","status",1,"category-badge"],[1,"preview"],["role","note",1,"attachment-indicator"],["name","paperclip","size","small","aria-hidden","true"],[1,"compose-header"],[1,"compose-actions"],[1,"send-button",3,"click"],[1,"compose-fields"],[1,"field"],["for","email-to"],["id","email-to","type","email","placeholder","recipient@example.com","aria-required","true",3,"ngModelChange","ngModel"],["for","email-subject"],["id","email-subject","type","text","placeholder","Email subject","aria-required","true",3,"ngModelChange","ngModel"],[1,"field","body-field"],["for","email-body"],["id","email-body","placeholder","Type your message here...","aria-required","true",3,"ngModelChange","ngModel"],[1,"content-header"],[1,"content-title"],["aria-label","Email actions",1,"content-actions"],[1,"content-meta"],[1,"meta-row"],[1,"content-body"],[1,"accept-button",3,"click","disabled"],[1,"reject-button",3,"click","disabled"],[1,"attachments"],[1,"attachment"],[1,"attachment",3,"click"],["role","status",1,"empty-state"],["aria-hidden","true",1,"empty-icon"],[1,"cta-button"],[1,"cta-button",3,"click"],[1,"empty-icon"],["name","mail","size","large","aria-hidden","true"]],template:function(e,i){e&1&&(f(0,"div",0),y(1,tm,1,1,"app-spinner",1),f(2,"aside",2)(3,"button",3),A("click",function(){return i.startCompose()}),$(4,"app-icon",4),f(5,"span"),l(6,"Compose"),v()(),f(7,"nav",5)(8,"button",6),A("click",function(){return i.setFilter("all")}),f(9,"span"),l(10,"All Mail"),v(),y(11,nm,2,3,"span",7),v(),f(12,"button",6),A("click",function(){return i.setFilter("contract")}),f(13,"span"),l(14,"Contracts"),v()(),f(15,"button",6),A("click",function(){return i.setFilter("mission")}),f(16,"span"),l(17,"Missions"),v()(),f(18,"button",6),A("click",function(){return i.setFilter("personal")}),f(19,"span"),l(20,"Personal"),v()(),f(21,"button",6),A("click",function(){return i.setFilter("system")}),f(22,"span"),l(23,"System"),v()()(),f(24,"div",8)(25,"button",9),A("click",function(){return i.requestNewContracts()}),l(26),v(),f(27,"button",10),A("click",function(){return i.markAllRead()}),l(28,"Mark All Read"),v()()(),y(29,im,1,1,"app-attachment-viewer",11),f(30,"section",12)(31,"header",13)(32,"h2",14),l(33),v(),f(34,"span",15),l(35),v()(),f(36,"div",16),y(37,rm,2,1)(38,cm,2,0),v()(),f(39,"main",17),y(40,lm,22,3,"article",18)(41,fm,29,12,"article",19)(42,Cm,2,1),v()()),e&2&&(a(),M(i.requestingContracts()?1:-1),a(7),V("active",i.filterCategory()==="all"),q("aria-current",i.filterCategory()==="all"?"page":null),a(3),M(i.unreadCount()>0?11:-1),a(),V("active",i.filterCategory()==="contract"),q("aria-current",i.filterCategory()==="contract"?"page":null),a(3),V("active",i.filterCategory()==="mission"),q("aria-current",i.filterCategory()==="mission"?"page":null),a(3),V("active",i.filterCategory()==="personal"),q("aria-current",i.filterCategory()==="personal"?"page":null),a(3),V("active",i.filterCategory()==="system"),q("aria-current",i.filterCategory()==="system"?"page":null),a(4),Q("disabled",i.requestingContracts()),q("aria-busy",i.requestingContracts()),a(),S(" ",i.requestingContracts()?"Requesting...":"Request Contracts"," "),a(3),M(i.viewingAttachment()?29:-1),a(4),x(i.filterCategory()==="all"?"All Mail":i.filterCategory()),a(2),S("",i.filteredEmails().length," messages"),a(2),M(i.loadingEmails()?37:38),a(3),M(i.composing()?40:i.selectedEmail()?41:42))},dependencies:[ee,ft,Ms,_s,Cs,bs,ys,xs,zi,Ze,Ui],styles:[".email-client[_ngcontent-%COMP%]{display:flex;height:100%;background:#2c2c2c;color:#e0e0e0;font-family:Ubuntu,sans-serif}.sidebar[_ngcontent-%COMP%]{width:200px;background:#333;border-right:1px solid #555;display:flex;flex-direction:column;padding:12px;gap:12px}.compose-button[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:8px;padding:12px;background:#5e2750;color:#fff;border:none;border-radius:4px;cursor:pointer;font-size:14px;font-weight:700}.compose-button[_ngcontent-%COMP%]:hover{background:#772953}.compose-button[_ngcontent-%COMP%]:focus-visible{outline:2px solid #fff;outline-offset:2px}.folder-list[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;gap:4px}.folder[_ngcontent-%COMP%]{width:100%;padding:10px 12px;background:transparent;border:none;border-radius:4px;cursor:pointer;display:flex;justify-content:space-between;align-items:center;font-size:14px;color:inherit;text-align:left}.folder[_ngcontent-%COMP%]:hover{background:#3c3c3c}.folder.active[_ngcontent-%COMP%]{background:#5e2750;color:#fff}.folder[_ngcontent-%COMP%]:focus-visible{outline:2px solid #fff;outline-offset:-2px}.folder[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{padding:2px 6px;background:#902e2e;color:#fff;border-radius:10px;font-size:11px;font-weight:700}.actions[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;padding:8px;background:#444;color:#e0e0e0;border:1px solid #555;border-radius:4px;cursor:pointer;font-size:12px}.actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#555}.email-list[_ngcontent-%COMP%]{width:400px;background:#2c2c2c;border-right:1px solid #555;display:flex;flex-direction:column}.list-header[_ngcontent-%COMP%]{padding:16px;background:#3c3c3c;border-bottom:1px solid #555;display:flex;justify-content:space-between;align-items:center}.list-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:16px;text-transform:capitalize}.list-header[_ngcontent-%COMP%]   .count[_ngcontent-%COMP%]{font-size:12px;color:#999}.list-items[_ngcontent-%COMP%]{flex:1;overflow:auto}.email-item[_ngcontent-%COMP%]{padding:12px 16px;border-bottom:1px solid #3c3c3c;cursor:pointer;transition:background .2s}.email-item[_ngcontent-%COMP%]:hover{background:#333}.email-item.selected[_ngcontent-%COMP%]{background:#3c3c3c;border-left:3px solid #5e2750}.email-item.unread[_ngcontent-%COMP%]{background:#2e2e2e}.email-item.unread[_ngcontent-%COMP%]   .subject[_ngcontent-%COMP%]{font-weight:700}.email-item.skeleton[_ngcontent-%COMP%]{pointer-events:none}.email-item.skeleton[_ngcontent-%COMP%]   .skeleton-line[_ngcontent-%COMP%], .email-item.skeleton[_ngcontent-%COMP%]   .skeleton-badge[_ngcontent-%COMP%]{background:#3c3c3c;border-radius:4px;animation:_ngcontent-%COMP%_skeleton-pulse 1.5s ease-in-out infinite}.email-item.skeleton[_ngcontent-%COMP%]   .skeleton-line[_ngcontent-%COMP%]{height:12px;display:inline-block}.email-item.skeleton[_ngcontent-%COMP%]   .skeleton-line.tiny[_ngcontent-%COMP%]{width:50px}.email-item.skeleton[_ngcontent-%COMP%]   .skeleton-line.short[_ngcontent-%COMP%]{width:120px}.email-item.skeleton[_ngcontent-%COMP%]   .skeleton-line.medium[_ngcontent-%COMP%]{width:200px}.email-item.skeleton[_ngcontent-%COMP%]   .skeleton-line.long[_ngcontent-%COMP%]{width:100%}.email-item.skeleton[_ngcontent-%COMP%]   .skeleton-badge[_ngcontent-%COMP%]{width:60px;height:16px;display:inline-block}.email-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:4px;font-size:12px}.email-header[_ngcontent-%COMP%]   .from[_ngcontent-%COMP%]{color:#e0e0e0;font-weight:500}.email-header[_ngcontent-%COMP%]   .timestamp[_ngcontent-%COMP%]{color:#999}.subject[_ngcontent-%COMP%]{font-size:14px;margin-bottom:4px;display:flex;gap:8px;align-items:center}.category-badge[_ngcontent-%COMP%]{padding:2px 6px;border-radius:3px;font-size:10px;font-weight:700;text-transform:uppercase;color:#fff}.preview[_ngcontent-%COMP%]{font-size:12px;color:#999;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.attachment-indicator[_ngcontent-%COMP%]{margin-top:4px;font-size:11px;color:#999}.email-viewer[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;overflow:hidden}.empty-state[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;align-items:center;justify-content:center;color:#666}.empty-state[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]{font-size:64px;margin-bottom:16px}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px}.compose[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;overflow:hidden}.compose-header[_ngcontent-%COMP%]{padding:16px;background:#3c3c3c;border-bottom:1px solid #555;display:flex;justify-content:space-between;align-items:center}.compose-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:16px}.compose-actions[_ngcontent-%COMP%]{display:flex;gap:8px}.compose-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:8px 16px;background:#555;color:#e0e0e0;border:1px solid #666;border-radius:4px;cursor:pointer;font-size:13px}.compose-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#666}.compose-actions[_ngcontent-%COMP%]   button.send-button[_ngcontent-%COMP%]{background:#5e2750;border-color:#772953}.compose-actions[_ngcontent-%COMP%]   button.send-button[_ngcontent-%COMP%]:hover{background:#772953}.compose-fields[_ngcontent-%COMP%]{flex:1;padding:16px;overflow:auto;display:flex;flex-direction:column;gap:16px}.field[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.field[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:13px;font-weight:500;color:#e0e0e0}.field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .field[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{padding:10px;background:#3c3c3c;color:#e0e0e0;border:1px solid #555;border-radius:4px;font-size:14px;font-family:Ubuntu,sans-serif}.field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .field[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]:focus{outline:none;border-color:#5e2750}.field.body-field[_ngcontent-%COMP%]{flex:1;display:flex}.field.body-field[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{flex:1;resize:none;font-family:Ubuntu Mono,monospace}.email-content[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;overflow:hidden}.content-header[_ngcontent-%COMP%]{padding:16px;background:#3c3c3c;border-bottom:1px solid #555}.content-header[_ngcontent-%COMP%]   .content-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;margin-bottom:12px}.content-header[_ngcontent-%COMP%]   .content-title[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:18px}.content-actions[_ngcontent-%COMP%]{display:flex;gap:8px}.content-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:8px 16px;background:#555;color:#e0e0e0;border:1px solid #666;border-radius:4px;cursor:pointer;font-size:13px}.content-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#666}.content-actions[_ngcontent-%COMP%]   button.accept-button[_ngcontent-%COMP%]{background:#2e9050;border-color:#3aa65d}.content-actions[_ngcontent-%COMP%]   button.accept-button[_ngcontent-%COMP%]:hover{background:#3aa65d}.content-actions[_ngcontent-%COMP%]   button.reject-button[_ngcontent-%COMP%]{background:#902e2e;border-color:#a63a3a}.content-actions[_ngcontent-%COMP%]   button.reject-button[_ngcontent-%COMP%]:hover{background:#a63a3a}.content-meta[_ngcontent-%COMP%]{padding:16px;background:#333;border-bottom:1px solid #555;display:flex;flex-direction:column;gap:8px}.meta-row[_ngcontent-%COMP%]{display:flex;gap:12px;font-size:13px}.meta-row[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{min-width:100px;color:#999;font-weight:500}.meta-row[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#e0e0e0}.attachments[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:8px}.attachment[_ngcontent-%COMP%]{padding:4px 8px;background:#444;border:1px solid #555;border-radius:4px;font-size:12px;cursor:pointer;color:#e0e0e0;transition:background .2s}.attachment[_ngcontent-%COMP%]:hover{background:#555;border-color:#5e2750}.content-body[_ngcontent-%COMP%]{flex:1;padding:24px;overflow:auto}.content-body[_ngcontent-%COMP%]   pre[_ngcontent-%COMP%]{margin:0;font-family:Ubuntu Mono,monospace;font-size:14px;line-height:1.6;white-space:pre-wrap;word-wrap:break-word;color:#e0e0e0}.empty-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%;color:#999;gap:16px}.empty-state[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]{font-size:64px;opacity:.5}.empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:20px;font-weight:500;color:#ccc}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:14px;color:#999}.empty-state[_ngcontent-%COMP%]   .cta-button[_ngcontent-%COMP%]{margin-top:8px;padding:10px 20px;background:#5e2750;border:1px solid #7a3768;border-radius:4px;font-size:14px;font-weight:500;color:#fff;cursor:pointer;transition:all .2s}.empty-state[_ngcontent-%COMP%]   .cta-button[_ngcontent-%COMP%]:hover{background:#7a3768;border-color:#8e4579}.empty-state[_ngcontent-%COMP%]   .cta-button[_ngcontent-%COMP%]:active{transform:scale(.98)}@keyframes _ngcontent-%COMP%_skeleton-pulse{0%,to{opacity:1}50%{opacity:.5}}"]})};var bm=(n,t)=>t.pid;function xm(n,t){if(n&1){let e=U();u(0,"tr",5),T("click",function(){let o=E(e).$implicit,r=g();return O(r.selectProcess(o.pid))}),u(1,"td"),l(2),d(),u(3,"td"),l(4),d(),u(5,"td")(6,"span",11),l(7),d()(),u(8,"td")(9,"span",12),l(10),d()(),u(11,"td"),l(12),d(),u(13,"td"),l(14),d(),u(15,"td"),l(16),d(),u(17,"td"),l(18),d()()}if(n&2){let e=t.$implicit,i=g();V("selected",i.selectedPid()===e.pid),a(2),x(e.pid),a(2),x(e.name),a(2),q("data-type",e.type),a(),S(" ",e.type," "),a(2),q("data-status",e.status),a(),S(" ",e.status," "),a(2),x(i.formatCpu(e.cpu)),a(2),x(i.formatMemory(e.memory)),a(2),x(i.formatUptime(e.uptime)),a(2),x(e.user)}}function ym(n,t){if(n&1){let e=U();u(0,"div",10)(1,"h3"),l(2,"Process Details"),d(),u(3,"div",13)(4,"div",14)(5,"label"),l(6,"PID:"),d(),u(7,"span"),l(8),d()(),u(9,"div",14)(10,"label"),l(11,"Name:"),d(),u(12,"span"),l(13),d()(),u(14,"div",14)(15,"label"),l(16,"Type:"),d(),u(17,"span"),l(18),d()(),u(19,"div",14)(20,"label"),l(21,"Status:"),d(),u(22,"span"),l(23),d()(),u(24,"div",14)(25,"label"),l(26,"CPU Usage:"),d(),u(27,"span"),l(28),d()(),u(29,"div",14)(30,"label"),l(31,"Memory:"),d(),u(32,"span"),l(33),d()(),u(34,"div",14)(35,"label"),l(36,"Uptime:"),d(),u(37,"span"),l(38),d()(),u(39,"div",14)(40,"label"),l(41,"User:"),d(),u(42,"span"),l(43),d()()(),u(44,"div",15)(45,"button",16),T("click",function(){E(e);let o=g();return O(o.killProcess())}),l(46,"Kill Process"),d()()()}if(n&2){let e=g();a(8),x(e.selectedProcess().pid),a(5),x(e.selectedProcess().name),a(5),x(e.selectedProcess().type),a(5),x(e.selectedProcess().status),a(5),x(e.formatCpu(e.selectedProcess().cpu)),a(5),x(e.formatMemory(e.selectedProcess().memory)),a(5),x(e.formatUptime(e.selectedProcess().uptime)),a(5),x(e.selectedProcess().user)}}var Dt=class n{intervalId;nextPid=1e3;processes=w([{pid:1,name:"init",type:"system",status:"running",cpu:.1,memory:12,uptime:86400,user:"root"},{pid:2,name:"systemd",type:"system",status:"running",cpu:.2,memory:18,uptime:86400,user:"root"},{pid:100,name:"Desktop",type:"system",status:"running",cpu:1.5,memory:145,uptime:3600,user:"user"},{pid:101,name:"WindowManager",type:"system",status:"running",cpu:2.1,memory:89,uptime:3600,user:"user"},{pid:102,name:"Taskbar",type:"system",status:"running",cpu:.3,memory:45,uptime:3600,user:"user"},{pid:200,name:"FileManager",type:"application",status:"running",cpu:.8,memory:67,uptime:1800,user:"user"},{pid:201,name:"Terminal",type:"application",status:"running",cpu:.5,memory:34,uptime:900,user:"user"},{pid:202,name:"TextEditor",type:"application",status:"running",cpu:1.2,memory:78,uptime:600,user:"user"}]);selectedPid=w(null);sortColumn=w("pid");sortAscending=w(!0);filterType=w("all");autoRefresh=w(!0);filteredProcesses=G(()=>{let t=this.processes();this.filterType()!=="all"&&(t=t.filter(o=>o.type===this.filterType()));let e=this.sortColumn(),i=this.sortAscending();return[...t].sort((o,r)=>{let s=o[e],c=r[e];if(typeof s=="number"&&typeof c=="number")return i?s-c:c-s;let p=String(s),m=String(c);return i?p.localeCompare(m):m.localeCompare(p)})});selectedProcess=G(()=>{let t=this.selectedPid();return t?this.processes().find(e=>e.pid===t):null});totalCpu=G(()=>this.processes().reduce((t,e)=>t+e.cpu,0));totalMemory=G(()=>this.processes().reduce((t,e)=>t+e.memory,0));processCount=G(()=>this.processes().length);ngOnInit(){this.autoRefresh()&&this.startAutoRefresh()}ngOnDestroy(){this.stopAutoRefresh()}startAutoRefresh(){this.stopAutoRefresh(),this.intervalId=window.setInterval(()=>{this.updateProcessStats()},2e3)}stopAutoRefresh(){this.intervalId&&(clearInterval(this.intervalId),this.intervalId=void 0)}toggleAutoRefresh(){this.autoRefresh.update(t=>!t),this.autoRefresh()?this.startAutoRefresh():this.stopAutoRefresh()}updateProcessStats(){this.processes.update(t=>t.map(e=>I(C({},e),{cpu:Math.max(0,e.cpu+(Math.random()-.5)*2),memory:Math.max(0,e.memory+(Math.random()-.5)*5),uptime:e.uptime+2})))}selectProcess(t){this.selectedPid.set(t)}sort(t){this.sortColumn()===t?this.sortAscending.update(e=>!e):(this.sortColumn.set(t),this.sortAscending.set(!0))}setFilter(t){this.filterType.set(t)}killProcess(){let t=this.selectedPid();if(!t)return;let e=this.processes().find(i=>i.pid===t);if(e){if(e.type==="system"&&e.pid<100){alert("Cannot kill critical system processes");return}this.processes.update(i=>i.filter(o=>o.pid!==t)),this.selectedPid.set(null)}}addMockProcess(){let t=["system","application","script"],e=["backup.sh","update-checker","network-monitor","log-analyzer","data-sync"],i={pid:this.nextPid++,name:e[Math.floor(Math.random()*e.length)],type:t[Math.floor(Math.random()*t.length)],status:"running",cpu:Math.random()*5,memory:Math.random()*100,uptime:0,user:"user"};this.processes.update(o=>[...o,i])}formatUptime(t){let e=Math.floor(t/3600),i=Math.floor(t%3600/60),o=t%60;return e>0?`${e}h ${i}m`:i>0?`${i}m ${o}s`:`${o}s`}formatMemory(t){return`${t.toFixed(1)} MB`}formatCpu(t){return`${t.toFixed(1)}%`}getSortIcon(t){return this.sortColumn()!==t?"":this.sortAscending()?"\u25B2":"\u25BC"}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=X({type:n,selectors:[["app-task-manager"]],decls:59,vars:23,consts:[[1,"task-manager"],[1,"header"],[1,"stats"],[1,"stat"],[1,"controls"],[3,"click"],[1,"filters"],[1,"content"],[1,"process-list"],[3,"selected"],[1,"process-details"],[1,"type-badge"],[1,"status-badge"],[1,"details-grid"],[1,"detail-row"],[1,"actions"],[1,"kill-button",3,"click"]],template:function(e,i){e&1&&(u(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"label"),l(5,"Processes:"),d(),u(6,"span"),l(7),d()(),u(8,"div",3)(9,"label"),l(10,"CPU:"),d(),u(11,"span"),l(12),d()(),u(13,"div",3)(14,"label"),l(15,"Memory:"),d(),u(16,"span"),l(17),d()()(),u(18,"div",4)(19,"button",5),T("click",function(){return i.toggleAutoRefresh()}),l(20),d(),u(21,"button",5),T("click",function(){return i.updateProcessStats()}),l(22,"Refresh Now"),d(),u(23,"button",5),T("click",function(){return i.addMockProcess()}),l(24,"Add Process"),d()()(),u(25,"div",6)(26,"button",5),T("click",function(){return i.setFilter("all")}),l(27," All "),d(),u(28,"button",5),T("click",function(){return i.setFilter("system")}),l(29," System "),d(),u(30,"button",5),T("click",function(){return i.setFilter("application")}),l(31," Applications "),d(),u(32,"button",5),T("click",function(){return i.setFilter("script")}),l(33," Scripts "),d()(),u(34,"div",7)(35,"div",8)(36,"table")(37,"thead")(38,"tr")(39,"th",5),T("click",function(){return i.sort("pid")}),l(40),d(),u(41,"th",5),T("click",function(){return i.sort("name")}),l(42),d(),u(43,"th",5),T("click",function(){return i.sort("type")}),l(44),d(),u(45,"th",5),T("click",function(){return i.sort("status")}),l(46),d(),u(47,"th",5),T("click",function(){return i.sort("cpu")}),l(48),d(),u(49,"th",5),T("click",function(){return i.sort("memory")}),l(50),d(),u(51,"th",5),T("click",function(){return i.sort("uptime")}),l(52),d(),u(53,"th",5),T("click",function(){return i.sort("user")}),l(54),d()()(),u(55,"tbody"),B(56,xm,19,12,"tr",9,bm),d()()(),y(58,ym,47,8,"div",10),d()()),e&2&&(a(7),x(i.processCount()),a(5),x(i.formatCpu(i.totalCpu())),a(5),x(i.formatMemory(i.totalMemory())),a(2),V("active",i.autoRefresh()),a(),S(" ",i.autoRefresh()?"Auto-Refresh: ON":"Auto-Refresh: OFF"," "),a(6),V("active",i.filterType()==="all"),a(2),V("active",i.filterType()==="system"),a(2),V("active",i.filterType()==="application"),a(2),V("active",i.filterType()==="script"),a(8),S("PID ",i.getSortIcon("pid")),a(2),S("Name ",i.getSortIcon("name")),a(2),S("Type ",i.getSortIcon("type")),a(2),S("Status ",i.getSortIcon("status")),a(2),S("CPU ",i.getSortIcon("cpu")),a(2),S("Memory ",i.getSortIcon("memory")),a(2),S("Uptime ",i.getSortIcon("uptime")),a(2),S("User ",i.getSortIcon("user")),a(2),W(i.filteredProcesses()),a(2),M(i.selectedProcess()?58:-1))},dependencies:[ee,ft],styles:[".task-manager[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;background:#2c2c2c;color:#e0e0e0;font-family:Ubuntu Mono,monospace}.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:12px;background:#3c3c3c;border-bottom:1px solid #555}.stats[_ngcontent-%COMP%]{display:flex;gap:24px}.stat[_ngcontent-%COMP%]{display:flex;gap:8px;font-size:14px}.stat[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#999}.stat[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#fff;font-weight:700}.controls[_ngcontent-%COMP%]{display:flex;gap:8px}.controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:6px 12px;background:#555;color:#e0e0e0;border:1px solid #666;border-radius:4px;cursor:pointer;font-size:12px}.controls[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#666}.controls[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background:#5e2750;border-color:#772953}.filters[_ngcontent-%COMP%]{display:flex;gap:8px;padding:8px 12px;background:#333;border-bottom:1px solid #555}.filters[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:6px 16px;background:#444;color:#e0e0e0;border:1px solid #555;border-radius:4px;cursor:pointer;font-size:12px}.filters[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background:#555}.filters[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{background:#5e2750;border-color:#772953;color:#fff}.content[_ngcontent-%COMP%]{display:flex;flex:1;overflow:hidden}.process-list[_ngcontent-%COMP%]{flex:1;overflow:auto}.process-list[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.process-list[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .process-list[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:8px 12px;text-align:left;border-bottom:1px solid #444;font-size:13px}.process-list[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background:#3c3c3c;color:#e0e0e0;font-weight:700;position:sticky;top:0;cursor:pointer;-webkit-user-select:none;user-select:none}.process-list[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:hover{background:#4c4c4c}.process-list[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{cursor:pointer}.process-list[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background:#3a3a3a}.process-list[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.selected[_ngcontent-%COMP%]{background:#5e2750}.type-badge[_ngcontent-%COMP%]{padding:2px 8px;border-radius:3px;font-size:11px;font-weight:700;text-transform:uppercase}.type-badge[data-type=system][_ngcontent-%COMP%]{background:#2e5090;color:#fff}.type-badge[data-type=application][_ngcontent-%COMP%]{background:#2e9050;color:#fff}.type-badge[data-type=script][_ngcontent-%COMP%]{background:#907020;color:#fff}.status-badge[_ngcontent-%COMP%]{padding:2px 8px;border-radius:3px;font-size:11px;font-weight:700;text-transform:uppercase}.status-badge[data-status=running][_ngcontent-%COMP%]{background:#2e9050;color:#fff}.status-badge[data-status=sleeping][_ngcontent-%COMP%]{background:#907020;color:#fff}.status-badge[data-status=stopped][_ngcontent-%COMP%]{background:#902e2e;color:#fff}.process-details[_ngcontent-%COMP%]{width:300px;padding:16px;background:#333;border-left:1px solid #555;overflow:auto}.process-details[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 16px;font-size:16px;color:#fff}.details-grid[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px}.detail-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;font-size:13px}.detail-row[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#999;font-weight:700}.detail-row[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#e0e0e0}.actions[_ngcontent-%COMP%]{margin-top:24px;display:flex;gap:8px}.kill-button[_ngcontent-%COMP%]{flex:1;padding:10px;background:#902e2e;color:#fff;border:1px solid #a03030;border-radius:4px;cursor:pointer;font-size:13px;font-weight:700}.kill-button[_ngcontent-%COMP%]:hover{background:#a03030}"]})};var Rc=(n,t)=>t.id,Mm=(n,t)=>t.name,wm=(n,t)=>t.stat;function Em(n,t){if(n&1&&(u(0,"div",26)(1,"span",34),l(2),d(),u(3,"span",35),l(4),d()()),n&2){let e=t.$implicit,i=g(2);a(2),S("",i.formatStatName(e.stat),":"),a(2),x(i.formatEffectValue(e))}}function Om(n,t){if(n&1&&(u(0,"div",36),l(1),d()),n&2){let e=g(2).$implicit;a(),S(" Requires Level ",e.requirements.level," ")}}function Pm(n,t){if(n&1&&(u(0,"div",36),l(1),d()),n&2){let e=t.$implicit,i=g(4);a(),De(" Requires ",i.getUpgradeName(e.id)," Level ",e.minLevel," ")}}function Sm(n,t){if(n&1&&B(0,Pm,2,2,"div",36,Rc),n&2){let e=g(2).$implicit;W(e.requirements.otherUpgrades)}}function km(n,t){if(n&1&&(u(0,"div",27),y(1,Om,2,1,"div",36),y(2,Sm,2,0),d()),n&2){let e=g().$implicit;a(),M(e.requirements.level?1:-1),a(),M(e.requirements.otherUpgrades?2:-1)}}function Tm(n,t){if(n&1&&(u(0,"button",30),l(1),d()),n&2){let e=g().$implicit;a(),S(" ",e.lockReason," ")}}function Im(n,t){n&1&&(u(0,"button",31),l(1," Max Level "),d())}function Rm(n,t){n&1&&(u(0,"button",32),l(1," Insufficient Funds "),d())}function Am(n,t){if(n&1){let e=U();u(0,"button",37),T("click",function(){E(e);let o=g().$implicit,r=g();return O(r.purchaseUpgrade(o.id))}),l(1," Upgrade "),d()}}function Dm(n,t){if(n&1&&(u(0,"div",16)(1,"div",17)(2,"h3",18),l(3),d(),u(4,"span",19),l(5),d()(),u(6,"p",20),l(7),d(),u(8,"div",21)(9,"span",4),l(10,"Level:"),d(),u(11,"span",22),l(12),d(),u(13,"div",23),ge(14,"div",24),d()(),u(15,"div",25),B(16,Em,5,2,"div",26,wm),d(),y(18,km,3,2,"div",27),u(19,"div",28)(20,"div",29),l(21),oo(22,"number"),d(),y(23,Tm,2,1,"button",30)(24,Im,2,0,"button",31)(25,Rm,2,0,"button",32)(26,Am,2,0,"button",33),d()()),n&2){let e=t.$implicit,i=g();V("locked",e.locked),a(3),x(e.name),a(),ce("background-color",i.getCategoryColor(e.category)),a(),S(" ",e.category," "),a(2),x(e.description),a(5),De("",e.currentLevel," / ",e.maxLevel),a(2),ce("width",e.currentLevel/e.maxLevel*100,"%"),a(2),W(e.effects),a(2),M(e.requirements?18:-1),a(2),V("insufficient",!e.canAfford&&!e.locked),a(),S(" ",ro(22,16,e.cost)," credits "),a(2),M(e.locked?23:e.currentLevel>=e.maxLevel?24:e.canAfford?26:25)}}function Nm(n,t){if(n&1){let e=U();u(0,"button",40),T("click",function(){E(e);let o=g(2);return O(o.setCategory("all"))}),l(1,"View All Items"),d()}}function jm(n,t){if(n&1&&(u(0,"div",12)(1,"div",38),l(2,"\u{1F6D2}"),d(),u(3,"h3"),l(4,"No items available"),d(),u(5,"p"),l(6),d(),y(7,Nm,2,0,"button",39),d()),n&2){let e=g();a(6),S("No upgrades found in the ",e.selectedCategory()," category"),a(),M(e.selectedCategory()!=="all"?7:-1)}}function Lm(n,t){if(n&1&&(u(0,"div",15)(1,"span",41),l(2),d(),u(3,"span",42),l(4),d()()),n&2){let e=t.$implicit;a(2),S("",e.name,":"),a(2),x(e.value)}}var In=class n{shopService=_(ks);economyService=_(ws);missionService=_(Wn);selectedCategory=w("all");balance=G(()=>this.economyService.getBalance());playerLevel=G(()=>this.missionService.getPlayerLevel());allItems=G(()=>this.shopService.getShopItems());filteredItems=G(()=>{let t=this.selectedCategory();return t==="all"?this.allItems():this.allItems().filter(e=>e.category===t)});setCategory(t){this.selectedCategory.set(t)}purchaseUpgrade(t){this.shopService.purchaseUpgrade(t)}getCategoryColor(t){switch(t){case"hardware":return"#2e5090";case"software":return"#902e2e";case"tools":return"#2e9050";default:return"#555"}}formatStatName(t){return t.replace(/([A-Z])/g," $1").replace(/^./,e=>e.toUpperCase()).trim()}formatEffectValue(t){let e=t.modifier;switch(t.type){case"multiplicative":return`+${(e*100).toFixed(0)}%`;case"additive":return`+${e.toFixed(0)}`;case"absolute":return`${e.toFixed(0)}`;default:return e.toString()}}getUpgradeName(t){return this.shopService.getUpgrade(t)?.name||"Unknown"}getPlayerStatsDisplay(){let t=this.shopService.getPlayerStats();return[{name:"Hacking Speed",value:`${(t.hackingSpeed*100).toFixed(0)}%`},{name:"Script Capacity",value:`${(t.scriptCapacity*100).toFixed(0)}%`},{name:"Transfer Speed",value:`${(t.transferSpeed*100).toFixed(0)}%`},{name:"Storage",value:`${t.storageCapacity.toFixed(0)}GB`},{name:"Trace Resistance",value:`${(t.traceResistance*100).toFixed(0)}%`},{name:"Data Security",value:`${(t.dataSecurity*100).toFixed(0)}%`},{name:"Trace Reduction",value:`${(t.traceReduction*100).toFixed(0)}%`},{name:"Scan Speed",value:`${(t.scanSpeed*100).toFixed(0)}%`},{name:"Scan Depth",value:`${t.scanDepth.toFixed(0)}`},{name:"Crack Speed",value:`${(t.crackSpeed*100).toFixed(0)}%`},{name:"Exploit Power",value:`${(t.exploitPower*100).toFixed(0)}%`},{name:"Detection Reduction",value:`${(t.detectionReduction*100).toFixed(0)}%`},{name:"Backdoor Duration",value:`${(t.backdoorDuration*100).toFixed(0)}%`}]}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=X({type:n,selectors:[["app-shop"]],decls:36,vars:13,consts:[[1,"shop-container"],[1,"shop-header"],[1,"player-info"],[1,"balance"],[1,"label"],[1,"value"],[1,"stats"],[1,"shop-content"],[1,"category-sidebar"],[1,"category-btn",3,"click"],[1,"items-grid"],[1,"shop-item",3,"locked"],[1,"no-items"],[1,"stats-panel"],[1,"stat-list"],[1,"stat-row"],[1,"shop-item"],[1,"item-header"],[1,"item-name"],[1,"item-category"],[1,"item-description"],[1,"item-level"],[1,"level-display"],[1,"level-bar"],[1,"level-progress"],[1,"item-effects"],[1,"effect"],[1,"requirements"],[1,"item-footer"],[1,"cost"],["disabled","",1,"purchase-btn","locked"],["disabled","",1,"purchase-btn","max-level"],["disabled","",1,"purchase-btn","insufficient"],[1,"purchase-btn"],[1,"effect-stat"],[1,"effect-value"],[1,"requirement"],[1,"purchase-btn",3,"click"],[1,"empty-icon"],[1,"cta-button"],[1,"cta-button",3,"click"],[1,"stat-name"],[1,"stat-value"]],template:function(e,i){e&1&&(u(0,"div",0)(1,"div",1)(2,"h2"),l(3,"Upgrade Shop"),d(),u(4,"div",2)(5,"div",3)(6,"span",4),l(7,"Credits:"),d(),u(8,"span",5),l(9),oo(10,"number"),d()(),u(11,"div",6)(12,"span",4),l(13,"Level:"),d(),u(14,"span",5),l(15),d()()()(),u(16,"div",7)(17,"aside",8)(18,"button",9),T("click",function(){return i.setCategory("all")}),l(19," All Items "),d(),u(20,"button",9),T("click",function(){return i.setCategory("hardware")}),l(21," Hardware "),d(),u(22,"button",9),T("click",function(){return i.setCategory("software")}),l(23," Software "),d(),u(24,"button",9),T("click",function(){return i.setCategory("tools")}),l(25," Tools "),d()(),u(26,"main",10),B(27,Dm,27,18,"div",11,Rc),y(29,jm,8,2,"div",12),d(),u(30,"aside",13)(31,"h3"),l(32,"Player Stats"),d(),u(33,"div",14),B(34,Lm,5,2,"div",15,Mm),d()()()()),e&2&&(a(9),x(ro(10,11,i.balance())),a(6),x(i.playerLevel()),a(3),V("active",i.selectedCategory()==="all"),a(2),V("active",i.selectedCategory()==="hardware"),a(2),V("active",i.selectedCategory()==="software"),a(2),V("active",i.selectedCategory()==="tools"),a(3),W(i.filteredItems()),a(2),M(i.filteredItems().length===0?29:-1),a(5),W(i.getPlayerStatsDisplay()))},dependencies:[ee,ms],styles:[".shop-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;background-color:#1e1e1e;color:#d4d4d4;padding:1rem;overflow:hidden}.shop-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding-bottom:1rem;border-bottom:1px solid #3e3e3e;margin-bottom:1rem}.shop-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:1.5rem;color:#f0f0f0}.shop-header[_ngcontent-%COMP%]   .player-info[_ngcontent-%COMP%]{display:flex;gap:2rem}.shop-header[_ngcontent-%COMP%]   .player-info[_ngcontent-%COMP%]   .balance[_ngcontent-%COMP%], .shop-header[_ngcontent-%COMP%]   .player-info[_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.shop-header[_ngcontent-%COMP%]   .player-info[_ngcontent-%COMP%]   .balance[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%], .shop-header[_ngcontent-%COMP%]   .player-info[_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{color:#888;font-size:.9rem}.shop-header[_ngcontent-%COMP%]   .player-info[_ngcontent-%COMP%]   .balance[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%], .shop-header[_ngcontent-%COMP%]   .player-info[_ngcontent-%COMP%]   .stats[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{color:#4ec9b0;font-size:1.1rem;font-weight:600}.shop-content[_ngcontent-%COMP%]{display:flex;gap:1rem;flex:1;overflow:hidden}.category-sidebar[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem;min-width:150px}.category-sidebar[_ngcontent-%COMP%]   .category-btn[_ngcontent-%COMP%]{padding:.75rem 1rem;background-color:#2d2d2d;color:#d4d4d4;border:1px solid #3e3e3e;border-radius:4px;cursor:pointer;text-align:left;font-size:.95rem;transition:all .2s}.category-sidebar[_ngcontent-%COMP%]   .category-btn[_ngcontent-%COMP%]:hover{background-color:#3e3e3e;border-color:#569cd6}.category-sidebar[_ngcontent-%COMP%]   .category-btn.active[_ngcontent-%COMP%]{background-color:#0e639c;border-color:#569cd6;color:#fff}.items-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(320px,1fr));gap:1rem;overflow-y:auto;flex:1;padding:.5rem}.shop-item[_ngcontent-%COMP%]{background-color:#252526;border:1px solid #3e3e3e;border-radius:8px;padding:1rem;display:flex;flex-direction:column;gap:.75rem;transition:all .2s}.shop-item[_ngcontent-%COMP%]:hover:not(.locked){border-color:#569cd6;box-shadow:0 2px 8px #0000004d}.shop-item.locked[_ngcontent-%COMP%]{opacity:.6;background-color:#1e1e1e}.shop-item[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;gap:.5rem}.shop-item[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]   .item-name[_ngcontent-%COMP%]{margin:0;font-size:1.1rem;color:#4ec9b0}.shop-item[_ngcontent-%COMP%]   .item-header[_ngcontent-%COMP%]   .item-category[_ngcontent-%COMP%]{padding:.25rem .5rem;border-radius:4px;font-size:.75rem;text-transform:uppercase;color:#fff}.shop-item[_ngcontent-%COMP%]   .item-description[_ngcontent-%COMP%]{margin:0;font-size:.9rem;color:#999;line-height:1.4}.shop-item[_ngcontent-%COMP%]   .item-level[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-size:.85rem;color:#888;margin-right:.5rem}.shop-item[_ngcontent-%COMP%]   .item-level[_ngcontent-%COMP%]   .level-display[_ngcontent-%COMP%]{font-size:.9rem;color:#d4d4d4}.shop-item[_ngcontent-%COMP%]   .item-level[_ngcontent-%COMP%]   .level-bar[_ngcontent-%COMP%]{margin-top:.25rem;height:6px;background-color:#3e3e3e;border-radius:3px;overflow:hidden}.shop-item[_ngcontent-%COMP%]   .item-level[_ngcontent-%COMP%]   .level-bar[_ngcontent-%COMP%]   .level-progress[_ngcontent-%COMP%]{height:100%;background:linear-gradient(90deg,#0e639c,#4ec9b0);transition:width .3s}.shop-item[_ngcontent-%COMP%]   .item-effects[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem;padding:.5rem;background-color:#1e1e1e;border-radius:4px}.shop-item[_ngcontent-%COMP%]   .item-effects[_ngcontent-%COMP%]   .effect[_ngcontent-%COMP%]{display:flex;justify-content:space-between;font-size:.85rem}.shop-item[_ngcontent-%COMP%]   .item-effects[_ngcontent-%COMP%]   .effect[_ngcontent-%COMP%]   .effect-stat[_ngcontent-%COMP%]{color:#888}.shop-item[_ngcontent-%COMP%]   .item-effects[_ngcontent-%COMP%]   .effect[_ngcontent-%COMP%]   .effect-value[_ngcontent-%COMP%]{color:#4ec9b0;font-weight:600}.shop-item[_ngcontent-%COMP%]   .requirements[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem;padding:.5rem;background-color:#3e2e1e;border-radius:4px;border:1px solid #d7ba7d}.shop-item[_ngcontent-%COMP%]   .requirements[_ngcontent-%COMP%]   .requirement[_ngcontent-%COMP%]{font-size:.8rem;color:#d7ba7d}.shop-item[_ngcontent-%COMP%]   .item-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-top:auto;padding-top:.5rem;border-top:1px solid #3e3e3e}.shop-item[_ngcontent-%COMP%]   .item-footer[_ngcontent-%COMP%]   .cost[_ngcontent-%COMP%]{font-size:1rem;color:#4ec9b0;font-weight:600}.shop-item[_ngcontent-%COMP%]   .item-footer[_ngcontent-%COMP%]   .cost.insufficient[_ngcontent-%COMP%]{color:#f48771}.shop-item[_ngcontent-%COMP%]   .item-footer[_ngcontent-%COMP%]   .purchase-btn[_ngcontent-%COMP%]{padding:.5rem 1rem;background-color:#0e639c;color:#fff;border:none;border-radius:4px;cursor:pointer;font-size:.9rem;font-weight:600;transition:all .2s}.shop-item[_ngcontent-%COMP%]   .item-footer[_ngcontent-%COMP%]   .purchase-btn[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#17b}.shop-item[_ngcontent-%COMP%]   .item-footer[_ngcontent-%COMP%]   .purchase-btn[_ngcontent-%COMP%]:disabled{cursor:not-allowed;opacity:.5}.shop-item[_ngcontent-%COMP%]   .item-footer[_ngcontent-%COMP%]   .purchase-btn.locked[_ngcontent-%COMP%], .shop-item[_ngcontent-%COMP%]   .item-footer[_ngcontent-%COMP%]   .purchase-btn.max-level[_ngcontent-%COMP%], .shop-item[_ngcontent-%COMP%]   .item-footer[_ngcontent-%COMP%]   .purchase-btn.insufficient[_ngcontent-%COMP%]{background-color:#555}.no-items[_ngcontent-%COMP%]{grid-column:1/-1;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:16px;padding:3rem;color:#888}.no-items[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]{font-size:4rem;opacity:.6}.no-items[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.25rem;color:#999}.no-items[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:1rem;color:#666}.no-items[_ngcontent-%COMP%]   .cta-button[_ngcontent-%COMP%]{margin-top:8px;padding:10px 20px;background-color:#0e639c;color:#fff;border:none;border-radius:4px;cursor:pointer;font-size:.95rem;font-weight:600;transition:all .2s}.no-items[_ngcontent-%COMP%]   .cta-button[_ngcontent-%COMP%]:hover{background-color:#17b;transform:scale(1.05)}.no-items[_ngcontent-%COMP%]   .cta-button[_ngcontent-%COMP%]:active{transform:scale(.98)}.stats-panel[_ngcontent-%COMP%]{width:180px;flex-shrink:0;background-color:#252526;border:1px solid #3e3e3e;border-radius:8px;padding:.75rem;overflow-y:auto}.stats-panel[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 .75rem;font-size:.95rem;color:#f0f0f0;border-bottom:1px solid #3e3e3e;padding-bottom:.5rem}.stats-panel[_ngcontent-%COMP%]   .stat-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.stats-panel[_ngcontent-%COMP%]   .stat-list[_ngcontent-%COMP%]   .stat-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.stats-panel[_ngcontent-%COMP%]   .stat-list[_ngcontent-%COMP%]   .stat-row[_ngcontent-%COMP%]   .stat-name[_ngcontent-%COMP%]{font-size:.75rem;color:#888}.stats-panel[_ngcontent-%COMP%]   .stat-list[_ngcontent-%COMP%]   .stat-row[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{font-size:.8rem;color:#4ec9b0;font-weight:600}"]})};var $i=class n{constructor(t){this.storage=t;this.loadProgress()}achievements=w([{id:"first_login",title:"Welcome Aboard",description:"Successfully log in to WebOS for the first time",icon:"\u{1F389}",points:10,unlocked:!1,category:"basics"},{id:"open_terminal",title:"Command Line Hero",description:"Open the terminal application",icon:"\u{1F4BB}",points:10,unlocked:!1,category:"basics"},{id:"run_first_command",title:"First Command",description:"Execute your first terminal command",icon:"\u26A1",points:15,unlocked:!1,category:"basics",prerequisite:["open_terminal"]},{id:"open_file_manager",title:"File Explorer",description:"Open the file manager",icon:"\u{1F4C1}",points:10,unlocked:!1,category:"basics"},{id:"create_first_file",title:"Content Creator",description:"Create your first file",icon:"\u{1F4DD}",points:15,unlocked:!1,category:"basics"},{id:"first_scan",title:"Network Scanner",description:"Successfully scan a network",icon:"\u{1F50D}",points:20,unlocked:!1,category:"exploration"},{id:"first_hack",title:"Script Kiddie",description:"Successfully hack your first target",icon:"\u{1F513}",points:30,unlocked:!1,category:"hacking",prerequisite:["first_scan"]},{id:"complete_tutorial",title:"Graduate",description:"Complete all tutorial sections",icon:"\u{1F393}",points:50,unlocked:!1,category:"basics"},{id:"earn_1000",title:"Moneymaker",description:"Earn 1,000 credits",icon:"\u{1F4B0}",points:25,unlocked:!1,category:"economy"},{id:"first_script",title:"Automation Rookie",description:"Write and execute your first script",icon:"\u{1F916}",points:30,unlocked:!1,category:"advanced"},{id:"complete_mission",title:"Mission Accomplished",description:"Complete your first mission",icon:"\u2705",points:40,unlocked:!1,category:"advanced"},{id:"master_hacker",title:"Master Hacker",description:"Successfully hack 10 targets",icon:"\u{1F451}",points:100,unlocked:!1,category:"hacking",prerequisite:["first_hack"]}]);milestones=w([{id:"commands_executed",title:"Command Execution",description:"Total commands executed",progress:0,target:100},{id:"files_created",title:"File Creation",description:"Files created",progress:0,target:50},{id:"networks_scanned",title:"Network Scanning",description:"Networks scanned",progress:0,target:20},{id:"credits_earned",title:"Wealth Accumulation",description:"Total credits earned",progress:0,target:1e4,reward:{type:"unlock",value:"premium_tools"}}]);skills=w([{id:"hack_speed",name:"Fast Cracking",description:"Increase hacking speed by 10% per level",icon:"\u26A1",level:0,maxLevel:5,cost:100,category:"hacking",effect:{type:"hack_speed_multiplier",value:.1}},{id:"trace_resistance",name:"Trace Evasion",description:"Increase trace resistance by 15% per level",icon:"\u{1F6E1}\uFE0F",level:0,maxLevel:5,cost:150,category:"stealth",effect:{type:"trace_resistance_multiplier",value:.15}},{id:"income_boost",name:"Negotiator",description:"Increase mission rewards by 20% per level",icon:"\u{1F4BC}",level:0,maxLevel:3,cost:200,category:"economy",effect:{type:"income_multiplier",value:.2}},{id:"scan_depth",name:"Deep Scanner",description:"Reveal more information when scanning",icon:"\u{1F52C}",level:0,maxLevel:3,cost:120,category:"hacking",prerequisite:["hack_speed"],effect:{type:"scan_detail_level",value:1}},{id:"auto_scripts",name:"Script Master",description:"Unlock advanced scripting features",icon:"\u{1F9D9}",level:0,maxLevel:3,cost:250,category:"automation",prerequisite:["hack_speed"],effect:{type:"script_features_unlocked",value:1}}]);totalPoints=w(0);unlockAchievement(t){return ie(this,null,function*(){let e=this.achievements().find(i=>i.id===t);return!e||e.unlocked||e.prerequisite&&!e.prerequisite.every(o=>this.achievements().find(r=>r.id===o)?.unlocked)?!1:(this.achievements.update(i=>i.map(o=>o.id===t?(this.totalPoints.update(r=>r+o.points),I(C({},o),{unlocked:!0,unlockedAt:Date.now()})):o)),yield this.saveProgress(),!0)})}updateMilestone(t,e){this.milestones.update(i=>i.map(o=>o.id===t?I(C({},o),{progress:Math.min(e,o.target)}):o)),this.saveProgress()}incrementMilestone(t,e=1){let i=this.milestones().find(o=>o.id===t);i&&this.updateMilestone(t,i.progress+e)}upgradeSkill(t){let e=this.skills().find(i=>i.id===t);return!e||e.level>=e.maxLevel||e.prerequisite&&!e.prerequisite.every(o=>{let r=this.skills().find(s=>s.id===o);return r&&r.level>0})?!1:(this.skills.update(i=>i.map(o=>o.id===t?I(C({},o),{level:o.level+1}):o)),this.saveProgress(),!0)}getSkillEffect(t){let e=this.skills().find(i=>i.id===t);return e?e.level*e.effect.value:0}loadProgress(){return ie(this,null,function*(){try{let t=yield this.storage.get("webos.achievements");t&&(this.achievements.set(t.achievements),this.milestones.set(t.milestones),this.skills.set(t.skills),this.totalPoints.set(t.totalPoints))}catch(t){console.error("Failed to load achievement progress:",t)}})}saveProgress(){return ie(this,null,function*(){try{yield this.storage.set("webos.achievements",{achievements:this.achievements(),milestones:this.milestones(),skills:this.skills(),totalPoints:this.totalPoints()})}catch(t){console.error("Failed to save achievement progress:",t)}})}reset(){this.achievements.update(t=>t.map(e=>I(C({},e),{unlocked:!1,unlockedAt:void 0}))),this.milestones.update(t=>t.map(e=>I(C({},e),{progress:0}))),this.skills.update(t=>t.map(e=>I(C({},e),{level:0}))),this.totalPoints.set(0),this.saveProgress()}static \u0275fac=function(e){return new(e||n)(P(Es))};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})};var Nt=(n,t)=>t.id;function zm(n,t){n&1&&(u(0,"span",24),l(1,"\u2713"),d())}function Um(n,t){if(n&1&&(u(0,"span",25),l(1),d()),n&2){let e=g().$index;a(),x(e+1)}}function $m(n,t){if(n&1){let e=U();u(0,"li",22),T("click",function(){let o=E(e).$index,r=g(4);return O(r.goToStep(o))}),u(1,"span",23),y(2,zm,2,0,"span",24)(3,Um,2,1,"span",25),d(),u(4,"span",26),l(5),d()()}if(n&2){let e=t.$implicit,i=t.$index,o=g(4);V("active",i===o.currentStepIndex())("completed",e.completed),a(2),M(e.completed?2:3),a(3),x(e.title)}}function Vm(n,t){if(n&1&&(u(0,"ul",20),B(1,$m,6,6,"li",21,Nt),d()),n&2){let e=g().$implicit;a(),W(e.steps)}}function Hm(n,t){if(n&1){let e=U();u(0,"div",16)(1,"button",17),T("click",function(){let o=E(e).$index,r=g(2);return O(r.goToSection(o))}),u(2,"span",18),l(3),d(),u(4,"span",19),l(5),d()(),y(6,Vm,3,0,"ul",20),d()}if(n&2){let e=t.$implicit,i=t.$index,o=g(2);V("active",i===o.currentSectionIndex()),a(3),x(e.name),a(2),S("",o.getSectionProgress(i),"%"),a(),M(i===o.currentSectionIndex()?6:-1)}}function Bm(n,t){if(n&1){let e=U();u(0,"div",10),ge(1,"div",11),d(),u(2,"span",12),l(3),d(),u(4,"nav",13),B(5,Hm,7,5,"div",14,Nt),d(),u(7,"button",15),T("click",function(){E(e);let o=g();return O(o.resetProgress())}),l(8," Reset Progress "),d()}if(n&2){let e=g();a(),ce("width",e.progress(),"%"),a(2),S("",e.progress(),"% Complete"),a(2),W(e.sections())}}function Wm(n,t){if(n&1&&(u(0,"div",5)(1,"div",27)(2,"span",28),l(3,"\u2B50"),d(),u(4,"span",29),l(5),d()()()),n&2){let e=g();a(5),S("",e.totalPoints()," Points")}}function qm(n,t){n&1&&(u(0,"div",6)(1,"div",27)(2,"span",28),l(3,"\u{1F48E}"),d(),u(4,"span",29),l(5,"Skill Points Available"),d()()())}function Gm(n,t){if(n&1){let e=U();u(0,"div",30)(1,"div",32),l(2,"\u{1F389}"),d(),u(3,"h3"),l(4,"Tutorial Complete!"),d(),u(5,"p"),l(6,"Congratulations! You've completed all tutorial steps. You're ready to explore WebOS on your own."),d(),u(7,"button",33),T("click",function(){E(e);let o=g(2);return O(o.resetProgress())}),l(8,"Restart Tutorial"),d()()}}function Km(n,t){if(n&1&&(u(0,"div",35)(1,"strong"),l(2,"Action:"),d(),l(3),d()),n&2){let e=g(3);a(3),S(" ",e.currentStep().action," ")}}function Ym(n,t){if(n&1&&(u(0,"li"),l(1),d()),n&2){let e=t.$implicit;a(),x(e)}}function Zm(n,t){if(n&1&&(u(0,"ul",42),B(1,Ym,2,1,"li",null,$e),d()),n&2){let e=g(4);a(),W(e.currentStep().hints)}}function Xm(n,t){if(n&1){let e=U();u(0,"div",36)(1,"button",41),T("click",function(){E(e);let o=g(3);return O(o.toggleHints())}),l(2),d(),y(3,Zm,3,0,"ul",42),d()}if(n&2){let e=g(3);a(2),S(" ",e.showHints()?"Hide":"Show"," Hints "),a(),M(e.showHints()?3:-1)}}function Qm(n,t){if(n&1){let e=U();u(0,"div",31)(1,"h1"),l(2),d(),u(3,"p",34),l(4),d(),y(5,Km,4,1,"div",35),y(6,Xm,4,2,"div",36),u(7,"div",37)(8,"button",38),T("click",function(){E(e);let o=g(2);return O(o.previousStep())}),l(9," Previous "),d(),u(10,"div",39),l(11),d(),u(12,"button",40),T("click",function(){E(e);let o=g(2);return O(o.nextStep())}),l(13," Next "),d()()()}if(n&2){let e=g(2);a(2),x(e.currentStep().title),a(2),x(e.currentStep().description),a(),M(e.currentStep().action?5:-1),a(),M(e.currentStep().hints&&e.currentStep().hints.length>0?6:-1),a(2),Ae("disabled",!e.canGoPrevious()),a(3),De(" Step ",e.currentStepIndex()+1," of ",e.currentSection().steps.length," "),a(),Ae("disabled",!e.canGoNext())}}function Jm(n,t){if(n&1&&y(0,Gm,9,0,"div",30)(1,Qm,14,8,"div",31),n&2){let e=g();M(e.progress()===100?0:1)}}function eg(n,t){if(n&1&&(u(0,"div",51),l(1),d()),n&2){let e=g().$implicit;a(),S(" Reward: ",e.reward.type==="credits"?e.reward.value+" credits":"Unlock "+e.reward.value," ")}}function tg(n,t){if(n&1&&(u(0,"div",44)(1,"div",49)(2,"h3"),l(3),d(),u(4,"span",50),l(5),d()(),u(6,"p"),l(7),d(),u(8,"div",10),ge(9,"div",11),d(),y(10,eg,2,1,"div",51),d()),n&2){let e=t.$implicit,i=g(2);a(3),x(e.title),a(2),De("",e.progress,"/",e.target),a(2),x(e.description),a(2),ce("width",i.getMilestonePercentage(e),"%"),a(),M(e.reward?10:-1)}}function ng(n,t){if(n&1&&(u(0,"div",47)(1,"span",52),l(2),d(),u(3,"div",53)(4,"h3"),l(5),d(),u(6,"p"),l(7),d(),u(8,"span",54),l(9),d()()()),n&2){let e=t.$implicit;a(2),x(e.icon),a(3),x(e.title),a(2),x(e.description),a(2),S("+",e.points," pts")}}function ig(n,t){if(n&1&&(u(0,"div",48)(1,"span",52),l(2,"\u{1F512}"),d(),u(3,"div",53)(4,"h3"),l(5),d(),u(6,"p"),l(7),d(),u(8,"span",54),l(9),d()()()),n&2){let e=t.$implicit;a(5),x(e.title),a(2),x(e.description),a(2),S("",e.points," pts")}}function og(n,t){if(n&1&&(u(0,"div",8)(1,"h1"),l(2,"Achievements"),d(),u(3,"div",43)(4,"h2"),l(5,"Progress Milestones"),d(),B(6,tg,11,7,"div",44,Nt),d(),u(8,"div",45)(9,"h2"),l(10),d(),u(11,"div",46),B(12,ng,10,4,"div",47,Nt),d(),u(14,"h2"),l(15),d(),u(16,"div",46),B(17,ig,10,3,"div",48,Nt),d()()()),n&2){let e=g();a(6),W(e.milestones()),a(4),S("Unlocked (",e.getUnlockedAchievements().length,")"),a(2),W(e.getUnlockedAchievements()),a(3),S("Locked (",e.getLockedAchievements().length,")"),a(2),W(e.getLockedAchievements())}}function rg(n,t){if(n&1&&(u(0,"div",63),l(1),d()),n&2){let e=g().$implicit;a(),S(" Requires: ",e.prerequisite.join(", ")," ")}}function sg(n,t){if(n&1){let e=U();u(0,"div",58)(1,"span",59),l(2),d(),u(3,"div",60)(4,"h3"),l(5),d(),u(6,"p"),l(7),d(),u(8,"div",61),l(9),d(),u(10,"div",62),l(11),d(),y(12,rg,2,1,"div",63),u(13,"button",64),T("click",function(){let o=E(e).$implicit,r=g(2);return O(r.upgradeSkill(o.id))}),l(14),d()()()}if(n&2){let e=t.$implicit,i=g(2);V("unlocked",e.level>0)("maxed",e.level>=e.maxLevel),a(2),x(e.icon),a(3),x(e.name),a(2),x(e.description),a(2),De(" Level ",e.level,"/",e.maxLevel," "),a(2),De(" ",e.effect.type,": +",e.level*e.effect.value*100,"% "),a(),M(e.prerequisite?12:-1),a(),Ae("disabled",!i.canUpgradeSkill(e)),a(),S(" Upgrade (",e.cost," pts) ")}}function ag(n,t){if(n&1&&(u(0,"div",9)(1,"h1"),l(2,"Skill Tree"),d(),u(3,"p",55),l(4,"Upgrade skills using points earned from achievements"),d(),u(5,"div",56),B(6,sg,15,14,"div",57,Nt),d()()),n&2){let e=g();a(6),W(e.skills())}}var Rn=class n{constructor(t){this.achievementService=t;this.achievements=this.achievementService.achievements,this.milestones=this.achievementService.milestones,this.skills=this.achievementService.skills,this.totalPoints=this.achievementService.totalPoints,Ve(()=>{this.sections().flatMap(i=>i.steps).every(i=>i.completed)&&this.achievementService.unlockAchievement("complete_tutorial")})}activeView=w("tutorial");achievements;milestones;skills;totalPoints;sections=w([{id:"basics",name:"Getting Started",steps:[{id:"welcome",title:"Welcome to WebOS",description:"Welcome! This tutorial will help you learn the basics of WebOS.",completed:!1,hints:['Click "Next" to continue'],achievementId:"first_login"},{id:"desktop",title:"Understanding the Desktop",description:"The desktop is your main workspace. You can open applications, manage windows, and access system features.",completed:!1,hints:["Try opening an application from the taskbar"]},{id:"windows",title:"Working with Windows",description:"Windows can be moved, resized, minimized, and closed. Click and drag the title bar to move a window.",action:"Move a window",completed:!1,hints:["Click the title bar and drag","Use the maximize button to expand"]},{id:"taskbar",title:"Using the Taskbar",description:"The taskbar at the bottom shows running applications and provides quick access to common tasks.",completed:!1,hints:["Click icons to launch applications","Right-click for more options"]}]},{id:"apps",name:"Core Applications",steps:[{id:"file-manager",title:"File Manager",description:"The File Manager lets you browse files and folders. You can create, move, copy, and delete items.",action:"Open File Manager",completed:!1,hints:["Use the search to find files quickly","Try switching between list and grid view"]},{id:"terminal",title:"Terminal",description:'The Terminal allows you to execute commands. Type "help" to see available commands.',action:'Open Terminal and type "help"',completed:!1,hints:["Use arrow keys to navigate command history","Press Ctrl+L to clear the screen"]},{id:"text-editor",title:"Text Editor",description:"The Text Editor is for viewing and editing text files. It supports multiple tabs and various file types.",action:"Open Text Editor",completed:!1,hints:['Create new files with the "New" button',"Toggle line numbers and word wrap"]}]},{id:"advanced",name:"Advanced Features",steps:[{id:"task-manager",title:"Task Manager",description:"Monitor running processes, view resource usage, and manage applications.",action:"Open Task Manager",completed:!1,hints:["Sort processes by clicking column headers","Use filters to view specific process types"]},{id:"settings",title:"Settings",description:"Customize WebOS appearance, audio, gameplay, and keybindings.",action:"Open Settings",completed:!1,hints:["Try changing the theme","Adjust volume and difficulty settings"]},{id:"email",title:"Email Client",description:"Read and send emails. In sandbox mode, you will receive contracts and missions here.",action:"Open Email",completed:!1,hints:["Filter emails by category","Reply to or compose new messages"]}]}]);currentSectionIndex=w(0);currentStepIndex=w(0);showHints=w(!1);currentSection=G(()=>this.sections()[this.currentSectionIndex()]);currentStep=G(()=>this.currentSection().steps[this.currentStepIndex()]);progress=G(()=>{let t=this.sections().flatMap(i=>i.steps),e=t.filter(i=>i.completed).length;return Math.round(e/t.length*100)});canGoNext=G(()=>{let t=this.currentSection();return this.currentStepIndex()<t.steps.length-1||this.currentSectionIndex()<this.sections().length-1});canGoPrevious=G(()=>this.currentStepIndex()>0||this.currentSectionIndex()>0);nextStep(){let t=this.currentStep();this.markCurrentStepComplete(),t.achievementId&&this.achievementService.unlockAchievement(t.achievementId);let e=this.currentSection();this.currentStepIndex()<e.steps.length-1?this.currentStepIndex.update(i=>i+1):this.currentSectionIndex()<this.sections().length-1&&(this.currentSectionIndex.update(i=>i+1),this.currentStepIndex.set(0)),this.showHints.set(!1)}previousStep(){if(this.currentStepIndex()>0)this.currentStepIndex.update(t=>t-1);else if(this.currentSectionIndex()>0){this.currentSectionIndex.update(e=>e-1);let t=this.sections()[this.currentSectionIndex()];this.currentStepIndex.set(t.steps.length-1)}this.showHints.set(!1)}goToSection(t){this.currentSectionIndex.set(t),this.currentStepIndex.set(0),this.showHints.set(!1)}goToStep(t){this.currentStepIndex.set(t),this.showHints.set(!1)}markCurrentStepComplete(){let t=this.currentSectionIndex(),e=this.currentStepIndex();this.sections.update(i=>i.map((o,r)=>r===t?I(C({},o),{steps:o.steps.map((s,c)=>c===e?I(C({},s),{completed:!0}):s)}):o))}toggleHints(){this.showHints.update(t=>!t)}resetProgress(){this.sections.update(t=>t.map(e=>I(C({},e),{steps:e.steps.map(i=>I(C({},i),{completed:!1}))}))),this.currentSectionIndex.set(0),this.currentStepIndex.set(0),this.showHints.set(!1)}getSectionProgress(t){let e=this.sections()[t],i=e.steps.filter(o=>o.completed).length;return Math.round(i/e.steps.length*100)}switchView(t){this.activeView.set(t)}getMilestonePercentage(t){return Math.min(Math.round(t.progress/t.target*100),100)}getUnlockedAchievements(){return this.achievements().filter(t=>t.unlocked)}getLockedAchievements(){return this.achievements().filter(t=>!t.unlocked)}canUpgradeSkill(t){return t.level>=t.maxLevel?!1:t.prerequisite?t.prerequisite.every(e=>{let i=this.skills().find(o=>o.id===e);return i&&i.level>0}):!0}upgradeSkill(t){this.achievementService.upgradeSkill(t)}static \u0275fac=function(e){return new(e||n)(Gr($i))};static \u0275cmp=X({type:n,selectors:[["app-tutorial"]],decls:19,vars:12,consts:[[1,"tutorial"],[1,"sidebar"],[1,"header"],[1,"view-tabs"],[1,"tab",3,"click"],[1,"achievements-sidebar"],[1,"skills-sidebar"],[1,"content"],[1,"achievements-content"],[1,"skills-content"],[1,"progress-bar"],[1,"progress-fill"],[1,"progress-text"],[1,"sections"],[1,"section",3,"active"],[1,"reset-button",3,"click"],[1,"section"],[1,"section-button",3,"click"],[1,"section-name"],[1,"section-progress"],[1,"steps"],[1,"step",3,"active","completed"],[1,"step",3,"click"],[1,"step-indicator"],[1,"checkmark"],[1,"number"],[1,"step-title"],[1,"points-display"],[1,"points-icon"],[1,"points-count"],[1,"empty-state"],[1,"step-content"],[1,"empty-icon"],[1,"cta-button",3,"click"],[1,"description"],[1,"action"],[1,"hints-section"],[1,"navigation"],[1,"nav-button","previous",3,"click","disabled"],[1,"step-indicator-text"],[1,"nav-button","next",3,"click","disabled"],[1,"hints-toggle",3,"click"],[1,"hints"],[1,"milestones"],[1,"milestone"],[1,"achievement-list"],[1,"achievements-grid"],[1,"achievement","unlocked"],[1,"achievement","locked"],[1,"milestone-header"],[1,"milestone-progress"],[1,"reward"],[1,"achievement-icon"],[1,"achievement-details"],[1,"achievement-points"],[1,"skill-description"],[1,"skills-grid"],[1,"skill-node",3,"unlocked","maxed"],[1,"skill-node"],[1,"skill-icon"],[1,"skill-details"],[1,"skill-level"],[1,"skill-effect"],[1,"prerequisite"],[1,"upgrade-button",3,"click","disabled"]],template:function(e,i){e&1&&(u(0,"div",0)(1,"aside",1)(2,"div",2)(3,"h2"),l(4,"Tutorial & Progress"),d(),u(5,"nav",3)(6,"button",4),T("click",function(){return i.switchView("tutorial")}),l(7," Tutorial "),d(),u(8,"button",4),T("click",function(){return i.switchView("achievements")}),l(9," Achievements "),d(),u(10,"button",4),T("click",function(){return i.switchView("skills")}),l(11," Skills "),d()()(),y(12,Bm,9,3),y(13,Wm,6,1,"div",5),y(14,qm,6,0,"div",6),d(),u(15,"main",7),y(16,Jm,2,1),y(17,og,19,2,"div",8),y(18,ag,8,0,"div",9),d()()),e&2&&(a(6),V("active",i.activeView()==="tutorial"),a(2),V("active",i.activeView()==="achievements"),a(2),V("active",i.activeView()==="skills"),a(2),M(i.activeView()==="tutorial"?12:-1),a(),M(i.activeView()==="achievements"?13:-1),a(),M(i.activeView()==="skills"?14:-1),a(2),M(i.activeView()==="tutorial"?16:-1),a(),M(i.activeView()==="achievements"?17:-1),a(),M(i.activeView()==="skills"?18:-1))},dependencies:[ee],styles:['@charset "UTF-8";.tutorial[_ngcontent-%COMP%]{display:flex;height:100%;background:#f7f7f7;font-family:Ubuntu,sans-serif}.sidebar[_ngcontent-%COMP%]{width:280px;background:#fff;border-right:1px solid #e0e0e0;display:flex;flex-direction:column;overflow-y:auto}.sidebar[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{padding:20px;background:#f4f4f4;border-bottom:1px solid #e0e0e0}.sidebar[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0 0 15px;font-size:20px;color:#333}.sidebar[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .view-tabs[_ngcontent-%COMP%]{display:flex;gap:5px;margin-bottom:15px}.sidebar[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .view-tabs[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]{flex:1;padding:8px 12px;background:#fff;border:1px solid #e0e0e0;border-radius:4px;cursor:pointer;font-size:13px;transition:all .2s}.sidebar[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .view-tabs[_ngcontent-%COMP%]   .tab[_ngcontent-%COMP%]:hover{background:#f8f8f8}.sidebar[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .view-tabs[_ngcontent-%COMP%]   .tab.active[_ngcontent-%COMP%]{background:#e95420;color:#fff;border-color:#e95420}.sidebar[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{height:8px;background:#e0e0e0;border-radius:4px;overflow:hidden;margin-bottom:8px}.sidebar[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]   .progress-fill[_ngcontent-%COMP%]{height:100%;background:linear-gradient(90deg,#e95420,#f47f57);transition:width .3s ease}.sidebar[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .progress-text[_ngcontent-%COMP%]{font-size:12px;color:#666}.sidebar[_ngcontent-%COMP%]   .sections[_ngcontent-%COMP%]{flex:1;padding:10px 0}.sidebar[_ngcontent-%COMP%]   .section[_ngcontent-%COMP%]{margin-bottom:5px}.sidebar[_ngcontent-%COMP%]   .section.active[_ngcontent-%COMP%]   .section-button[_ngcontent-%COMP%]{background:#f0f0f0;color:#e95420}.sidebar[_ngcontent-%COMP%]   .section[_ngcontent-%COMP%]   .section-button[_ngcontent-%COMP%]{width:100%;padding:12px 20px;background:none;border:none;display:flex;justify-content:space-between;align-items:center;cursor:pointer;transition:background .2s;text-align:left}.sidebar[_ngcontent-%COMP%]   .section[_ngcontent-%COMP%]   .section-button[_ngcontent-%COMP%]:hover{background:#f8f8f8}.sidebar[_ngcontent-%COMP%]   .section[_ngcontent-%COMP%]   .section-button[_ngcontent-%COMP%]   .section-name[_ngcontent-%COMP%]{font-weight:500;color:#333}.sidebar[_ngcontent-%COMP%]   .section[_ngcontent-%COMP%]   .section-button[_ngcontent-%COMP%]   .section-progress[_ngcontent-%COMP%]{font-size:12px;color:#999}.sidebar[_ngcontent-%COMP%]   .section[_ngcontent-%COMP%]   .steps[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.sidebar[_ngcontent-%COMP%]   .section[_ngcontent-%COMP%]   .steps[_ngcontent-%COMP%]   .step[_ngcontent-%COMP%]{padding:10px 20px 10px 40px;display:flex;align-items:center;gap:10px;cursor:pointer;transition:background .2s}.sidebar[_ngcontent-%COMP%]   .section[_ngcontent-%COMP%]   .steps[_ngcontent-%COMP%]   .step[_ngcontent-%COMP%]:hover{background:#f8f8f8}.sidebar[_ngcontent-%COMP%]   .section[_ngcontent-%COMP%]   .steps[_ngcontent-%COMP%]   .step.active[_ngcontent-%COMP%]{background:#fef5f1;color:#e95420;font-weight:500}.sidebar[_ngcontent-%COMP%]   .section[_ngcontent-%COMP%]   .steps[_ngcontent-%COMP%]   .step.completed[_ngcontent-%COMP%]   .step-indicator[_ngcontent-%COMP%]{background:#38a169;color:#fff}.sidebar[_ngcontent-%COMP%]   .section[_ngcontent-%COMP%]   .steps[_ngcontent-%COMP%]   .step[_ngcontent-%COMP%]   .step-indicator[_ngcontent-%COMP%]{width:24px;height:24px;border-radius:50%;background:#e0e0e0;display:flex;align-items:center;justify-content:center;font-size:12px;flex-shrink:0}.sidebar[_ngcontent-%COMP%]   .section[_ngcontent-%COMP%]   .steps[_ngcontent-%COMP%]   .step[_ngcontent-%COMP%]   .step-indicator[_ngcontent-%COMP%]   .checkmark[_ngcontent-%COMP%]{font-weight:700}.sidebar[_ngcontent-%COMP%]   .section[_ngcontent-%COMP%]   .steps[_ngcontent-%COMP%]   .step[_ngcontent-%COMP%]   .step-indicator[_ngcontent-%COMP%]   .number[_ngcontent-%COMP%]{color:#666}.sidebar[_ngcontent-%COMP%]   .section[_ngcontent-%COMP%]   .steps[_ngcontent-%COMP%]   .step[_ngcontent-%COMP%]   .step-title[_ngcontent-%COMP%]{font-size:14px;color:#555}.sidebar[_ngcontent-%COMP%]   .section[_ngcontent-%COMP%]   .steps[_ngcontent-%COMP%]   .step.active[_ngcontent-%COMP%]   .step-title[_ngcontent-%COMP%]{color:#e95420}.sidebar[_ngcontent-%COMP%]   .reset-button[_ngcontent-%COMP%]{margin:10px 20px 20px;padding:10px;background:#fff;border:1px solid #e0e0e0;border-radius:4px;cursor:pointer;transition:all .2s}.sidebar[_ngcontent-%COMP%]   .reset-button[_ngcontent-%COMP%]:hover{background:#f8f8f8;border-color:#ccc}.sidebar[_ngcontent-%COMP%]   .achievements-sidebar[_ngcontent-%COMP%], .sidebar[_ngcontent-%COMP%]   .skills-sidebar[_ngcontent-%COMP%]{flex:1;padding:20px}.sidebar[_ngcontent-%COMP%]   .achievements-sidebar[_ngcontent-%COMP%]   .points-display[_ngcontent-%COMP%], .sidebar[_ngcontent-%COMP%]   .skills-sidebar[_ngcontent-%COMP%]   .points-display[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;padding:15px;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border-radius:8px;margin-bottom:20px}.sidebar[_ngcontent-%COMP%]   .achievements-sidebar[_ngcontent-%COMP%]   .points-display[_ngcontent-%COMP%]   .points-icon[_ngcontent-%COMP%], .sidebar[_ngcontent-%COMP%]   .skills-sidebar[_ngcontent-%COMP%]   .points-display[_ngcontent-%COMP%]   .points-icon[_ngcontent-%COMP%]{font-size:24px}.sidebar[_ngcontent-%COMP%]   .achievements-sidebar[_ngcontent-%COMP%]   .points-display[_ngcontent-%COMP%]   .points-count[_ngcontent-%COMP%], .sidebar[_ngcontent-%COMP%]   .skills-sidebar[_ngcontent-%COMP%]   .points-display[_ngcontent-%COMP%]   .points-count[_ngcontent-%COMP%]{font-size:18px;font-weight:600}.content[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;overflow-y:auto}.content[_ngcontent-%COMP%]   .achievements-content[_ngcontent-%COMP%], .content[_ngcontent-%COMP%]   .skills-content[_ngcontent-%COMP%]{flex:1;padding:40px}.content[_ngcontent-%COMP%]   .achievements-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], .content[_ngcontent-%COMP%]   .skills-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0 0 30px;font-size:32px;color:#333}.content[_ngcontent-%COMP%]   .achievements-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], .content[_ngcontent-%COMP%]   .skills-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:30px 0 15px;font-size:22px;color:#555}.content[_ngcontent-%COMP%]   .achievements-content[_ngcontent-%COMP%]   .skill-description[_ngcontent-%COMP%], .content[_ngcontent-%COMP%]   .skills-content[_ngcontent-%COMP%]   .skill-description[_ngcontent-%COMP%]{color:#666;margin-bottom:30px}.content[_ngcontent-%COMP%]   .achievements-content[_ngcontent-%COMP%]   .milestones[_ngcontent-%COMP%], .content[_ngcontent-%COMP%]   .skills-content[_ngcontent-%COMP%]   .milestones[_ngcontent-%COMP%]{margin-bottom:40px}.content[_ngcontent-%COMP%]   .achievements-content[_ngcontent-%COMP%]   .milestones[_ngcontent-%COMP%]   .milestone[_ngcontent-%COMP%], .content[_ngcontent-%COMP%]   .skills-content[_ngcontent-%COMP%]   .milestones[_ngcontent-%COMP%]   .milestone[_ngcontent-%COMP%]{background:#fff;padding:20px;border-radius:8px;box-shadow:0 2px 4px #0000001a;margin-bottom:15px}.content[_ngcontent-%COMP%]   .achievements-content[_ngcontent-%COMP%]   .milestones[_ngcontent-%COMP%]   .milestone[_ngcontent-%COMP%]   .milestone-header[_ngcontent-%COMP%], .content[_ngcontent-%COMP%]   .skills-content[_ngcontent-%COMP%]   .milestones[_ngcontent-%COMP%]   .milestone[_ngcontent-%COMP%]   .milestone-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:10px}.content[_ngcontent-%COMP%]   .achievements-content[_ngcontent-%COMP%]   .milestones[_ngcontent-%COMP%]   .milestone[_ngcontent-%COMP%]   .milestone-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .content[_ngcontent-%COMP%]   .skills-content[_ngcontent-%COMP%]   .milestones[_ngcontent-%COMP%]   .milestone[_ngcontent-%COMP%]   .milestone-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:18px;color:#333}.content[_ngcontent-%COMP%]   .achievements-content[_ngcontent-%COMP%]   .milestones[_ngcontent-%COMP%]   .milestone[_ngcontent-%COMP%]   .milestone-header[_ngcontent-%COMP%]   .milestone-progress[_ngcontent-%COMP%], .content[_ngcontent-%COMP%]   .skills-content[_ngcontent-%COMP%]   .milestones[_ngcontent-%COMP%]   .milestone[_ngcontent-%COMP%]   .milestone-header[_ngcontent-%COMP%]   .milestone-progress[_ngcontent-%COMP%]{font-size:14px;font-weight:600;color:#e95420}.content[_ngcontent-%COMP%]   .achievements-content[_ngcontent-%COMP%]   .milestones[_ngcontent-%COMP%]   .milestone[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .content[_ngcontent-%COMP%]   .skills-content[_ngcontent-%COMP%]   .milestones[_ngcontent-%COMP%]   .milestone[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 15px;color:#666;font-size:14px}.content[_ngcontent-%COMP%]   .achievements-content[_ngcontent-%COMP%]   .milestones[_ngcontent-%COMP%]   .milestone[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%], .content[_ngcontent-%COMP%]   .skills-content[_ngcontent-%COMP%]   .milestones[_ngcontent-%COMP%]   .milestone[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{height:8px;background:#e0e0e0;border-radius:4px;overflow:hidden;margin-bottom:10px}.content[_ngcontent-%COMP%]   .achievements-content[_ngcontent-%COMP%]   .milestones[_ngcontent-%COMP%]   .milestone[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]   .progress-fill[_ngcontent-%COMP%], .content[_ngcontent-%COMP%]   .skills-content[_ngcontent-%COMP%]   .milestones[_ngcontent-%COMP%]   .milestone[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]   .progress-fill[_ngcontent-%COMP%]{height:100%;background:linear-gradient(90deg,#e95420,#f47f57);transition:width .3s ease}.content[_ngcontent-%COMP%]   .achievements-content[_ngcontent-%COMP%]   .milestones[_ngcontent-%COMP%]   .milestone[_ngcontent-%COMP%]   .reward[_ngcontent-%COMP%], .content[_ngcontent-%COMP%]   .skills-content[_ngcontent-%COMP%]   .milestones[_ngcontent-%COMP%]   .milestone[_ngcontent-%COMP%]   .reward[_ngcontent-%COMP%]{font-size:13px;color:#38a169;font-weight:500}.content[_ngcontent-%COMP%]   .achievements-content[_ngcontent-%COMP%]   .achievements-grid[_ngcontent-%COMP%], .content[_ngcontent-%COMP%]   .skills-content[_ngcontent-%COMP%]   .achievements-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:15px;margin-bottom:30px}.content[_ngcontent-%COMP%]   .achievements-content[_ngcontent-%COMP%]   .achievements-grid[_ngcontent-%COMP%]   .achievement[_ngcontent-%COMP%], .content[_ngcontent-%COMP%]   .skills-content[_ngcontent-%COMP%]   .achievements-grid[_ngcontent-%COMP%]   .achievement[_ngcontent-%COMP%]{display:flex;gap:15px;padding:15px;background:#fff;border-radius:8px;box-shadow:0 2px 4px #0000001a;transition:transform .2s}.content[_ngcontent-%COMP%]   .achievements-content[_ngcontent-%COMP%]   .achievements-grid[_ngcontent-%COMP%]   .achievement[_ngcontent-%COMP%]:hover, .content[_ngcontent-%COMP%]   .skills-content[_ngcontent-%COMP%]   .achievements-grid[_ngcontent-%COMP%]   .achievement[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 8px #00000026}.content[_ngcontent-%COMP%]   .achievements-content[_ngcontent-%COMP%]   .achievements-grid[_ngcontent-%COMP%]   .achievement[_ngcontent-%COMP%]   .achievement-icon[_ngcontent-%COMP%], .content[_ngcontent-%COMP%]   .skills-content[_ngcontent-%COMP%]   .achievements-grid[_ngcontent-%COMP%]   .achievement[_ngcontent-%COMP%]   .achievement-icon[_ngcontent-%COMP%]{font-size:32px;flex-shrink:0}.content[_ngcontent-%COMP%]   .achievements-content[_ngcontent-%COMP%]   .achievements-grid[_ngcontent-%COMP%]   .achievement[_ngcontent-%COMP%]   .achievement-details[_ngcontent-%COMP%], .content[_ngcontent-%COMP%]   .skills-content[_ngcontent-%COMP%]   .achievements-grid[_ngcontent-%COMP%]   .achievement[_ngcontent-%COMP%]   .achievement-details[_ngcontent-%COMP%]{flex:1}.content[_ngcontent-%COMP%]   .achievements-content[_ngcontent-%COMP%]   .achievements-grid[_ngcontent-%COMP%]   .achievement[_ngcontent-%COMP%]   .achievement-details[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .content[_ngcontent-%COMP%]   .skills-content[_ngcontent-%COMP%]   .achievements-grid[_ngcontent-%COMP%]   .achievement[_ngcontent-%COMP%]   .achievement-details[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 5px;font-size:16px;color:#333}.content[_ngcontent-%COMP%]   .achievements-content[_ngcontent-%COMP%]   .achievements-grid[_ngcontent-%COMP%]   .achievement[_ngcontent-%COMP%]   .achievement-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .content[_ngcontent-%COMP%]   .skills-content[_ngcontent-%COMP%]   .achievements-grid[_ngcontent-%COMP%]   .achievement[_ngcontent-%COMP%]   .achievement-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 10px;font-size:13px;color:#666}.content[_ngcontent-%COMP%]   .achievements-content[_ngcontent-%COMP%]   .achievements-grid[_ngcontent-%COMP%]   .achievement[_ngcontent-%COMP%]   .achievement-details[_ngcontent-%COMP%]   .achievement-points[_ngcontent-%COMP%], .content[_ngcontent-%COMP%]   .skills-content[_ngcontent-%COMP%]   .achievements-grid[_ngcontent-%COMP%]   .achievement[_ngcontent-%COMP%]   .achievement-details[_ngcontent-%COMP%]   .achievement-points[_ngcontent-%COMP%]{display:inline-block;padding:4px 8px;background:#e95420;color:#fff;border-radius:4px;font-size:12px;font-weight:600}.content[_ngcontent-%COMP%]   .achievements-content[_ngcontent-%COMP%]   .achievements-grid[_ngcontent-%COMP%]   .achievement.locked[_ngcontent-%COMP%], .content[_ngcontent-%COMP%]   .skills-content[_ngcontent-%COMP%]   .achievements-grid[_ngcontent-%COMP%]   .achievement.locked[_ngcontent-%COMP%]{opacity:.5}.content[_ngcontent-%COMP%]   .achievements-content[_ngcontent-%COMP%]   .achievements-grid[_ngcontent-%COMP%]   .achievement.locked[_ngcontent-%COMP%]   .achievement-details[_ngcontent-%COMP%]   .achievement-points[_ngcontent-%COMP%], .content[_ngcontent-%COMP%]   .skills-content[_ngcontent-%COMP%]   .achievements-grid[_ngcontent-%COMP%]   .achievement.locked[_ngcontent-%COMP%]   .achievement-details[_ngcontent-%COMP%]   .achievement-points[_ngcontent-%COMP%]{background:#999}.content[_ngcontent-%COMP%]   .achievements-content[_ngcontent-%COMP%]   .skills-grid[_ngcontent-%COMP%], .content[_ngcontent-%COMP%]   .skills-content[_ngcontent-%COMP%]   .skills-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(320px,1fr));gap:20px}.content[_ngcontent-%COMP%]   .achievements-content[_ngcontent-%COMP%]   .skills-grid[_ngcontent-%COMP%]   .skill-node[_ngcontent-%COMP%], .content[_ngcontent-%COMP%]   .skills-content[_ngcontent-%COMP%]   .skills-grid[_ngcontent-%COMP%]   .skill-node[_ngcontent-%COMP%]{background:#fff;padding:20px;border-radius:8px;box-shadow:0 2px 4px #0000001a;border:2px solid #e0e0e0;transition:all .2s}.content[_ngcontent-%COMP%]   .achievements-content[_ngcontent-%COMP%]   .skills-grid[_ngcontent-%COMP%]   .skill-node.unlocked[_ngcontent-%COMP%], .content[_ngcontent-%COMP%]   .skills-content[_ngcontent-%COMP%]   .skills-grid[_ngcontent-%COMP%]   .skill-node.unlocked[_ngcontent-%COMP%]{border-color:#e95420}.content[_ngcontent-%COMP%]   .achievements-content[_ngcontent-%COMP%]   .skills-grid[_ngcontent-%COMP%]   .skill-node.maxed[_ngcontent-%COMP%], .content[_ngcontent-%COMP%]   .skills-content[_ngcontent-%COMP%]   .skills-grid[_ngcontent-%COMP%]   .skill-node.maxed[_ngcontent-%COMP%]{border-color:#38a169;background:linear-gradient(135deg,#f0fff4 0% 100%)}.content[_ngcontent-%COMP%]   .achievements-content[_ngcontent-%COMP%]   .skills-grid[_ngcontent-%COMP%]   .skill-node[_ngcontent-%COMP%]   .skill-icon[_ngcontent-%COMP%], .content[_ngcontent-%COMP%]   .skills-content[_ngcontent-%COMP%]   .skills-grid[_ngcontent-%COMP%]   .skill-node[_ngcontent-%COMP%]   .skill-icon[_ngcontent-%COMP%]{font-size:40px;display:block;margin-bottom:15px}.content[_ngcontent-%COMP%]   .achievements-content[_ngcontent-%COMP%]   .skills-grid[_ngcontent-%COMP%]   .skill-node[_ngcontent-%COMP%]   .skill-details[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .content[_ngcontent-%COMP%]   .skills-content[_ngcontent-%COMP%]   .skills-grid[_ngcontent-%COMP%]   .skill-node[_ngcontent-%COMP%]   .skill-details[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 10px;font-size:18px;color:#333}.content[_ngcontent-%COMP%]   .achievements-content[_ngcontent-%COMP%]   .skills-grid[_ngcontent-%COMP%]   .skill-node[_ngcontent-%COMP%]   .skill-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .content[_ngcontent-%COMP%]   .skills-content[_ngcontent-%COMP%]   .skills-grid[_ngcontent-%COMP%]   .skill-node[_ngcontent-%COMP%]   .skill-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0 0 15px;font-size:14px;color:#666;line-height:1.5}.content[_ngcontent-%COMP%]   .achievements-content[_ngcontent-%COMP%]   .skills-grid[_ngcontent-%COMP%]   .skill-node[_ngcontent-%COMP%]   .skill-details[_ngcontent-%COMP%]   .skill-level[_ngcontent-%COMP%], .content[_ngcontent-%COMP%]   .skills-content[_ngcontent-%COMP%]   .skills-grid[_ngcontent-%COMP%]   .skill-node[_ngcontent-%COMP%]   .skill-details[_ngcontent-%COMP%]   .skill-level[_ngcontent-%COMP%]{font-size:13px;color:#999;margin-bottom:5px}.content[_ngcontent-%COMP%]   .achievements-content[_ngcontent-%COMP%]   .skills-grid[_ngcontent-%COMP%]   .skill-node[_ngcontent-%COMP%]   .skill-details[_ngcontent-%COMP%]   .skill-effect[_ngcontent-%COMP%], .content[_ngcontent-%COMP%]   .skills-content[_ngcontent-%COMP%]   .skills-grid[_ngcontent-%COMP%]   .skill-node[_ngcontent-%COMP%]   .skill-details[_ngcontent-%COMP%]   .skill-effect[_ngcontent-%COMP%]{font-size:14px;color:#e95420;font-weight:500;margin-bottom:10px}.content[_ngcontent-%COMP%]   .achievements-content[_ngcontent-%COMP%]   .skills-grid[_ngcontent-%COMP%]   .skill-node[_ngcontent-%COMP%]   .skill-details[_ngcontent-%COMP%]   .prerequisite[_ngcontent-%COMP%], .content[_ngcontent-%COMP%]   .skills-content[_ngcontent-%COMP%]   .skills-grid[_ngcontent-%COMP%]   .skill-node[_ngcontent-%COMP%]   .skill-details[_ngcontent-%COMP%]   .prerequisite[_ngcontent-%COMP%]{font-size:12px;color:#999;margin-bottom:15px}.content[_ngcontent-%COMP%]   .achievements-content[_ngcontent-%COMP%]   .skills-grid[_ngcontent-%COMP%]   .skill-node[_ngcontent-%COMP%]   .skill-details[_ngcontent-%COMP%]   .upgrade-button[_ngcontent-%COMP%], .content[_ngcontent-%COMP%]   .skills-content[_ngcontent-%COMP%]   .skills-grid[_ngcontent-%COMP%]   .skill-node[_ngcontent-%COMP%]   .skill-details[_ngcontent-%COMP%]   .upgrade-button[_ngcontent-%COMP%]{width:100%;padding:10px;background:#e95420;color:#fff;border:none;border-radius:4px;cursor:pointer;font-weight:500;transition:background .2s}.content[_ngcontent-%COMP%]   .achievements-content[_ngcontent-%COMP%]   .skills-grid[_ngcontent-%COMP%]   .skill-node[_ngcontent-%COMP%]   .skill-details[_ngcontent-%COMP%]   .upgrade-button[_ngcontent-%COMP%]:hover:not(:disabled), .content[_ngcontent-%COMP%]   .skills-content[_ngcontent-%COMP%]   .skills-grid[_ngcontent-%COMP%]   .skill-node[_ngcontent-%COMP%]   .skill-details[_ngcontent-%COMP%]   .upgrade-button[_ngcontent-%COMP%]:hover:not(:disabled){background:#d64813}.content[_ngcontent-%COMP%]   .achievements-content[_ngcontent-%COMP%]   .skills-grid[_ngcontent-%COMP%]   .skill-node[_ngcontent-%COMP%]   .skill-details[_ngcontent-%COMP%]   .upgrade-button[_ngcontent-%COMP%]:disabled, .content[_ngcontent-%COMP%]   .skills-content[_ngcontent-%COMP%]   .skills-grid[_ngcontent-%COMP%]   .skill-node[_ngcontent-%COMP%]   .skill-details[_ngcontent-%COMP%]   .upgrade-button[_ngcontent-%COMP%]:disabled{background:#ccc;cursor:not-allowed}.content[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:16px;padding:4rem 2rem;min-height:400px}.content[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]{font-size:5rem;opacity:.8}.content[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.5rem;color:#333}.content[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:1rem;color:#666;text-align:center;max-width:400px;line-height:1.5}.content[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .cta-button[_ngcontent-%COMP%]{margin-top:8px;padding:12px 24px;background-color:#e95420;color:#fff;border:none;border-radius:4px;cursor:pointer;font-size:1rem;font-weight:600;transition:all .2s}.content[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .cta-button[_ngcontent-%COMP%]:hover{background-color:#d64813;transform:scale(1.05)}.content[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   .cta-button[_ngcontent-%COMP%]:active{transform:scale(.98)}.content[_ngcontent-%COMP%]   .step-content[_ngcontent-%COMP%]{flex:1;padding:40px;max-width:800px}.content[_ngcontent-%COMP%]   .step-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0 0 20px;font-size:32px;color:#333}.content[_ngcontent-%COMP%]   .step-content[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{font-size:16px;line-height:1.6;color:#555;margin-bottom:20px}.content[_ngcontent-%COMP%]   .step-content[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%]{padding:15px;background:#fff3cd;border-left:4px solid #e95420;margin-bottom:20px;border-radius:4px}.content[_ngcontent-%COMP%]   .step-content[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#e95420}.content[_ngcontent-%COMP%]   .step-content[_ngcontent-%COMP%]   .hints-section[_ngcontent-%COMP%]{margin-top:30px}.content[_ngcontent-%COMP%]   .step-content[_ngcontent-%COMP%]   .hints-section[_ngcontent-%COMP%]   .hints-toggle[_ngcontent-%COMP%]{padding:10px 20px;background:#e95420;color:#fff;border:none;border-radius:4px;cursor:pointer;font-weight:500;transition:background .2s}.content[_ngcontent-%COMP%]   .step-content[_ngcontent-%COMP%]   .hints-section[_ngcontent-%COMP%]   .hints-toggle[_ngcontent-%COMP%]:hover{background:#d64813}.content[_ngcontent-%COMP%]   .step-content[_ngcontent-%COMP%]   .hints-section[_ngcontent-%COMP%]   .hints[_ngcontent-%COMP%]{margin-top:15px;padding:20px;background:#fff;border:1px solid #e0e0e0;border-radius:4px;list-style:none}.content[_ngcontent-%COMP%]   .step-content[_ngcontent-%COMP%]   .hints-section[_ngcontent-%COMP%]   .hints[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:8px 0 8px 24px;position:relative;color:#555}.content[_ngcontent-%COMP%]   .step-content[_ngcontent-%COMP%]   .hints-section[_ngcontent-%COMP%]   .hints[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:before{content:"\\1f4a1";position:absolute;left:0}.content[_ngcontent-%COMP%]   .step-content[_ngcontent-%COMP%]   .hints-section[_ngcontent-%COMP%]   .hints[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:not(:last-child){border-bottom:1px solid #f0f0f0}.content[_ngcontent-%COMP%]   .navigation[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:20px 40px;background:#fff;border-top:1px solid #e0e0e0}.content[_ngcontent-%COMP%]   .navigation[_ngcontent-%COMP%]   .step-indicator-text[_ngcontent-%COMP%]{font-size:14px;color:#666}.content[_ngcontent-%COMP%]   .navigation[_ngcontent-%COMP%]   .nav-button[_ngcontent-%COMP%]{padding:10px 24px;background:#e95420;color:#fff;border:none;border-radius:4px;cursor:pointer;font-weight:500;transition:background .2s}.content[_ngcontent-%COMP%]   .navigation[_ngcontent-%COMP%]   .nav-button[_ngcontent-%COMP%]:hover:not(:disabled){background:#d64813}.content[_ngcontent-%COMP%]   .navigation[_ngcontent-%COMP%]   .nav-button[_ngcontent-%COMP%]:disabled{background:#ccc;cursor:not-allowed}.content[_ngcontent-%COMP%]   .navigation[_ngcontent-%COMP%]   .nav-button.previous[_ngcontent-%COMP%]{background:#fff;color:#e95420;border:1px solid #e95420}.content[_ngcontent-%COMP%]   .navigation[_ngcontent-%COMP%]   .nav-button.previous[_ngcontent-%COMP%]:hover:not(:disabled){background:#fef5f1}.content[_ngcontent-%COMP%]   .navigation[_ngcontent-%COMP%]   .nav-button.previous[_ngcontent-%COMP%]:disabled{background:#f8f8f8;color:#ccc;border-color:#ccc}']})};var Vi=class n{keybindings=w(new Map);registerKeybinding(t,e,i){let o=this.normalizeKeys(e),r=Array.from(this.keybindings().values()).find(s=>this.normalizeKeys(s.keys)===o);r&&r.action!==t&&console.warn(`Keybinding conflict: ${e} is already bound to ${r.action}`),this.keybindings.update(s=>{let c=new Map(s);return c.set(t,{action:t,keys:e,handler:i}),c})}unregisterKeybinding(t){this.keybindings.update(e=>{let i=new Map(e);return i.delete(t),i})}handleKeyEvent(t){let e=this.getKeysFromEvent(t);for(let i of this.keybindings().values()){let o=this.normalizeKeys(i.keys);if(e===o)return t.preventDefault(),i.handler(),!0}return!1}getKeysFromEvent(t){let e=[];t.ctrlKey&&e.push("Ctrl"),t.altKey&&e.push("Alt"),t.shiftKey&&e.push("Shift"),t.metaKey&&e.push("Super");let i=t.key;return i==="ArrowUp"?e.push("Up"):i==="ArrowDown"?e.push("Down"):i==="Delete"?e.push("Delete"):i.startsWith("F")&&i.length>=2?e.push(i):i==="PrintScreen"?e.push("Print Screen"):["Control","Alt","Shift","Meta"].includes(i)||e.push(i.toUpperCase()),this.normalizeKeys(e.join("+"))}normalizeKeys(t){return t.split("+").map(e=>e.trim()).filter(e=>e.length>0).map(e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()).sort().join("+")}getKeybindings(){return Array.from(this.keybindings().values())}hasConflicts(){let t=new Map;for(let e of this.keybindings().values()){let i=this.normalizeKeys(e.keys);t.has(i)||t.set(i,[]),t.get(i).push(e.action)}return Array.from(t.values()).some(e=>e.length>1)}getConflicts(){let t=new Map;for(let e of this.keybindings().values()){let i=this.normalizeKeys(e.keys);t.has(i)||t.set(i,[]),t.get(i).push(e.action)}return Array.from(t.entries()).filter(([e,i])=>i.length>1).map(([e,i])=>({keys:e,actions:i}))}static \u0275fac=function(e){return new(e||n)};static \u0275prov=L({token:n,factory:n.\u0275fac,providedIn:"root"})};function cg(n,t){if(n&1){let e=U();f(0,"app-login",0),A("login",function(o){E(e);let r=g();return O(r.onLogin(o))}),v()}}function lg(n,t){if(n&1){let e=U();f(0,"a",1),l(1,"Skip to main content"),v(),$(2,"app-desktop",2)(3,"app-window-manager"),f(4,"app-taskbar",3),A("logout",function(){E(e);let o=g();return O(o.onLogout())}),v(),$(5,"app-notification")}if(n&2){let e,i=g();a(4),Q("username",((e=i.authService.user())==null?null:e.username)||"")}}var Hi=class n{desktop;windowManager;taskbar;authService=_(Ts);fileSystem=_(mt);saveService=_(Ss);keybindingService=_(Vi);title=w("webos");isAuthenticated=this.authService.isAuthenticated;ngAfterViewInit(){this.setupDesktopIcons(),this.setupLauncherApps(),this.setupKeybindings()}onKeyDown(t){this.isAuthenticated()&&this.keybindingService.handleKeyEvent(t)}setupDesktopIcons(){this.desktop&&this.windowManager&&(this.desktop.setWindowManager(this.windowManager),this.desktop.addIcon("Terminal","terminal",()=>{this.windowManager.openWindow("Terminal",Yn,800,600,"terminal")}),this.desktop.addIcon("Email","mail",()=>{this.windowManager.openWindow("Email",Tn,800,600,"mail")}),this.desktop.addIcon("Network","network",()=>{this.windowManager.openWindow("Network",kn,900,700,"grid")}),this.desktop.addIcon("Files","folder",()=>{this.windowManager.openWindow("Files",Gn,700,500,"folder")}),this.desktop.addIcon("Text Editor","edit",()=>{this.windowManager.openWindow("Text Editor",Kn,700,500,"file")}),this.desktop.addIcon("Tasks","chart-bar",()=>{this.windowManager.openWindow("Tasks",Dt,800,600,"list")}),this.desktop.addIcon("Shop","shopping-cart",()=>{this.windowManager.openWindow("Shop",In,700,600,"home")}),this.desktop.addIcon("Tutorial","book",()=>{this.windowManager.openWindow("Tutorial",Rn,800,600,"search")}),this.desktop.addIcon("Settings","settings",()=>{this.windowManager.openWindow("Settings",so,800,600,"settings")}))}setupLauncherApps(){this.taskbar&&this.windowManager&&(this.taskbar.registerLauncherApp("Terminal","terminal",()=>{this.windowManager.openWindow("Terminal",Yn,800,600,"terminal")},"Ctrl+Alt+T"),this.taskbar.registerLauncherApp("Email","mail",()=>{this.windowManager.openWindow("Email",Tn,800,600,"mail")}),this.taskbar.registerLauncherApp("Network","activity",()=>{this.windowManager.openWindow("Network",kn,900,700,"activity")}),this.taskbar.registerLauncherApp("Files","folder",()=>{this.windowManager.openWindow("Files",Gn,700,500,"folder")},"Win+E"),this.taskbar.registerLauncherApp("Text Editor","edit",()=>{this.windowManager.openWindow("Text Editor",Kn,700,500,"edit")},"Ctrl+Alt+E"),this.taskbar.registerLauncherApp("Tasks","cpu",()=>{this.windowManager.openWindow("Tasks",Dt,800,600,"cpu")},"Ctrl+Alt+Del"),this.taskbar.registerLauncherApp("Shop","shopping-cart",()=>{this.windowManager.openWindow("Shop",In,700,600,"shopping-cart")}),this.taskbar.registerLauncherApp("Tutorial","book",()=>{this.windowManager.openWindow("Tutorial",Rn,800,600,"book")}),this.taskbar.registerLauncherApp("Settings","settings",()=>{this.windowManager.openWindow("Settings",so,800,600,"settings")}))}setupKeybindings(){this.windowManager&&(this.keybindingService.registerKeybinding("Open Terminal","Ctrl+Alt+T",()=>{this.windowManager.openWindow("Terminal",Yn,800,600,"terminal")}),this.keybindingService.registerKeybinding("Open File Manager","Super+E",()=>{this.windowManager.openWindow("File Manager",Gn,700,500,"folder")}),this.keybindingService.registerKeybinding("Open Text Editor","Ctrl+Alt+E",()=>{this.windowManager.openWindow("Text Editor",Kn,700,500,"file")}),this.keybindingService.registerKeybinding("Open Task Manager","Ctrl+Alt+Delete",()=>{this.windowManager.openWindow("Task Manager",Dt,800,600,"list")}),this.keybindingService.registerKeybinding("Close Window","Alt+F4",()=>{this.windowManager.closeFocusedWindow()}),this.keybindingService.registerKeybinding("Maximize Window","Super+Up",()=>{this.windowManager.maximizeFocusedWindow()}),this.keybindingService.registerKeybinding("Minimize Window","Super+Down",()=>{this.windowManager.minimizeFocusedWindow()}))}onLogin(t){return ie(this,null,function*(){if(t.isGuest)yield this.authService.loginAsGuest();else{let i=yield this.authService.loginWithCredentials(t.username,t.password);if(!i.success){console.error("Login failed:",i.error);return}}let e=this.authService.user();e&&(this.fileSystem.setCurrentUser(e.username),this.saveService.setCurrentUser(e.username),yield this.saveService.load()),setTimeout(()=>this.setupDesktopIcons(),0),setTimeout(()=>this.setupLauncherApps(),0)})}onLogout(){return ie(this,null,function*(){yield this.saveService.save(),yield this.authService.logout()})}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=X({type:n,selectors:[["app-root"]],viewQuery:function(e,i){if(e&1&&(Fn(On,5),Fn(Sn,5),Fn(Pn,5)),e&2){let o;zn(o=Un())&&(i.desktop=o.first),zn(o=Un())&&(i.windowManager=o.first),zn(o=Un())&&(i.taskbar=o.first)}},hostBindings:function(e,i){e&1&&A("keydown",function(r){return i.onKeyDown(r)},Hr)},decls:3,vars:1,consts:[[3,"login"],["href","#main-content",1,"skip-to-content"],["id","main-content"],[3,"logout","username"]],template:function(e,i){e&1&&(y(0,cg,1,0,"app-login")(1,lg,6,1),$(2,"router-outlet")),e&2&&M(i.isAuthenticated()?1:0)},dependencies:[fn,On,Pn,Sn,Li,Fi],styles:[".skip-to-content[_ngcontent-%COMP%]{position:absolute;left:-9999px;top:0;z-index:999;padding:1em;background:var(--primary-color, #0078d4);color:#fff;text-decoration:none;font-weight:700;border-radius:0 0 4px}.skip-to-content[_ngcontent-%COMP%]:focus{left:0}"]})};ho(Hi,Tc).catch(n=>console.error(n));
